<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>



        
                <title>GameProgrammer.org</title>
                <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
                <meta name="description" content="Here you can find some of tutorials and sample codes about Game programming and real time rendering. The website also contains my blog and personal homepage.">
                <meta name="keywords" content="Vahid Kazemi KTH Game Programming Direct3D OpenGL Computer Graphics 3D 2D Tutorials">
                <link rel="shortcut icon" href="http://www.gameporgammer.org/favicon.ico">
                <meta http-equiv="Content-Style-Type" content="text/css">
                <link rel="stylesheet" href="Using%20Textures_files/style.css" type="text/css">
				<link rel="alternate" type="application/rss+xml" href="http://www.gameprogrammer.org/blog.rss.php" title="Vahid Kazemi's blog">
        <style>.gc-bubbleDefault{text-align:left;padding:0 !important;margin:0 !important;border:0 !important}.gc-reset{margin:0 !important;border:0 !important;padding:0 !important}.pls-bubbleTop{border-bottom:1px solid #aaa}.pls-topTail{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border.gif") repeat-x;background-position:bottom}.pls-vertShim{background:#fff;text-align:right}.pls-vertShimLeft{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border.gif") repeat-y;background-position:right}.pls-confirm-container .pls-vertShim{background-color:#fff3c2}.pls-contentWrap{background:#fff}.pls-contentLeft{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border.gif") repeat-y;background-position:right;vertical-align:top}.pls-dropRight{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropR.png") repeat-y;vertical-align:top}.pls-dropBottomL,.pls-dropBottom{vertical-align:top}.pls-dropBottomR{vertical-align:top}.pls-dropBottom{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropB.png") repeat-x;width:100%}.pls-topLeft{text-align:right;vertical-align:bottom}.pls-topRight{text-align:left;vertical-align:bottom}.pls-bottomLeft{text-align:right}.pls-bottomRight{text-align:left;vertical-align:top}.pls-tailtop,.pls-tailright,.pls-tailbottom,.pls-tailleft{display:none;position:relative}.pls-tailbottom{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/topTail.png") no-repeat}.pls-confirm-container .pls-tailbottom{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/topTailConfirm.png") no-repeat}.pls-tailtop{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bottomTail.png") no-repeat}.pls-tailright{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/leftTail.png") no-repeat}.pls-tailleft{background:url("https://ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/rightTail.png") no-repeat}.pls-tailtop{vertical-align:top}.gc-bubbleDefault td{line-height:1px;font-size:1px}.pls-topLeft img,.pls-topRight img,.pls-tailbottom{vertical-align:bottom}.pls-bottomLeft img,.bubbleDropTR,.pls-dropBottomL img,.pls-dropBottom img,.pls-dropBottomR img,.pls-bottomLeft{vertical-align:top}</style></head><body>

		
			<table style="width: 1000px; background-color: rgb(255, 255, 255);" align="center" cellpadding="0" cellspacing="0">
			<tbody><tr><td>
                

                <table style="width: 100%; height: 60px; background-image: url(&quot;images/gameprog_02.gif&quot;);" cellpadding="0" cellspacing="0">
                        <tbody><tr>
                            <td align="left"><img alt="GameProgrammer.org" src="Using%20Textures_files/gameprog_01.gif" width="375"></td>
            				<td style="width: 100%;" align="center" width="100%">
							
<a href="http://ax.itunes.apple.com/us/app/float-snake/id383028035?mt=8"><img src="Using%20Textures_files/fsbanner.jpg"></a>
							
							</td>
                        </tr>
                </tbody></table>

                

                <table style="width: 100%; height: 40px; background-image: url(&quot;images/gameprog_10.gif&quot;);" cellpadding="0" cellspacing="0">
                        <tbody><tr>
							<td align="left" width="200pt"> 
							|<a href="http://www.gameprogrammer.org/main.php?page=tutorials"> Tutorials </a> | 
							<a href="http://www.gameprogrammer.org/main.php?page=codes"> Codes </a> | 
							<a href="http://www.gameprogrammer.org/main.php?page=links"> Resources </a> | 
							<a href="http://www.gameprogrammer.org/main.php?page=blog"> Blog </a> | 
							<a href="http://www.gameprogrammer.org/main.php?page=me"> About </a>|
							</td>
							
							<td style="width: 200pt;" align="right" valign="bottom">
								<form action="http://www.gameprogrammer.org/search.php" id="cse-search-box">
								  <div>
									<input name="cx" value="partner-pub-3647990477111184:8o0y7i-wm8i" type="hidden">
									<input name="cof" value="FORID:10" type="hidden">
									<input name="ie" value="UTF-8" type="hidden">
									<input style="border: 1px solid rgb(126, 157, 185); padding: 2px; background: url(&quot;http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif&quot;) no-repeat scroll left center rgb(255, 255, 255);" name="q" size="31" type="text">
									<input name="sa" value="Search" type="submit">
								  </div>
								<input value="www.gameprogrammer.org/main.php?page=tutorials&amp;no=36" name="siteurl" type="hidden"></form>
								<script type="text/javascript" src="Using%20Textures_files/brand"></script>
							</td>					
						</tr>
                </tbody></table>

    			

    			<table style="width: 100%; height: 6px; background-image: url(&quot;images/gameprog_13.gif&quot;);" cellpadding="0" cellspacing="0"><tbody><tr><td></td></tr></tbody></table>

                

                <table cellpadding="0" cellspacing="0" width="100%">

                        <tbody><tr>

                                <td class="x3dmain" valign="top" width="100%">

                                <table class="x3dmaintable" cellpadding="5" width="100%">
<tbody><tr><td class="x3dmaintitle">Using Textures</td></tr>		
<tr><td><table align="right" border="0"><tbody><tr><td>	

<script type="text/javascript"><!--
google_ad_client = "pub-3647990477111184";
/* 336x280, created 7/21/09 */
google_ad_slot = "3750654018";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript" src="Using%20Textures_files/show_ads.js">
</script><script src="Using%20Textures_files/show_ads_impl.js"></script><script src="Using%20Textures_files/gcm_66a225a4a9849ebff5b9f77536ce7311.js"></script><script src="Using%20Textures_files/expansion_embed.js"></script><script src="Using%20Textures_files/test_domain.js"></script><script>google_protectAndRun("ads_core.google_render_ad", google_handleError, google_render_ad);</script><ins style="display: inline-table; border: medium none; height: 280px; margin: 0pt; padding: 0pt; position: relative; visibility: visible; width: 336px;"><ins id="google_ads_frame1_anchor" style="display: block; border: medium none; height: 280px; margin: 0pt; padding: 0pt; position: relative; visibility: visible; width: 336px;"><iframe allowtransparency="true" hspace="0" id="google_ads_frame1" marginheight="0" marginwidth="0" name="google_ads_frame1" src="Using%20Textures_files/ads.htm" style="left: 0pt; position: absolute; top: 0pt;" tabindex="-1" vspace="0" width="336" frameborder="0" height="280" scrolling="no"></iframe></ins></ins>

</td></tr></tbody></table>
Textures are one of the most exciting parts of computer graphics that 
add a great deal of realism to your scenes. In this tutorial we are 
going to learn how to use textures in Direct3D.

<p><table class="x3dcode"><tbody><tr><td>#include &lt;windows.h&gt; 
<br>#include &lt;d3d8.h&gt; 
<br>#include &lt;d3dx8.h&gt; 
<br>
<br>HWND hWnd; 
<br>LPDIRECT3D8 pD3D; 
<br>LPDIRECT3DDEVICE8 pDevice; 
<br>LPDIRECT3DVERTEXBUFFER8 pVB; 
<br>LPDIRECT3DTEXTURE8 pTexture;
<br>
<br>struct CUSTOMVERTEX 
<br>{ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;FLOAT x, y, z; // The untransformed position for the vertex 
<br>&nbsp;&nbsp;&nbsp;&nbsp;DWORD color; // The vertex color 
<br>&nbsp;&nbsp;&nbsp;&nbsp;FLOAT tu, tv;   // The texture coordinates
<br>}; 
<br>
<br>#define D3DFVF_CUSTOMVERTEX (D3DFVF_XYZ|D3DFVF_DIFFUSE|D3DFVF_TEX1) 
<br>
<br>LRESULT CALLBACK WndProc( HWND hWnd , UINT message , WPARAM wParam , LPARAM lParam)
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;switch(message){ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;case WM_CLOSE: 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PostQuitMessage(0); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;} 
<br>&nbsp;&nbsp;&nbsp;&nbsp;return DefWindowProc(hWnd,message,wParam,lParam); 
<br>} 
<br>
<br>bool CreateSimpWindow(int width, int height)
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;// Create A Window Class Structure 
<br>&nbsp;&nbsp;&nbsp;&nbsp;WNDCLASSEX wc; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.cbClsExtra = 0; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.cbSize = sizeof(wc); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.cbWndExtra = 0; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.hbrBackground = NULL; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.hCursor = NULL; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.hIcon = NULL; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.hIconSm = NULL; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.hInstance = GetModuleHandle(NULL); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.lpfnWndProc = WndProc; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.lpszClassName = "VK3D"; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.lpszMenuName = NULL; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;wc.style = CS_VREDRAW|CS_HREDRAW|CS_OWNDC; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;// Register Window Class 
<br>&nbsp;&nbsp;&nbsp;&nbsp;RegisterClassEx(&amp;wc); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;// Create Window 
<br>&nbsp;&nbsp;&nbsp;&nbsp;hWnd = CreateWindowEx(0, 
<br>&nbsp;&nbsp;&nbsp;&nbsp;"VK3D", "GameProgrammer.org Tutorials", 
<br>&nbsp;&nbsp;&nbsp;&nbsp;WS_OVERLAPPEDWINDOW|WS_VISIBLE, 100,100,width,height, 
<br>&nbsp;&nbsp;&nbsp;&nbsp;NULL,NULL,wc.hInstance,0); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;return true; 
<br>} 
<br>
<br>bool InitD3D()
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;if((pD3D = Direct3DCreate8(D3D_SDK_VERSION))==NULL){ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;}
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DDISPLAYMODE d3ddm; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pD3D-&gt;GetAdapterDisplayMode(D3DADAPTER_DEFAULT, &amp;d3ddm); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DPRESENT_PARAMETERS d3dpp; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;ZeroMemory(&amp;d3dpp, sizeof(d3dpp)); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;d3dpp.BackBufferFormat = d3ddm.Format; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;d3dpp.Windowed = true; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;d3dpp.SwapEffect = D3DSWAPEFFECT_DISCARD; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;if(FAILED(pD3D-&gt;CreateDevice( D3DADAPTER_DEFAULT, D3DDEVTYPE_HAL, 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hWnd, D3DCREATE_SOFTWARE_VERTEXPROCESSING, &amp;d3dpp, &amp;pDevice))){ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;} 
<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;if(FAILED(D3DXCreateTextureFromFile(pDevice, "texture.bmp", &amp;pTexture))){
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false;
<br>&nbsp;&nbsp;&nbsp;&nbsp;}
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetRenderState( D3DRS_CULLMODE, D3DCULL_NONE ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetRenderState( D3DRS_LIGHTING, FALSE ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetRenderState( D3DRS_ZENABLE, TRUE ); 
<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;CUSTOMVERTEX g_Vertices[] = 
<br>&nbsp;&nbsp;&nbsp;&nbsp;{ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ -1.0f, 1.0f, 0.0f, 0xffff0000, 0,0}, // x, y, z, color, tu, tv 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ 1.0f, 1.0f, 0.0f, 0xffff0000, 1,0},
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ -1.0f, -1.0f, 0.0f, 0xff00ffff, 0,1}, 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ 1.0f, -1.0f, 0.0f, 0xff00ff00, 1,1},
<br>&nbsp;&nbsp;&nbsp;&nbsp;}; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if( FAILED(pDevice-&gt;CreateVertexBuffer( 4*sizeof(CUSTOMVERTEX), 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0, D3DFVF_CUSTOMVERTEX, 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D3DPOOL_DEFAULT, &amp;pVB ) ) ) 
<br>&nbsp;&nbsp;&nbsp;&nbsp;{ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;} 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;VOID* pVertices; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;if(FAILED(pVB-&gt;Lock(0, sizeof(g_Vertices), (BYTE**)&amp;pVertices, 0))) 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;memcpy( pVertices, g_Vertices, sizeof(g_Vertices) ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pVB-&gt;Unlock(); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;return true; 
<br>} 
<br>
<br>void RenderD3DScene()
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;Clear(0,NULL,D3DCLEAR_TARGET,0,1,0); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;BeginScene(); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DXMATRIX matView; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DXMatrixLookAtLH( &amp;matView, &amp;D3DXVECTOR3( 0.0f, 3.0f,-10.0f ), 
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DXVECTOR3( 0.0f, 0.0f, 0.0f ), 
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DXVECTOR3( 0.0f, 1.0f, 0.0f ) ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetTransform( D3DTS_VIEW, &amp;matView ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DXMATRIX matProj; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DXMatrixPerspectiveFovLH(&amp;matProj, D3DX_PI/4, 1.0f, 1.0f, 100.0f); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetTransform( D3DTS_PROJECTION, &amp;matProj ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DXMATRIX matWorld; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;D3DXMatrixRotationY( &amp;matWorld, timeGetTime()/1000.0f ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetTransform( D3DTS_WORLD, &amp;matWorld ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetStreamSource( 0, pVB, sizeof(CUSTOMVERTEX) ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetVertexShader( D3DFVF_CUSTOMVERTEX ); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;DrawPrimitive( D3DPT_TRIANGLESTRIP, 0, 2 ); 
<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;SetTexture( 0, pTexture );
<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;EndScene(); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;pDevice-&gt;Present(NULL,NULL,NULL,NULL); 
<br>} 
<br>
<br>void MessageLoop()
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;MSG msg; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;while(true){ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;       RenderD3DScene();
<br>&nbsp;&nbsp;&nbsp;&nbsp;       if(PeekMessage(&amp;msg,hWnd,0,0,PM_REMOVE)){ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(msg.message==WM_QUIT)return; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TranslateMessage(&amp;msg); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DispatchMessage(&amp;msg); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;       } 
<br>&nbsp;&nbsp;&nbsp;&nbsp;} 
<br>} 
<br>
<br>INT WINAPI WinMain( HINSTANCE , HINSTANCE , LPSTR , INT )
<br>{ &nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if(!CreateSimpWindow(400, 400))return 1; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;if(!InitD3D())return 2; 
<br>&nbsp;&nbsp;&nbsp;&nbsp;MessageLoop(); 
<br>&nbsp;&nbsp;&nbsp;&nbsp;return 0; 
<br>}</td></tr></tbody></table><br>

Compile the code and you will see a textured quad that is rotating. First difference is where we defined pTexture:

</p><p><table class="x3dcode"><tbody><tr><td>LPDIRECT3DTEXTURE8 pTexture;</td></tr></tbody></table><br>

pTexture is a pointer to the IDirect3DTexture8 interface which holds 
texture data. following the code you may find out a new vertex format:

</p><p><table class="x3dcode"><tbody><tr><td>struct CUSTOMVERTEX 
<br>{ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;FLOAT x, y, z; // The untransformed position for the vertex 
<br>&nbsp;&nbsp;&nbsp;&nbsp;DWORD color; // The vertex color 
<br>&nbsp;&nbsp;&nbsp;&nbsp;FLOAT tu, tv;   // The texture coordinates
<br>}; 
<br>#define D3DFVF_CUSTOMVERTEX (D3DFVF_XYZ|D3DFVF_DIFFUSE|D3DFVF_TEX1) 
<br></td></tr></tbody></table><br>

Two paramaters called tu and tv are defined in custom vertex which are 
specify texture coordinates for a vertex. This coordinates will be used 
to map texture on the polygons. D3DFVF_TEX1 flag specifies that custom 
vertex contains texture coordinates.

</p><p><table class="x3dcode"><tbody><tr><td>if(FAILED(D3DXCreateTextureFromFile(pDevice, "texture.bmp", &amp;pTexture))){
<br>&nbsp;&nbsp;&nbsp;&nbsp;return false;
<br>}</td></tr></tbody></table><br>

D3DXCreateTextureFromFile() function creates a texture from a file. 
First parameter is a pointer to IDirect3DDevice8 interface, second 
parameter is a bitmap file name and last parameter is address of a 
pointer to IDirect3DTexture8 
interface representing the created texture object.
</p><p>
After loading texture file we need to specify our vertices:

</p><p><table class="x3dcode"><tbody><tr><td>CUSTOMVERTEX g_Vertices[] = 
<br>{ 
<br>&nbsp;&nbsp;&nbsp;&nbsp;{ -1.0f, 1.0f, 0.0f, 0xffff0000, 0,0}, // x, y, z, color, tu, tv
<br>&nbsp;&nbsp;&nbsp;&nbsp;{ 1.0f, 1.0f, 0.0f, 0xffff0000, 1,0},
<br>&nbsp;&nbsp;&nbsp;&nbsp;{ -1.0f, -1.0f, 0.0f, 0xff00ffff, 0,1}, 
<br>&nbsp;&nbsp;&nbsp;&nbsp;{ 1.0f, -1.0f, 0.0f, 0xff00ff00, 1,1},
<br>};</td></tr></tbody></table><br>

Our vertex format has a little difference from previous tutorial, two 
last values in each structure specify coordinates of texture to be 
mapped on current vertex. This figure shows that how texture coordinates
 will be considered in Direct3D:

</p><p align="center"><img class="x3dimg" src="Using%20Textures_files/texcoord.jpg"></p>

And at last we need to associate texture to the drawed polygon.

<p><table class="x3dcode"><tbody><tr><td>pDevice-&gt;SetTexture( 0, pTexture );</td></tr></tbody></table><br>

This command makes current a loaded texture object. 
</p><p>
Too easy? Oh, sorry! OK, now go and try to change the values specially 
texture coordinates, This will help you to underestand texture mapping.
</p><p>
Good luck!
</p></td></tr>		
<tr><td class="x3dsign" align="right">Posted on : 14 May 2004<br><a class="x3dsign" href="mailto:vkazemi--at%20sign--gmail.c">Vahid Kazemi</a></td></tr>	
</tbody></table>	<br>

                                </td>

                        </tr>

                </tbody></table>
				
                <table width="100%">
                        <tbody><tr>
						<td class="x3dspecial" align="center">Copyright © 2003-2010 <a href="http://www.csc.kth.se/%7Evahidk/">Vahid Kazemi</a>, GameProgrammer.org<p>
<a href="http://www.gameprogrammer.org/iphone">iPhone Games</a></p></td>
                        </tr>
                </tbody></table>
				
			</td></tr>
			</tbody></table>
			
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Using%20Textures_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-608030-5");
pageTracker._trackPageview();
} catch(err) {}</script>

        </body></html>