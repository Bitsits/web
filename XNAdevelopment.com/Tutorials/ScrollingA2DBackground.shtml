<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">



      <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8">
    <link rel="stylesheet" type="text/css" href="ScrollingA2DBackground_files/styles.css">
    <title>Scrolling a 2D Background</title>
</head><body class="tutorials">
<div class="header">
	<div>
		<h1><a href="http://www.xnadevelopment.com/"><img src="ScrollingA2DBackground_files/XNA.png" width="419" height="219"></a></h1>
		<div class="box-wrapper">
			<div class="box">
				<h2>Scrolling a 2D Background</h2>
				<p>
					<em>This tutorial demonstrates creating a scrolling background using the XNA framework </em>
				</p>
				<ul>
				<li><a href="http://www.xnadevelopment.com/tutorials/scrollinga2dbackground/ScrollingA2DBackground.zip">Download the Source code</a></li>
				<li><a href="http://www.xnadevelopment.com/tutorials/scrollinga2dbackground/AdvancedScrollingA2DBackground.zip">Download the Enhanced Source Code</a></li>
				<li><a href="http://geekswithblogs.net/clingermangw/archive/2008/03/08/120400.aspx">View Comments or Leave Feedback</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>


<div class="banner">
    <a href="http://marketplace.xbox.com/en-US/games/media/66acd000-77fe-1000-9115-d8025855036d/"><img src="ScrollingA2DBackground_files/KissyPooAnimatedBanner.gif"></a>
</div>

<div class="sidebar">
	<ul class="menu">
	<li class="home"><a href="http://www.xnadevelopment.com/index.shtml">Home</a></li>
	<li class="tutorials"><a href="http://www.xnadevelopment.com/tutorials.shtml">Tutorials</a></li>
	<li class="sprites"><a href="http://www.xnadevelopment.com/sprites">Sprites</a></li>
	<li class="links"><a href="http://www.xnadevelopment.com/links.shtml">Links</a></li>
	<li class="blog"><a href="http://geekswithblogs.net/clingermangw">Blog</a></li>
	<li class="about"><a href="http://www.xnadevelopment.com/aboutme.shtml">About Me</a></li>
	</ul>
</div>

<!-- code formatted by http://manoli.net/csharpformat/ --> <style type="text/css">
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}

.csharpcode pre { margin: 0em; }

.csharpcode .rem { color: #008000; }

.csharpcode .kwrd { color: #0000ff; }

.csharpcode .str { color: #006080; }

.csharpcode .op { color: #0000c0; }

.csharpcode .preproc { color: #cc6633; }

.csharpcode .asp { background-color: #ffff00; }

.csharpcode .html { color: #800000; }

.csharpcode .attr { color: #ff0000; }

.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}

.csharpcode .lnum { color: #606060; }
</style>  




<div class="page-wrapper">
	<div class="page">
		<div class="text">

<h2>Scrolling a 2D Background</h2>
<strong>Scrolling background images horizontally across the screen</strong>
<p>&nbsp;</p>
<p>If you're working on 2D games, at some point you're going to want to
know how to create a scrolling background. This tutorial will cover
setting up a horizontally scrolling background that auto-scrolls behind
your character. Let's go ahead and get started.</p>
<p><strong></strong>&nbsp; </p>
<p><strong>Creating the new game project:</strong>  </p>
<p>We are going to be using the "Sprite" class we created in the tutorial "<a href="http://www.xnadevelopment.com/tutorials/creatinga2dsprite/CreatingA2DSprite.shtml">Creating a 2D Sprite</a>". Instead of creating a new XNA Game project, you can just <a href="http://www.xnadevelopment.com/tutorials/creatinga2dsprite/CreatingA2DSprite.zip">download the source</a> for that project and begin working from that game project.  </p>
<p>If you would rather create a new game project to start from, but are
having trouble remembering how to do that, just follow the steps in <a href="http://www.xnadevelopment.com/tutorials/creatinganewxnagameproject/CreatingANewXNAWindowsGameProject.shtml">this tutorial here</a>
and come back to the this tutorial after you've refreshed your memory.
Once you have your new game project, you will need to add the "Sprite"
class created in this tutorial here to your new project. </p>
<p><strong>Adding the images:</strong>  </p>
<p>Now, let's add the background images that we are going to be using
in this tutorial to the game project. You can download the images used
in the project from <a href="http://www.xnadevelopment.com/tutorials/scrollinga2dbackground/backgroundimages.zip">here</a>.
Once you have downloaded the images, add all five background images to
the Content folder in your game. If you are having trouble remembering
how to add images to an XNA Game project, just follow the steps in <a href="http://www.xnadevelopment.com/tutorials/addinganimagetothegameproject/AddingAnImageToTheGameProject.shtml">this tutorial here</a> and come back to this tutorial after you've refreshed your memory.  </p>
<p><strong>Enhancing the Sprite class:</strong> </p>
<p>To start out, we are going to make some enhancements to the <strong>Sprite</strong>
class. These enhancements will make the sprite class a bit more
flexible and allow us to more easily add in our scrolling background. </p>
<p>Add the following objects to the top of the <strong>Sprite class</strong>. </p>
<div class="csharpcode">
<pre class="alt">        <span class="rem">//The size of the Sprite</span></pre>
<pre>        <span class="kwrd">public</span> Rectangle Size;</pre>
<pre class="alt">&nbsp;</pre>
<pre>        <span class="rem">//Used to size the Sprite up or down from the original image</span></pre>
<pre class="alt">        <span class="kwrd">public</span> <span class="kwrd">float</span> Scale = 1.0f;</pre>
</div>
<p>The Size object will be used to store the height and width of the
scaled sprite and the Scale object will be used to increase or decrease
the size of the sprite from the original image. We are defaulting the
Scale variable to 1.0 which tells the SpriteBatch to leave the image at
its original size. Making Scale a larger number will increase the size
of the sprite and a smaller number for scale will being to shrink the
sprite. </p>
<p>Next, we will modify the <strong>LoadContent</strong> method to
calculate and initialize the size of our Sprite. Modify the LoadContent
method of the Sprite class to look like this. </p>
<div class="csharpcode">
<pre class="alt">        <span class="rem">//Load the texture for the sprite using the Content Pipeline</span></pre>
<pre>        <span class="kwrd">public</span> <span class="kwrd">void</span> LoadContent(ContentManager theContentManager, <span class="kwrd">string</span> theAssetName)</pre>
<pre class="alt">        {</pre>
<pre>            mSpriteTexture = theContentManager.Load&lt;Texture2D&gt;(theAssetName);</pre>
<pre class="alt">            Size = <span class="kwrd">new</span> Rectangle(0, 0, (<span class="kwrd">int</span>)(mSpriteTexture.Width * Scale), (<span class="kwrd">int</span>)(mSpriteTexture.Height * Scale));</pre>
<pre>        }</pre>
</div>
<p>Next, we want to use one of the many overrides of the SpriteBatch
object to draw our image with our new Scale applied. Change the <strong>Draw</strong> method to look like the following. </p>
<div class="csharpcode">
<pre class="alt">        <span class="rem">//Draw the sprite to the screen</span></pre>
<pre>        <span class="kwrd">public</span> <span class="kwrd">void</span> Draw(SpriteBatch theSpriteBatch)</pre>
<pre class="alt">        {</pre>
<pre>            theSpriteBatch.Draw(mSpriteTexture, Position, </pre>
<pre class="alt">                <span class="kwrd">new</span> Rectangle(0, 0, mSpriteTexture.Width, mSpriteTexture.Height),Color.White, </pre>
<pre>                0.0f, Vector2.Zero, Scale, SpriteEffects.None, 0);</pre>
<pre class="alt">        }</pre>
</div>
<p>We have added a whole lot of parameters to pass into the Draw method
of the SpriteBatch, but the one we are tracking is &#8220;Scale&#8221;. This will
tell the SpriteBatch object to increase or decrease the size of the
sprite proportionally. </p>
<p>Do a quick build now to make sure everything compiles. If you&#8217;re
working off the source code for &#8220;Creating a 2D Sprite&#8221;, you should see
the two sprites drawn to the screen. </p>
<p>Ok, now that we have laid the groundwork in our Sprite class we can
now get started on adding the scrolling backgrounds to our game
project. </p>
<p>We&#8217;ll start by adding some new Sprite objects to the top of the <strong>Game1.cs</strong> class. Add the following objects to the top of the class. </p>
<div class="csharpcode">
<pre class="alt">        Sprite mBackgroundOne;</pre>
<pre>        Sprite mBackgroundTwo;</pre>
<pre class="alt">        Sprite mBackgroundThree;</pre>
<pre>        Sprite mBackgroundFour;</pre>
<pre class="alt">        Sprite mBackgroundFive;</pre>
</div>
<p>These Sprite objects will be used to move our background images across the screen. </p>
<p>Next, let&#8217;s Initialize our new Sprite objects and give them there
scale value. The original size of the background images is 400 by 300
and the default size for a new Windows game is 800 by 600. So, if we
double the size of our images, one will fill the whole screen. We can
do that by adjusting the Scale value of our sprites. </p>
<p>Modify the <strong>Initialize</strong> method to look like this. </p>
<div class="csharpcode">
<pre class="alt">        <span class="kwrd">protected</span> <span class="kwrd">override</span> <span class="kwrd">void</span> Initialize()</pre>
<pre>        {</pre>
<pre class="alt">            <span class="rem">// TODO: Add your initialization logic here</span></pre>
<pre>            mSprite = <span class="kwrd">new</span> Sprite();</pre>
<pre class="alt">            mSpriteTwo = <span class="kwrd">new</span> Sprite();</pre>
<pre>&nbsp;</pre>
<pre class="alt">            mBackgroundOne = <span class="kwrd">new</span> Sprite();</pre>
<pre>            mBackgroundOne.Scale = 2.0f;</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mBackgroundTwo = <span class="kwrd">new</span> Sprite();</pre>
<pre class="alt">            mBackgroundTwo.Scale = 2.0f;</pre>
<pre>&nbsp;</pre>
<pre class="alt">            mBackgroundThree = <span class="kwrd">new</span> Sprite();</pre>
<pre>            mBackgroundThree.Scale = 2.0f;</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mBackgroundFour = <span class="kwrd">new</span> Sprite();</pre>
<pre class="alt">            mBackgroundFour.Scale = 2.0f;</pre>
<pre>&nbsp;</pre>
<pre class="alt">            mBackgroundFive = <span class="kwrd">new</span> Sprite();</pre>
<pre>            mBackgroundFive.Scale = 2.0f;</pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="kwrd">base</span>.Initialize();</pre>
<pre class="alt">        }</pre>
</div>
<p>You can see we have created a new instance of each of our Sprite objects and adjusted the Scale for our background images. </p>
<p>Now that we have initialized our sprites, we need to load the content. Modify the <strong>LoadContent</strong> method to look like this. </p>
<div class="csharpcode">
<pre class="alt">        <span class="kwrd">protected</span> <span class="kwrd">override</span> <span class="kwrd">void</span> LoadContent()</pre>
<pre>        {</pre>
<pre class="alt">            <span class="rem">// Create a new SpriteBatch, which can be used to draw textures.</span></pre>
<pre>            spriteBatch = <span class="kwrd">new</span> SpriteBatch(GraphicsDevice);</pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="rem">// TODO: use this.Content to load your game content here</span></pre>
<pre class="alt">            mSprite.LoadContent(<span class="kwrd">this</span>.Content, <span class="str">"SquareGuy"</span>);</pre>
<pre>            mSprite.Position = <span class="kwrd">new</span> Vector2(125, 245);</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mSpriteTwo.LoadContent(<span class="kwrd">this</span>.Content, <span class="str">"SquareGuy"</span>);</pre>
<pre class="alt">            mSpriteTwo.Position.X = 300;</pre>
<pre>            mSpriteTwo.Position.Y = 300;</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mBackgroundOne.LoadContent(<span class="kwrd">this</span>.Content, <span class="str">"Background01"</span>);</pre>
<pre class="alt">            mBackgroundOne.Position = <span class="kwrd">new</span> Vector2(0, 0);</pre>
<pre>&nbsp;</pre>
<pre class="alt">            mBackgroundTwo.LoadContent(<span class="kwrd">this</span>.Content, <span class="str">"Background02"</span>);</pre>
<pre>            mBackgroundTwo.Position = <span class="kwrd">new</span> Vector2(mBackgroundOne.Position.X + mBackgroundOne.Size.Width, 0);</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mBackgroundThree.LoadContent(<span class="kwrd">this</span>.Content, <span class="str">"Background03"</span>);</pre>
<pre class="alt">            mBackgroundThree.Position = <span class="kwrd">new</span> Vector2(mBackgroundTwo.Position.X + mBackgroundTwo.Size.Width, 0);</pre>
<pre>&nbsp;</pre>
<pre class="alt">            mBackgroundFour.LoadContent(<span class="kwrd">this</span>.Content, <span class="str">"Background04"</span>);</pre>
<pre>            mBackgroundFour.Position = <span class="kwrd">new</span> Vector2(mBackgroundThree.Position.X + mBackgroundThree.Size.Width, 0);</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mBackgroundFive.LoadContent(<span class="kwrd">this</span>.Content, <span class="str">"Background05"</span>);</pre>
<pre class="alt">            mBackgroundFive.Position = <span class="kwrd">new</span> Vector2(mBackgroundFour.Position.X + mBackgroundFour.Size.Width, 0);</pre>
<pre>&nbsp;</pre>
<pre class="alt">        }</pre>
</div>
<p>You can see that we load the content for each of the Sprite images
we added for our backgrounds. We then position each of the images in a
trail from left to right. The first image starts at 0,0 which is the
top left corner of the screen and then each image is placed in a line
after that. </p>
<p>Scrolling backgrounds work by moving the background images across
the screen in a snake like fashion. When an image moves all the way off
the screen on the left, it is placed at the end of the snake tail so
that the images can continually loop in that fashion giving you a
seamless horizontally scrolling background. </p>
<p>To create this effect, we need to both move the images and then
check to see if the image has moved off the screen and re-position it
at the end. We do that by modifying the <strong>Update</strong> method to look like this. </p>
<div class="csharpcode">
<pre class="alt">        <span class="kwrd">protected</span> <span class="kwrd">override</span> <span class="kwrd">void</span> Update(GameTime gameTime)</pre>
<pre>        {</pre>
<pre class="alt">            <span class="rem">// Allows the game to exit</span></pre>
<pre>            <span class="kwrd">if</span> (GamePad.GetState(PlayerIndex.One).Buttons.Back == ButtonState.Pressed)</pre>
<pre class="alt">                <span class="kwrd">this</span>.Exit();</pre>
<pre>&nbsp;</pre>
<pre class="alt">            <span class="rem">// TODO: Add your update logic here</span></pre>
<pre>&nbsp;</pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="kwrd">if</span> (mBackgroundOne.Position.X &lt; -mBackgroundOne.Size.Width)</pre>
<pre class="alt">            {</pre>
<pre>                mBackgroundOne.Position.X = mBackgroundFive.Position.X + mBackgroundFive.Size.Width;</pre>
<pre class="alt">            }</pre>
<pre>&nbsp;</pre>
<pre class="alt">            <span class="kwrd">if</span> (mBackgroundTwo.Position.X &lt; -mBackgroundTwo.Size.Width)</pre>
<pre>            {</pre>
<pre class="alt">                mBackgroundTwo.Position.X = mBackgroundOne.Position.X + mBackgroundOne.Size.Width;</pre>
<pre>            }</pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="kwrd">if</span> (mBackgroundThree.Position.X &lt; -mBackgroundThree.Size.Width)</pre>
<pre class="alt">            {</pre>
<pre>                mBackgroundThree.Position.X = mBackgroundTwo.Position.X + mBackgroundTwo.Size.Width;</pre>
<pre class="alt">            }</pre>
<pre>&nbsp;</pre>
<pre class="alt">            <span class="kwrd">if</span> (mBackgroundFour.Position.X &lt; -mBackgroundFour.Size.Width)</pre>
<pre>            {</pre>
<pre class="alt">                mBackgroundFour.Position.X = mBackgroundThree.Position.X + mBackgroundThree.Size.Width;</pre>
<pre>            }</pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="kwrd">if</span> (mBackgroundFive.Position.X &lt; -mBackgroundFive.Size.Width)</pre>
<pre class="alt">            {</pre>
<pre>                mBackgroundFive.Position.X = mBackgroundFour.Position.X + mBackgroundFour.Size.Width;</pre>
<pre class="alt">            }</pre>
<pre>            </pre>
<pre class="alt">            Vector2 aDirection = <span class="kwrd">new</span> Vector2(-1, 0);</pre>
<pre>            Vector2 aSpeed = <span class="kwrd">new</span> Vector2(160, 0);</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mBackgroundOne.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</pre>
<pre class="alt">            mBackgroundTwo.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</pre>
<pre>            mBackgroundThree.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</pre>
<pre class="alt">            mBackgroundFour.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</pre>
<pre>            mBackgroundFive.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;            </pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="kwrd">base</span>.Update(gameTime);</pre>
<pre class="alt">        }</pre>
</div>
<p>This code consists of two different sections. We&#8217;ll discuss the
first section of code below which deals with keeping the "chain" of
images going. </p>
<div class="csharpcode">
<pre class="alt">            <span class="kwrd">if</span> (mBackgroundOne.Position.X &lt; -mBackgroundOne.Size.Width)</pre>
<pre>            {</pre>
<pre class="alt">                mBackgroundOne.Position.X = mBackgroundFive.Position.X + mBackgroundFive.Size.Width;</pre>
<pre>            }</pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="kwrd">if</span> (mBackgroundTwo.Position.X &lt; -mBackgroundTwo.Size.Width)</pre>
<pre class="alt">            {</pre>
<pre>                mBackgroundTwo.Position.X = mBackgroundOne.Position.X + mBackgroundOne.Size.Width;</pre>
<pre class="alt">            }</pre>
<pre>&nbsp;</pre>
<pre class="alt">            <span class="kwrd">if</span> (mBackgroundThree.Position.X &lt; -mBackgroundThree.Size.Width)</pre>
<pre>            {</pre>
<pre class="alt">                mBackgroundThree.Position.X = mBackgroundTwo.Position.X + mBackgroundTwo.Size.Width;</pre>
<pre>            }</pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="kwrd">if</span> (mBackgroundFour.Position.X &lt; -mBackgroundFour.Size.Width)</pre>
<pre class="alt">            {</pre>
<pre>                mBackgroundFour.Position.X = mBackgroundThree.Position.X + mBackgroundThree.Size.Width;</pre>
<pre class="alt">            }</pre>
<pre>&nbsp;</pre>
<pre class="alt">            <span class="kwrd">if</span> (mBackgroundFive.Position.X &lt; -mBackgroundFive.Size.Width)</pre>
<pre>            {</pre>
<pre class="alt">                mBackgroundFive.Position.X = mBackgroundFour.Position.X + mBackgroundFour.Size.Width;</pre>
<pre>            }</pre>
</div>
<p>You might expect to move the background images first, but this will
actually begin to create gaps between the images. Often in game
development, you have to be very aware in the order that you are doing
things. If we move the images first, then check to see if they&#8217;ve moved
off the screen, you have to remember that the player has never seen
that happen yet because they haven&#8217;t been drawn to the screen yet! That
doesn&#8217;t happen until Draw is called. </p>
<p>So, instead, we first move images that have moved off the screen
(and hopefully the player has seen this occur already) to the end of
the trail of images. This is done by checking the Sprite&#8217;s current
position and seeing if it&#8217;s moved further then it&#8217;s width off the
screen. This means that the entire image is now out of the viewable
area for the player. If this is true, then we move the image to the one
it should be following. The first image follows the fifth, and then the
fifth follows the fourth and so on and so on. </p>
<p>Now let&#8217;s look at the second part of the code, the <strong>movement</strong>. </p>
<div class="csharpcode">
<pre class="alt">            Vector2 aDirection = <span class="kwrd">new</span> Vector2(-1, 0);</pre>
<pre>            Vector2 aSpeed = <span class="kwrd">new</span> Vector2(160, 0);</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mBackgroundOne.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</pre>
<pre class="alt">            mBackgroundTwo.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</pre>
<pre>            mBackgroundThree.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</pre>
<pre class="alt">            mBackgroundFour.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</pre>
<pre>            mBackgroundFive.Position += aDirection * aSpeed * (<span class="kwrd">float</span>)gameTime.ElapsedGameTime.TotalSeconds;            </pre>
</div>
<p>Movement is done by increasing the position of a sprite by
multiplying Direction, times the speed, times the time that has
elapsed. </p>
<p><strong>Direction</strong> is just a -1 or 1 in the X and or Y
direction. In our case, we want to move the sprites to the left, so we
are decreasing in the X direction, so we use a negative one. We are not
moving at all in the Y direction, so we leave that 0 for our Direction
vector. </p>
<p><strong>Speed</strong> is how fast you want the sprite to move. We
want the Sprite to move at a decent pace in the X direction and not at
all for Y. You can increase or decrease the speed of the scrolling by
increasing or decreasing this number. </p>
<p>Finally, you multiply by <strong>time</strong> elapsed. This is done
so that computers that are faster and with faster refresh rates see the
same speed of scrolling that slower computers with slower refresh rates
see. By default, the XNA framework tries to maintain this internally by
keeping everything moving at a fixed time step, but it&#8217;s a good habit
to get into. </p>
<p>Ok, we&#8217;re re-positioning our background sprites as necessary and
moving them along at a steady clip in the right direction. The only
thing left to do it draw them to the screen. </p>
<p>Modify the Draw method to look like this. </p>
<div class="csharpcode">
<pre class="alt">        <span class="kwrd">protected</span> <span class="kwrd">override</span> <span class="kwrd">void</span> Draw(GameTime gameTime)</pre>
<pre>        {</pre>
<pre class="alt">            graphics.GraphicsDevice.Clear(Color.CornflowerBlue);</pre>
<pre>&nbsp;</pre>
<pre class="alt">            <span class="rem">// TODO: Add your drawing code here</span></pre>
<pre>            spriteBatch.Begin();</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mBackgroundOne.Draw(<span class="kwrd">this</span>.spriteBatch);</pre>
<pre class="alt">            mBackgroundTwo.Draw(<span class="kwrd">this</span>.spriteBatch);</pre>
<pre>            mBackgroundThree.Draw(<span class="kwrd">this</span>.spriteBatch);</pre>
<pre class="alt">            mBackgroundFour.Draw(<span class="kwrd">this</span>.spriteBatch);</pre>
<pre>            mBackgroundFive.Draw(<span class="kwrd">this</span>.spriteBatch);</pre>
<pre class="alt">&nbsp;</pre>
<pre>            mSprite.Draw(<span class="kwrd">this</span>.spriteBatch);</pre>
<pre class="alt">            mSpriteTwo.Draw(<span class="kwrd">this</span>.spriteBatch);</pre>
<pre>            spriteBatch.End();</pre>
<pre class="alt">&nbsp;</pre>
<pre>            <span class="kwrd">base</span>.Draw(gameTime);</pre>
<pre class="alt">        }</pre>
</div>
<p>The important thing to note here is that we are drawing the
backgrounds BEFORE the two square guy sprites. Sprites are drawn in
layers with the first Draw calls drawn first to the screen and the
others drawn on top of them. It&#8217;s important to remember that when
adding your draw code. If we had placed the backgrounds after the
sprites, we would have never seen them because the background images
would have been drawn on top of the square guys. </p>
<p>That&#8217;s it, go ahead and <strong>Build <img src="ScrollingA2DBackground_files/CropperCapture2632.jpg" alt="CropperCapture2632" style="border: 0px none ;" border="0" width="27" height="23"> </strong>
the game. You should see the background images begin to scroll
horizontally across the screen and the two square guys looking like
their floating through the air. </p>
<p align="center"><img src="ScrollingA2DBackground_files/CropperCapture269.jpg" alt="Scrolling Background" style="border: 0px none ; margin: 5px;" border="0" width="500" height="392"> </p>
<p>Congratulations! You now have successfully learned how to add a
horizontally scrolling background to your game. While, this is a good
introductory example to scrolling a Horizontal background, but the code
wasn&#8217;t written in a very object oriented way. I have taken this
tutorial a bit further and done some work to make it a little more
re-usable project. You can check out the more <a href="http://www.xnadevelopment.com/tutorials/scrollinga2dbackground/AdvancedScrollingA2DBackground.zip">advanced Horizontal scrolling</a> example. </p>
<p>Can you think of some things you can change? How hard would it be to
make this scroll vertically? Do you think you know what you might
change? </p>
<p>Play with it, experiment and ask questions. Most of all make sure you&#8217;re having fun! </p>




		</div>
	</div>
</div>


<div style="margin: 0px; padding: 0px; display: inline;" id="scid:0767317B-992E-4b12-91E0-4F059A8CECA8:190d701e-3828-4ef7-833c-c276012fcb76" class="wlWriterSmartContent">Technorati Tags: <a rel="tag" href="http://technorati.com/tags/XNA">XNA</a></div>




   <div class="footer">
	<div>
		<p>
			Site Design by <a href="http://bxnaa.spaces.live.com/">Björn Graf</a>. Copyright © 2006-2009 <a href="mailto:clingermangw@hotmail.com">George W. Clingerman</a>
		</p>
		<p>
			XNADevelopment.com is in no way affiliated with Microsoft.
		</p>
	</div>
</div>

<script src="ScrollingA2DBackground_files/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-594562-2";
urchinTracker();
</script>



</body></html>