<html><head>
<title>XNA Tutorials and XNA Tools - Making a Game with XNA Game Studio 2</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="">
<meta name="keywords" content="XBox 360, Game Programming, Homebrew, 360 Homebrew, Xbox Homebrew, Game Studios Exrpess, XNA, XNA tutorials, XNA tutorial, xna spot, xbox 360 homebrew, xnaspot, xbox programmer,game programming tutorials, xna tools,Learn XNA,xna games,xna news,xna links">
<link rel="stylesheet" href="readarticle.php_files/styles.css" type="text/css">
<link rel="alternate" type="application/rss+xml" title="XNA News" href="http://www.ziggyware.com/news-rss.php">
<link rel="alternate" type="application/rss+xml" title="XNA Forums" href="http://www.ziggyware.com/forums.rss.php">
<link rel="alternate" type="application/rss+xml" title="XNA Links" href="http://www.ziggyware.com/links.rss.php">
<link rel="alternate" type="application/rss+xml" title="XNA Downloads" href="http://www.ziggyware.com/downloads.rss.php">
<link rel="alternate" type="application/rss+xml" title="XNA Articles" href="http://www.ziggyware.com/articles.rss.php">
<link rel="alternate" type="application/rss+xml" title="XNA Videos" href="http://www.ziggyware.com/videos.rss.php">
<link rel="alternate" type="application/rss+xml" title="XNA News Comments" href="http://www.ziggyware.com/comments.rss.php">
<script type="text/javascript" src="readarticle.php_files/jscript.js"></script>
</head><body style="background-color: rgb(255, 255, 255);"><table class="bodyline" align="center" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td style="background-image: url(themes/Valencia/images/logo_bg.gif);" valign="middle" width="100%" height="85"><table cellpadding="4" cellspacing="0" width="100%"><tbody><tr><td width="40%"><a href="http://www.ziggyware.com/"><img src="readarticle.php_files/ziggyware.gif" alt="XNA Tutorials and XNA Tools - Making a Game with XNA Game Studio 2" title="XNA Tutorials and XNA Tools - Making a Game with XNA Game Studio 2"></a></td><td width="60%"><a href="http://www.synapsegaming.com/products/sunburn/community/"><img src="readarticle.php_files/sunburn.jpg" align="right"></a></td></tr></tbody></table></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td height="24"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td style="background-image: url(http://www.ziggyware.com/themes/Valencia/images/titleBar/menubar-stretch.gif);" width="100%" height="24">
<a href="http://www.ziggyware.com/index.php" alt="XNA News" title="XNA News"><img name="imgNews" src="readarticle.php_files/bloo-news.gif" onmouseover='document.imgNews.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/orange-news.gif"' onmouseout='document.imgNews.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/bloo-news.gif"' align="middle"></a><a href="http://www.ziggyware.com/articles.php" alt="XNA Tutorials" title="XNA Tutorials"><img name="imgArticles" src="readarticle.php_files/bloo-button-articles.gif" onmouseover='document.imgArticles.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/orange-articles.gif"' onmouseout='document.imgArticles.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/bloo-button-articles.gif"' align="middle"></a><a href="http://www.ziggyware.com/downloads.php" alt="XNA Downloads" title="XNA Downloads"><img name="imgDownloads" src="readarticle.php_files/bloo-button-downloads.gif" onmouseover='document.imgDownloads.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/orange-downloads.gif"' onmouseout='document.imgDownloads.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/bloo-button-downloads.gif"' align="middle"></a><a href="http://www.ziggyware.com/forum/index.php" alt="XNA Forums" title="XNA Forums"><img name="imgForums" src="readarticle.php_files/bloo-button-discussion.gif" onmouseover='document.imgForums.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/orange-discussions.gif"' onmouseout='document.imgForums.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/bloo-button-discussions.gif"' align="middle"></a><a href="http://www.ziggyware.com/weblinks.php?cat_id=6" alt="XNA Models" title="XNA Models"><img name="imgModels" src="readarticle.php_files/3dmodels_bloo.gif" onmouseover='document.imgModels.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/3dmodels_orange.gif"' onmouseout='document.imgModels.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/3dmodels_bloo.gif"' align="middle"></a><a href="http://www.ziggyware.com/weblinks.php?cat_id=5" alt="XNA Videos" title="XNA Videos"><img name="imgVideos" src="readarticle.php_files/videos_bloo.gif" onmouseover='document.imgVideos.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/videos_orange.gif"' onmouseout='document.imgVideos.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/videos_bloo.gif"' align="middle"></a><a href="http://www.ziggyware.com/weblinks.php?cat_id=4" alt="XNA Games" title="XNA Games"><img name="imgGames" src="readarticle.php_files/games-bloo.gif" onmouseover='document.imgGames.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/games-orange.gif"' onmouseout='document.imgGames.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/games-bloo.gif"' align="middle"></a><a href="http://www.ziggyware.com/weblinks.php" alt="XNA Links" title="XNA Links"><img name="imgWeblinks" src="readarticle.php_files/bloo-button-weblinks.gif" onmouseover='document.imgWeblinks.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/orange-weblinks.gif"' onmouseout='document.imgWeblinks.src="http://www.ziggyware.com/themes/Valencia/images/titleBar/bloo-button-weblinks.gif"' align="middle"></a></td>
</tr></tbody></table><table cellpadding="0" cellspacing="5" width="100%">
<tbody><tr>
<td class="side-border-left" valign="top" width="190">
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%">Login</td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<div align="center">
<form name="loginform" method="post" action="login2.php">
Username<br>
<input name="user_name" class="textbox" style="width: 100px;" type="text"><br>
Password<br>
<input name="user_pass" class="textbox" style="width: 100px;" type="password"><br>
<input name="remember_me" value="y" title="Remember Me" style="vertical-align: middle;" type="checkbox">
<input name="login" value="Login" class="button" type="submit"><br>
</form>
<br>
Not a member yet?<br><a href="http://www.ziggyware.com/register.php" class="side">Click here</a> to register.<br><br>
Forgotten your password?<br>Request a new one <a href="http://www.ziggyware.com/lostpassword.php" class="side">here</a>.
</div>
</td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%"><a href="http://www.ziggyware.com/submit.php">Submit XNA stuff</a></td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">

<img src="readarticle.php_files/bullet.gif" alt=""> <a href="http://www.ziggyware.com/submit.php?stype=l" class="side">Submit Link</a><br>
<img src="readarticle.php_files/bullet.gif" alt=""> <a href="http://www.ziggyware.com/submit.php?stype=n" class="side">Submit News</a><br>
<img src="readarticle.php_files/bullet.gif" alt=""> <a href="http://www.ziggyware.com/submit.php?stype=a" class="side">Submit Article</a><br>
<img src="readarticle.php_files/bullet.gif" alt=""> <a href="http://www.ziggyware.com/submit.php?stype=p" class="side">Submit Photo</a><br>
</td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%"><a href="http://www.ziggyware.com/news.php?readmore=1154">XNA Article Contest</a></td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<center><a href="http://www.ziggyware.com/news.php?readmore=1154"><img src="readarticle.php_files/articlecontest.gif"></a></center><a href="http://www.ziggyware.com/news.php?readmore=1154"><br></a><center><a href="http://www.ziggyware.com/news.php?readmore=1154">Enter the Ziggyware Summer 2009 XNA Article Contest</a></center><br><center>120 GB XBox 360, Zunes, SunBurn and More!</center><hr><center><a href="http://www.ziggyware.com/news.php?readmore=1154"><img src="readarticle.php_files/prize1_tiny.jpg"></a><a href="http://www.ziggyware.com/news.php?readmore=1154"><img src="readarticle.php_files/prize2_tiny.jpg"></a></center></td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%">Sponsor</td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<center><script type="text/javascript"> 
 <!--  
 microsoft_adunit_bkcolor="DFEDF7";  
 microsoft_adunit_bordercolor="3196D7";  
 microsoft_adunit_titlefontcolor="003D71";  
 microsoft_adunit_bodyfontcolor="1010A0";  
 microsoft_adunit_urlfontcolor="003D71";  
 microsoft_adunit_channelids="8972";  
 microsoft_adunitid="8949";  
 microsoft_adunit_width="180";  
 microsoft_adunit_height="150";  
 microsoft_adunit_legacy="false";  
 //-->  
 </script>  
 <script type="text/javascript" src="readarticle.php_files/getads.js"></script><iframe src="readarticle.php_files/de.htm" allowtransparency="true" marginwidth="0" marginheight="0" hspace="0" vspace="0" scrolling="no" width="180" frameborder="0" height="150"></iframe> 
 </center></td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%">Released XNA Books</td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<center> <table border="0" width="160"><tbody><tr><td> <center><a href="http://www.amazon.com/gp/product/0672330229?ie=UTF8&amp;tag=wwwziggywarco-20" alt="Microsoft XNA Game Studio 3.0 Unleashed" title="Microsoft XNA Game Studio 3.0 Unleashed"><img src="readarticle.php_files/0672330229.jpg" style="margin: 5px;"></a></center>  </td><td>  <center><a href="http://www.amazon.com/gp/product/0596521952?ie=UTF8&amp;tag=wwwziggywarco-20" alt="Learning XNA 3.0: XNA 3.0 Game Development for the PC, Xbox 360, and Zune" title="Learning XNA 3.0: XNA 3.0 Game Development for the PC, Xbox 360, and Zune"><img src="readarticle.php_files/0596521952.jpg" style="margin: 5px;"></a></center>  </td></tr><tr><td>  <center><a href="http://www.amazon.com/gp/product/143021855X?ie=UTF8&amp;tag=wwwziggywarco-20" alt="XNA 3.0 Game Programming Recipes: A Problem-Solution Approach (Expert" title="XNA 3.0 Game Programming Recipes: A Problem-Solution Approach (Expert" s="" voice="" in="" xna)=""><img src="readarticle.php_files/143021855X.jpg" style="margin: 5px;"></a></center>  </td><td>  <center><a href="http://www.amazon.com/gp/product/1430218177?ie=UTF8&amp;tag=wwwziggywarco-20" alt="Beginning XNA 3.0 Game Programming: From Novice to Professional (Beginning from Novice to Professional)" title="Beginning XNA 3.0 Game Programming: From Novice to Professional (Beginning from Novice to Professional)"><img src="readarticle.php_files/1430218177.jpg" style="margin: 5px;"></a></center>  </td></tr><tr><td>  <center><a href="http://www.amazon.com/gp/product/0071614060?ie=UTF8&amp;tag=wwwziggywarco-20" alt="Microsoft XNA Game Studio Creator" title="Microsoft XNA Game Studio Creator" s="" guide,="" second="" edition=""><img src="readarticle.php_files/0071614060.jpg" style="margin: 5px;"></a></center>  </td><td>  <center><a href="http://www.amazon.com/gp/product/0735626588?ie=UTF8&amp;tag=wwwziggywarco-20" alt="Microsoft XNA Game Studio 3.0: Learn Programming Now! (Pro - Developer)" title="Microsoft XNA Game Studio 3.0: Learn Programming Now! (Pro - Developer)"><img src="readarticle.php_files/0735626588.jpg" style="margin: 5px;"></a></center>  </td></tr><tr><td>  <center><a href="http://www.amazon.com/gp/product/143021869X?ie=UTF8&amp;tag=wwwziggywarco-20" alt="Building XNA 3.0 Games: A Practical Guide for Independent Game Development" title="Building XNA 3.0 Games: A Practical Guide for Independent Game Development"><img src="readarticle.php_files/143021869X.jpg" style="margin: 5px;"></a></center>  </td><td>  <center><a href="http://www.amazon.com/gp/product/1598633686?ie=UTF8&amp;tag=wwwziggywarco-20" alt="XNA Game Studio Express: Developing Games for Windows and the Xbox 360" title="XNA Game Studio Express: Developing Games for Windows and the Xbox 360"><img src="readarticle.php_files/1598633686.jpg" style="margin: 5px;"></a></center>  </td></tr> </tbody></table></center><hr><center><a href="http://www.ziggyware.com/viewpage.php?page_id=4"><b>View more Books (USA)</b></a></center><br>
<center><a href="http://www.ziggyware.com/viewpage.php?page_id=3"><b>View more Books (UK)</b></a></center>
</td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%"><a href="http://www.ziggyware.com/news.php?readmore=620">Live XNA Chat</a></td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<br><center><a href="http://www.ziggyware.com/news.php?readmore=620"><img src="readarticle.php_files/irchelp.gif"></a></center><center><br><small>(unaffiliated with Microsoft)</small></center></td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
</td>
<td class="main-bg" valign="top">
<style type="text/css">
			<!--

div.a {
	color:black;
	border:1px solid #ccc;
	background:#F9F9Fc;
}
div.b {
	color:black;
	cursor:pointer;
	border:1px solid #ccc;
	background:#F9F9Fc;
	font-family:"Courier New";
	font-size:12;
}
b.a {
	color:gray;
	cursor:pointer;
	border:1px solid #ccc;
	background:#FFFFFF;
	font-weight:normal;
}
b.c {
	color:black;
	background:#F9F9Fc;
	font-weight:normal;
}
c {
	color:black;
	background:#F9F9Fc;
}
b2 {
	color:blue;
	background:#F9F9Fc;
}

br
{
	clear:all;
}


--></style>
		<script language="javascript">
<!--
function toggleDisplay(desc,obj,img) {
	var el = document.getElementById(obj);
	var e2 = document.getElementById(img);
	var e3 = document.getElementById(desc);
	
	if ( el.style.display != 'none' ) {
		el.style.display = 'none';
		e2.src="http://www.ziggyware.com/collapsed.jpg";
		e3.style.display = '';
	}
	else {
		el.style.display = '';
		e2.src="http://www.ziggyware.com/expanded.jpg";
		e3.style.display = 'none';
	}
	
}
//-->
		</script>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left4"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main4" width="100%">Making a Game with XNA Game Studio 2</td><td class="panel-right4"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left4"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-bodyx"><div style="width: 100%; vertical-align: top;"><font size="2">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:1 1 6 0 1 1 1 1 1 1;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-link:"Footnote Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;
	font-weight:bold;}
span.MsoFootnoteReference
	{color:blue; font-weight:bold;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"Subtitle Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	
	font-size:12.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;
	letter-spacing:.75pt;
	font-style:italic;}
span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
a:link, span.MsoHyperlink
	{color:blue;text-decoration:underline;
}
a:link, span.MsoHyperlinkFollowed
	{color:purple;text-decoration:underline;
}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{mso-style-name:"No Spacing\,No Spacing \(Jusified\)";
	mso-style-link:"No Spacing Char\,No Spacing \(Jusified\) Char";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.MsoSubtleEmphasis
	{color:gray;
	font-style:italic;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
span.SubtitleChar
	{mso-style-name:"Subtitle Char";
	mso-style-link:Subtitle;
	font-family:"Cambria","serif";
	color:#4F81BD;
	letter-spacing:.75pt;
	font-style:italic;}
span.NoSpacingChar
	{mso-style-name:"No Spacing Char\,No Spacing \(Jusified\) Char";
	mso-style-link:"No Spacing\,No Spacing \(Jusified\)";}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.FootnoteTextChar
	{mso-style-name:"Footnote Text Char";
	mso-style-link:"Footnote Text";}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
p.CodeSection, li.CodeSection, div.CodeSection
	{mso-style-name:"Code Section";
	mso-style-link:"Code Section Char";
	margin:0in;
	margin-bottom:.0001pt;
	background:#D9D9D9;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Courier New";}
span.CodeSectionChar
	{mso-style-name:"Code Section Char";
	mso-style-link:"Code Section";
	font-family:"Courier New";
	background:#D9D9D9;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
 /* Page Definitions */
 @page Section1
	{size:8.5in 11.0in;
	margin:.5in .5in .5in .5in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>


</font><div class="Section1">

<div style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(79, 129, 189); border-width: medium medium 1pt; padding: 0in 0in 4pt;">

<p class="MsoTitleCxSpFirst" style="text-align: center;" align="center"><font size="2">Alien
Aggressors: <br>
<span class="SubtitleChar"><span style="font-size: 12pt;">The Making of a Complete
Game with XNA Game Studio 2.0<br>
<br>
</span></span></font></p>

<p class="MsoTitleCxSpLast" style="text-align: center;" align="center"><span class="SubtitleChar"><span style="font-size: 12pt;"><font size="2">Nick Gravelyn</font></span></span></p>

</div>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 2" src="readarticle.php_files/image001.png" width="578" height="448"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 1: Alien Aggressors in action.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><a name="_Toc194642527">&nbsp;</a></font></p>

<p class="MsoTocHeading"><font size="2">Contents</font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869691">Preface<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">3</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869692">Introduction<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">3</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869693">Expectations<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">3</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869694">Getting Started<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">5</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869695">Creating the Project<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">5</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869696">Creating a Sprite Class<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">5</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869697">Creating a StarryBackground<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">7</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869698">Creating a Ship Class<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">10</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869699">Adding Keyboard Input<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">12</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869700">Managing the Flow of Code<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">14</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869701">The GameState Class<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">14</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869702">The GameStateManager Class<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">15</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869703">The PlayingGameState Class<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">16</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869704">Making the Game Play<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">19</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869705">Adding Bullets<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">19</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869706">A Lone Aggressor<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">24</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869707">Enemy Fleet Approaching<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">26</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869708">Taking Damage<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">31</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869709">Only One Can Win<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">33</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869710">There�s More to a Game than Just the
Game<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">36</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869711">Decisions, Decisions<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">36</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869712">Simplifying Input<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">38</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869713">Menu Base<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">42</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869714">Main Destination<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">45</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869715">Starting Something<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">46</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869716">Do Overs<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">47</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869717">Fleshing out the Rest of the Game<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">49</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869718">Bring a Friend<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">49</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869719">Keeping Score<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">51</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869720">Waves of Fleets<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">54</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869721">Make Some Noise<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">57</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869722">Everyone Loves Options<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">61</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869723">Take a Break<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">63</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869724">Meeting Expectations<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">65</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869725">Conclusions<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">67</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869726">Appendix A<span style="color: windowtext; display: none; text-decoration: none;">.. </span><span style="color: windowtext; display: none; text-decoration: none;">68</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869727">Creating Sprites in Paint.NET<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">68</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869728">Appendix B<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">72</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869729">Creating Sound Effects in Audacity<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">72</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869730">Behind the Music<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">73</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869731">Getting Your XACT Together<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">74</span></a></font></p>

<p class="MsoToc1"><font size="2"><a href="#_Toc195869732">Appendix C<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">79</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869733">Advanced Topics for Ideas<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">79</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869734">Generalizing the GameStateManager<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">79</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869735">Making the Game Resolution
Independent<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">79</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869736">High Scores<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">80</span></a></font></p>

<p class="MsoToc2"><font size="2"><a href="#_Toc195869737">Online Co-Op<span style="color: windowtext; display: none; text-decoration: none;">. </span><span style="color: windowtext; display: none; text-decoration: none;">80</span></a></font></p>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2"><b><span style="font-size: 14pt; font-family: &quot;Cambria&quot;,&quot;serif&quot;; color: rgb(54, 95, 145);">&nbsp;</span></b></font></p>

<h1><font size="2"><a name="_Toc195869691">Preface</a></font></h1>

<h2><font size="2"><a name="_Toc195869692">Introduction</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Each day more and more people begin the journey into game
development. Some are kids or young adults inspired by their favorite video
game with no knowledge of computer programming. Some are professional
application developers just looking for something different. In either case a
similar problem generally arises. How does a person learn the process of
creating games?</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Video games appear simple from the outside. After all
they are nothing more than images drawn on a screen, reacting to player input.
However game creation is not an immediately easy task for many beginners. Some
people get caught up in code details such as maintaining proper object-oriented
design and avoiding static data while others struggle to understand how to
control the flow of a game�s code. The initial frustration caused by these or
other hurdles is a common problem faced by beginners. Those that are really
dedicated press on, while many choose to give up on game creation.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This book aims to assist those who wish to begin creating
their own games. By the completion of the book, the reader will have created a
fully functional game complete with cooperative play. Our game will feature a
group of alien ships that move left and right across the screen and step their
way towards the player located at the bottom much like in the classic Space
Invaders<a href="#_ftn1" name="_ftnref1" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[1]</span></span></span></a>.
Our game will not feature any barriers but will instead mix the original Space
Invaders game play with that of a faster-paced shooter such as Galaxian<a href="#_ftn2" name="_ftnref2" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[2]</span></span></span></a>. Our game,
however, will not feature the �kamikaze dives� performed by the enemy ships in
Galaxian.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Before we get further into the book, let�s take a look at
the expectations both for the book as well as the reader.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869693">Expectations</a></font></h2>

<h4><font size="2">Expectations of the Reader</font></h4>

<p class="MsoNoSpacing"><font size="2">If you are reading this book, you should know that I�ve
made some assumptions in terms of your current programming ability. I don�t
expect you to be a master C# programmer, but this book is not going to be
teaching C# or basic .NET programming<a href="#_ftn3" name="_ftnref3" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[3]</span></span></span></a>.
For you to be successful, I have assumed you have at least a basic familiarity
with the following concepts:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="margin-left: 37.5pt; text-indent: -0.25in;"><span style="font-family: Symbol;"><font size="2">�<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></span><font size="2">General C# syntax</font></p>

<p class="MsoNoSpacing" style="margin-left: 37.5pt; text-indent: -0.25in;"><span style="font-family: Symbol;"><font size="2">�<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></span><font size="2">.NET events and event handlers</font></p>

<p class="MsoNoSpacing" style="margin-left: 37.5pt; text-indent: -0.25in;"><span style="font-family: Symbol;"><font size="2">�<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></span><font size="2">Exceptions and exception handling</font></p>

<p class="MsoNoSpacing" style="margin-left: 37.5pt; text-indent: -0.25in;"><span style="font-family: Symbol;"><font size="2">�<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></span><font size="2">Object-oriented (OO) design</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">In addition to the above points, I will also assume you
have properly installed XNA Game Studio 2.0<a href="#_ftn4" name="_ftnref4" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[4]</span></span></span></a>
and created a default XNA Game Studio 2.0 project and have learned the ideas
behind the methods provided for you as well as basic SpriteBatch functionality<a href="#_ftn5" name="_ftnref5" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[5]</span></span></span></a>. You don�t
need to be an expert, but you should at least know what each method in the Game
class is used for and be able to draw sprites to the screen.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">If you are not confident in one of the aforementioned
areas, please seek out additional resources to gain familiarity before
continuing with this book.</font></p>

<h4><font size="2">Expectations of the Book</font></h4>

<p class="MsoNoSpacing"><font size="2">This book is intended to be an introductory example of
how to create a fully-functional game in XNA Game Studio 2.0. This book aims to
give the reader the necessary knowledge and experience to feel comfortable
working in game programming. The book will cover handling input from users,
playing sound effects and music, creating menus for the game, and managing the
overall state of the game.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The book also contains two appendixes which cover basic
tutorials on how the assets for the game were created using the free tools
Paint.NET<a href="#_ftn6" name="_ftnref6" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[6]</span></span></span></a>
and Audacity<a href="#_ftn7" name="_ftnref7" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[7]</span></span></span></a>.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">That said this book is not intended to be the �perfect�
or �best� way to create a Space Invaders clone or any other game. In the world
of game programming there is generally no �perfect� or �best� way to accomplish
anything. In general success is measured by your ability to create a fun and
engaging experience for your users; not the methodologies or programming
paradigms used to create that experience.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that we are all on the same page, let�s begin our
work on Alien Aggressors.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image002.jpg" width="357" height="223"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 2: Space Invaders.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 3" src="readarticle.php_files/image003.png" width="254" height="277"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 3: Galaxian.</font></p>

<font size="2"><b><span style="font-size: 14pt; font-family: &quot;Cambria&quot;,&quot;serif&quot;; color: rgb(54, 95, 145);"><br style="page-break-before: always;" clear="all">
</span></b>

</font><h1><font size="2"><a name="_Toc195869694">Getting Started</a></font></h1>

<h2><font size="2"><a name="_Toc195869695">Creating the Project</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Like all XNA Game Studio projects, Alien Aggressors
begins its life inside of Visual Studio. XNA Game Studio 2.0 introduced support
for all of the 2005 Visual Studio editions. However for this book, all
screenshots will be taken using the freely available Visual C# Express 2005 so
keep that in mind if you are using a different version. Let�s go ahead, then,
and create a new Windows Game project called �Alien Aggressors�.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 1" src="readarticle.php_files/image004.png" width="466" height="316"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 4: Creating the Alien Aggressors project.</font></p>

<h2><font size="2">&nbsp;</font></h2>

<h2><font size="2"><a name="_Toc195869696">Creating a Sprite Class</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Since Alien Aggressors is a purely sprite based game, it
makes sense to start off by creating a class to represent a single sprite. So
let�s create a new class in our game project called �Sprite�.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Each sprite is going to need a few pieces of data. The
first is a Texture2D so that the sprite is able to be drawn. The next item is a
position so we can move the sprite around on the screen. Lastly we need a
variable to record the center position of the sprite so our position refers to
where we want the middle of the sprite to be. Let�s go ahead and add these
items to our class:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public class</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">Sprite</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">Vector2</span> Position = <span style="color: rgb(43, 145, 175);">Vector2</span>.Zero;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span>
center;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Texture2D</span>
texture = <span style="color: blue;">null</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">Texture2D</span> Texture</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">get</span> { <span style="color: blue;">return</span> texture; }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing"><font size="2">You�ll notice that in my Sprite class, Position is public
while center and texture are not. This is because our texture will be passed in
via the Sprite constructor and the center will be computed in the constructor
from the texture. The Position, on the other hand, will need to be accessed and
updated from outside of our class. We also have a public property which allows
us to get the texture outside of the sprite instance. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Let�s continue by creating a basic constructor for our
Sprite so we are able to create instances:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> Sprite(<span style="color: rgb(43, 145, 175);">Texture2D</span>
spriteTexture)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      texture = spriteTexture;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      center = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            spriteTexture.Width / 2,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            spriteTexture.Height / 2);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">In our constructor we simply save the texture we are
given for later use and create a new center point using half of the texture�s
width and height for our X and Y values.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly we need to add a simple draw method to our Sprite.
In our system, we are going to batch together all the drawing into a single
SpriteBatch. To accommodate this, our Draw method will take a SpriteBatch as a
parameter and only call SpriteBatch.Draw:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">SpriteBatch</span> spriteBatch)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Draw(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            texture,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">new</span> <span style="color: rgb(0, 176, 240);">Vector2</span>((<span style="color: blue;">int</span>)Position.X,
(<span style="color: blue;">int</span>)Position.Y),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">null</span>,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Color</span>.White,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            0f,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            center,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            1f,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">SpriteEffects</span>.None,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            0);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">One thing to note is that we create a new Vector2 by
rounding our position to integers. This is done to ensure our sprites are
drawing at valid pixel positions giving us a cleaner image. It is not required
to do this, so feel free to experiment.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s add a new image to our Content project. We�re
going to add our player1.png image which will be used to represent the first
player�s ship<a href="#_ftn8" name="_ftnref8" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[8]</span></span></span></a>.
To do this, right click on the Content subproject, select <i>Existing Item</i>
from the <i>Add</i> menu, and select the player1.png file. The file will be
copied to your content directory and added to the project.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 4" src="readarticle.php_files/image005.png" width="166" height="224"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 5: The Solution Explorer after adding player1.png to the Content project.</font></p>

<p class="MsoNoSpacing"><font size="2">Now that we have an image to load, we can test out our
new Sprite class. Open the Game1.cs file and add a Sprite instance to your
game�s fields:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Sprite</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> player1;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we must create the Sprite so that we are able to
draw it to the screen. Since our Sprite�s constructor requires a Texture2D
object, we must create our Sprite in the LoadContent method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">protected</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> LoadContent()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">SpriteBatch</span>(GraphicsDevice);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1 = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Sprite</span>(Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"player1"</span>));</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Position = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(100f);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we are able to render our sprite to the screen. Add
the following code to the Draw method to achieve this:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">player1.Draw(spriteBatch);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">spriteBatch.End();</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now build and run your project and you should see a
single ship in the middle of our blue screen. Let�s continue by making our
background a bit more accurate for our game�s setting of outer space.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869697">Creating a StarryBackground</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Alien Aggressors is set in outer space, so using the
default CornflowerBlue color for a background probably isn�t what we want to
do. We could simply change the clear color to Black to better represent space,
but this would still be a boring background to play on. So to tackle this, we
are going to create a class that derives from Texture2D which will generate a
random field of stars for our background.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First add a new class to the project called
�StarryBackground� and make the class derive from Texture2D.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">StarryBackground</span> : <span style="color: rgb(43, 145, 175);">Texture2D</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll notice if you try to build the project you get an
error that looks like this:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in;"><font size="2"><i>�No overload for method
'Texture2D' takes '0' arguments�</i></font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This error indicates that the Texture2D class does not
have a parameter-less constructor. So for our class to derive from it, we must
create a constructor which calls one of the Texture2D constructors. Our
constructor is going to require a GraphicsDevice reference, a width and height,
and the number of stars to place in the texture. The constructor will then call
the base class�s constructor.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> StarryBackground(<br>
      <span style="color: rgb(43, 145, 175);">GraphicsDevice</span> graphics, <br>
      <span style="color: blue;">int</span> width, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">      int</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> height, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">      int</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> numberOfStars)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">: <span style="color: blue;">base</span>(graphics,
</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      width, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      height, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      0, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">      TextureUsage</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">.None, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">      SurfaceFormat</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">.Color)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This constructor will then allocate a texture with the
requested size using some common values for the mipmap levels, TextureUsage,
and SurfaceFormat. While these are common values, some machines may not accept
them. If this throws an exception on your machine, you may have to tweak one or
more of the parameters to accommodate your graphics card<a href="#_ftn9" name="_ftnref9" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[9]</span></span></span></a>.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s add those stars in. By default a blank texture
is a big array of transparent black pixels. This means that each pixel�s R, G,
B, and A values are all 0. What our constructor must do is randomly place
colored pixels into the texture to give the appearance of stars. We do this
using an instance of the Random<a href="#_ftn10" name="_ftnref10" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[10]</span></span></span></a>
type and looping over all the pixels until we have added the requested amount.
Finally we call SetData to set our texture�s pixel data.</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (numberOfStars &gt;= width * height ||
numberOfStars &lt; 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">throw</span> <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Exception</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; text-indent: 1in; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(163, 21, 21);"><font size="2">"numberOfStars
must be in the range of [0, width * height - 1]"</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Random</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> rand = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Random</span>();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Color</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">[] pixels = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Color</span>[width * height];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">int</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> starsAdded = 0;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">while</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (starsAdded &lt; numberOfStars)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span> index =
rand.Next(pixels.Length);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (pixels[index]
== <span style="color: rgb(43, 145, 175);">Color</span>.TransparentBlack)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      { </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">float</span>
value = (<span style="color: blue;">float</span>)rand.NextDouble() + .5f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            pixels[index] = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Color</span>(<span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector4</span>(value));</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; text-indent: 1in; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">starsAdded++;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">SetData(pixels);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">That�s it for the StarryBackground class. Now we can
create an instance and use it to render some stars for our game�s background.
Let�s begin by adding a new StarryBackground variable to the main Game1 class:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">StarryBackground</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> stars;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we need to instantiate this object in the
LoadContent method because its constructor requires a valid GraphicsDevice
reference:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">stars = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">StarryBackground</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsDevice, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsDevice.Viewport.Width, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsDevice.Viewport.Height, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      200);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly we can update our Draw method to render these
stars. Since our StarryBackground only colors in the stars, we must switch our
clear color to Black. Then we can render the background and the player ship:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">protected</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      graphics.GraphicsDevice.Clear(<span style="color: rgb(43, 145, 175);">Color</span>.Black);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Draw(stars, <span style="color: rgb(43, 145, 175);">Vector2</span>.Zero, <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.End();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Draw(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">If you run the game now you�ll see our ship is now
floating in outer space with hundreds of stars off in the distance. Also feel
free to change the number of stars to whatever value you prefer. We chose 200
to start with, but you can easily change this value to add more or fewer stars
to your game.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 5" src="readarticle.php_files/image006.png" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 6: Our player ship in space.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><span style="font-size: 9pt; color: rgb(79, 129, 189);"><font size="2">&nbsp;</font></span></p>

<h2><font size="2"><a name="_Toc195869698">Creating a Ship Class</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Since our game revolves around the player controlling a
ship while fighting enemy ships, we should add a common base class for both
types of ships to derive from. Add a new class to your project called �Ship�
and have it derive from the Sprite class. Also add a basic constructor to call
the Sprite class�s constructor and a virtual Update method for our children
types to use.</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">Ship</span> : <span style="color: rgb(43, 145, 175);">Sprite</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; text-indent: 0.5in; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> Ship(<span style="color: rgb(43, 145, 175);">Texture2D</span> spriteTexture)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(spriteTexture)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">      public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">virtual</span>
<span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">That�s all we�re going to do with the Ship class for now,
so let�s add another class to our project called PlayerShip. Again the class
should derive from the Ship class and implement a basic constructor.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">PlayerShip</span> : <span style="color: rgb(43, 145, 175);">Ship</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">PlayerIndex</span>
index;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
PlayerShip(<span style="color: rgb(43, 145, 175);">Texture2D</span> spriteTexture, <span style="color: rgb(43, 145, 175);">PlayerIndex</span> playerIndex)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(spriteTexture)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            index = playerIndex;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Notice our constructor takes in a PlayerIndex and stores
that in our class. This variable is used to assign an instance of PlayerShip to
a particular GamePad index for updating. Next let�s add an override to the
Ship.Update method so that our PlayerShip can move around on the screen.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GamePadState</span>
gps = <span style="color: rgb(43, 145, 175);">GamePad</span>.GetState(index);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Position.X += gps.ThumbSticks.Left.X * 3;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see we get the current GamePadState and use the
left thumbstick to move our ship left and right. We aren�t worried about
adjusting the Y axis, because our player ship is only able to move left and
right on the screen.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we can test this out by changing our player1 object
into a PlayerShip. So in our Game1.cs file, we need to change the declaration
from</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Sprite</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> player1;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">to</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">PlayerShip</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> player1;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Similarly we need to update our instantiation code from</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">player1 = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Sprite</span>(Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"player1"</span>));</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">to</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">player1 = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">PlayerShip</span>(Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"player1"</span>),
<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">And finally we need to add a call to player1.Update into
our game�s update method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">protected</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (<span style="color: rgb(43, 145, 175);">GamePad</span>.GetState(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One).Buttons.Back
== <span style="color: rgb(43, 145, 175);">ButtonState</span>.Pressed)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">this</span>.Exit();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Update(gameTime);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now if we run the game we can move our player back and
forth along the X axis on the screen. However our player can easily slide right
off the side of the screen which we definitely don�t want. To remedy this, we
are going to add a property to the Sprite class to give us the bounding
rectangle around the sprite and then use that to keep the player on the screen.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First let�s add a new property called Bounds to the
Sprite class. The property simply returns a new Rectangle set to the proper
size of the sprite:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">Rectangle</span> Bounds</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">get</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return</span> <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Rectangle</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  (<span style="color: blue;">int</span>)(Position.X
- center.X),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  (<span style="color: blue;">int</span>)(Position.Y
- center.Y),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  texture.Width,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  texture.Height);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we�ll add some code into our update code to keep the
player on the screen. To do this we need to update the Ship.Update method
signature to this:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">virtual</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime, <span style="color: blue;">float</span> fieldWidth)</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The fieldWidth variable will be used to tell the Ship how
wide of an area we are playing in. Next let�s update our PlayerShip.Update
method to use this parameter and our new Bounds property to keep the player on
the screen:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime, <span style="color: blue;">float</span> fieldWidth)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GamePadState</span>
gps = <span style="color: rgb(43, 145, 175);">GamePad</span>.GetState(index);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Position.X += gps.ThumbSticks.Left.X * 3;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(Bounds.Left &lt; 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X = Bounds.Width / 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (Bounds.Right &gt; fieldWidth)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X = fieldWidth - Bounds.Width /
2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime,
fieldWidth);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">And lastly we need to change our call to player1.Update
from this</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">player1.Update(gameTime);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">to this</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">player1.Update(gameTime,
GraphicsDevice.Viewport.Width);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now your player can move only on the screen. </font></p>

<h2><font size="2"><a name="_Toc195869699">Adding Keyboard Input</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Some developers and users prefer the keyboard. The reason
could simply be a lack of Xbox 360 game pad or it could be that they just
prefer that input device. Luckily for XNA Game Studio developers, adding the
option for keyboard input isn�t that big of a challenge.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Let�s update our PlayerShip class to be able to accept
keyboard input. We�re going to create a couple of new methods: one for GamePad
driven input and one for Keyboard driven input. We will choose based on whether
or not the GamePad is connected. Here�s are the two methods we are going to add
to our PlayerShip class:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
UpdateKeyboard()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">KeyboardState</span>
keyState = <span style="color: rgb(43, 145, 175);">Keyboard</span>.GetState();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.A) ||
keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.Left))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X -= 3;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.D) ||
keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.Right))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X += 3;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
UpdateGamePad(<span style="color: rgb(43, 145, 175);">GamePadState</span> gps)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Position.X += gps.ThumbSticks.Left.X * 3;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We have UpdateGamePad take in a parameter of a
GamePadState because we are going to get the game pad�s state in Update so we
can check if the game pad is connected. That is how we will decide which of
these two methods to call.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we can update the PlayerShip.Update method to take
advantage of these new methods.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime, <span style="color: blue;">float</span> fieldWidth)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GamePadState</span>
gps = <span style="color: rgb(43, 145, 175);">GamePad</span>.GetState(index);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(gps.IsConnected)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            UpdateGamePad(gps);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            UpdateKeyboard();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(Bounds.Left &lt; 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X = Bounds.Width / 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (Bounds.Right &gt; fieldWidth)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X = fieldWidth - Bounds.Width /
2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime,
fieldWidth);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now when you run the game, you can control the player
with the left thumbstick of a controller or, if the controller is not
connected, using the keyboard. For your game you could also choose to make a
simple option or boolean value to set whether or not to use the keyboard or
game pad for input.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h1><font size="2"><a name="_Toc195869700">Managing the Flow of Code</a></font></h1>

<h2><font size="2"><a name="_Toc195869701">The GameState Class</a></font></h2>

<p class="MsoNoSpacing"><font size="2">So far all of our code is inside the Game1 class provided
for us by the project template. This is great for quickly trying out new ideas
or for very simple games, but once you go beyond anything trivially simple you
will find it becomes very hard to maintain. As such we are going to implement a
game state system to allow us to break up code into logical chunks based on the
state of the game. For instance we will have one state for the main menu, one
for the options menu, one for transitioning between levels in our game, one for
the game during play, and one for after a game has ended. This way we can keep
our code clean and concise.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">To begin let�s add a new abstract class called
�GameState� to our project.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">abstract</span> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">GameState</span></font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Each game state is going to act like a mini instance of a
game class. For this to work we need to expose some basic data inside of the
class for the derived classes to use. We don�t currently have a
GameStateManager type defined, but we will add that in the next section so
don�t worry that Visual Studio doesn�t highlight the type name.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">GameStateManager</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> manager;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">ContentManager</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> content;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">GraphicsDeviceManager</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> graphics;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Game</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> game;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: gray;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">Game</span> Game</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">get</span> { <span style="color: blue;">return</span> game; }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: gray;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">GameStateManager</span>
Manager</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">get</span> { <span style="color: blue;">return</span> manager; }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: gray;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">ContentManager</span>
Content</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">get</span> { <span style="color: blue;">return</span> content; }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: gray;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">GraphicsDevice</span>
GraphicsDevice</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">get</span> { <span style="color: blue;">return</span> graphics.GraphicsDevice; }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: gray;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">GraphicsDeviceManager</span>
GraphicsManager</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">get</span> { <span style="color: blue;">return</span> graphics; }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see we are exposing some fairly basic data similar
to what you would see in a game class or in a game component. Next let�s create
a constructor to create a GameState instance and retrieve this data.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> GameState(<span style="color: rgb(43, 145, 175);">Game</span>
game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">this</span>.game =
game;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      manager = game.Services.GetService(<span style="color: blue;">typeof</span>(<span style="color: rgb(43, 145, 175);">GameStateManager</span>))
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">GameStateManager</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      content = game.Services.GetService(<span style="color: blue;">typeof</span>(<span style="color: rgb(43, 145, 175);">ContentManager</span>))
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">ContentManager</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      graphics= game.Services.GetService(<span style="color: blue;">typeof</span>(<span style="color: rgb(43, 145, 175);">IGraphicsDeviceService</span>))
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">GraphicsDeviceManager</span>;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Our constructor simply takes in a Game instance and uses
the Services collection to retrieve the other three pieces of data we need.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The last piece of our GameState class is to define the
methods that will be called by our GameStateManager to update and draw each
state:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">abstract</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">abstract</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">And that�s it. We now have a simple GameState class which
we can derive to create small portions of our game�s overall code.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869702">The GameStateManager Class</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Now that we have a GameState object, let�s create the
GameStateManager type we used in the GameState class:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">GameStateManager</span> : <span style="color: rgb(43, 145, 175);">DrawableGameComponent</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">      public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> GameStateManager(<span style="color: rgb(43, 145, 175);">Game</span> game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }<span style="color: blue;"> </span></font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We�ve now created a very basic DrawableGameComponent
shell for us to store the game states. To do this, we first need to add an
enumeration to our game that we will call �AAGameState� (for Alien Aggressors
Game State). This enumeration will be used to set or change the current game
state in the GameStateManager. Here is what our enumeration looks like:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">enum</span> <span style="color: rgb(43, 145, 175);">AAGameState</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      MainMenu,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Options,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      LevelTransition,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Playing,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Paused,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Win,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Lose,</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see we track every aspect of the game including
which player paused the game. Now we can add some data to our manager.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">GameStateManager</span> : <span style="color: rgb(43, 145, 175);">DrawableGameComponent</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">Dictionary</span>&lt;<span style="color: rgb(43, 145, 175);">AAGameState</span>,
<span style="color: rgb(43, 145, 175);">GameState</span>&gt; GameStates =</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Dictionary</span>&lt;<span style="color: rgb(43, 145, 175);">AAGameState</span>,
<span style="color: rgb(43, 145, 175);">GameState</span>&gt;();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">AAGameState</span> CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.MainMenu;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We have added a Dictionary to keep track of all of the
game�s states so that we can easily access any given state using our
enumeration. We also have a variable to track the current game state. Next
let�s add a simple Update and Draw method to update and draw the current state:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GameState</span>
state;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(GameStates.TryGetValue(CurrentState, <span style="color: blue;">out</span>
state))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            state.Update(gameTime);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GameState</span>
state;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(GameStates.TryGetValue(CurrentState, <span style="color: blue;">out</span>
state))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            state.Draw(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We use the TryGetValue method rather than indexing the
dictionary so that we can avoid throwing exceptions in cases where a game state
might not have been added properly.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869703">The PlayingGameState Class</a></font></h2>

<p class="MsoNoSpacing"><font size="2">The next thing we should do is start moving our code out
of the game class and into new game state classes. To start create a new class
called �PlayingGameState� that derives from the GameState class.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">PlayingGameState</span> : <span style="color: rgb(43, 145, 175);">GameState</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
PlayingGameState(<span style="color: rgb(43, 145, 175);">Game</span> game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span> gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span> gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s add some fields to the class:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">SpriteBatch</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> spriteBatch;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">PlayerShip</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> player1;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s add the code to create these objects. Our game
states are going to be created in the Game.Initialize method after
base.Initialize to ensure our GraphicsDevice is valid, so loading content in
the constructor is perfectly acceptable.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> PlayingGameState(<span style="color: rgb(43, 145, 175);">Game</span>
game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      : <span style="color: blue;">base</span>(game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">SpriteBatch</span>(GraphicsDevice);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1 = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">PlayerShip</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"player1"</span>), </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">      <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One);</span> </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Position = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(100f);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s add the correct Update and Draw code to update
and draw the player:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Update(gameTime,
GraphicsDevice.Viewport.Width);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.End();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">To support the new state management system, we need to do
some updating to our game class. First let�s remove the PlayerShip declaration
from the fields and add a new GameStateManager declaration. So now our game
class has these fields in it:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">GraphicsDeviceManager</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> graphics;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">SpriteBatch</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> spriteBatch;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">StarryBackground</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> stars;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">GameStateManager</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> stateManager;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we�re going to update the game�s constructor to not
only create the GameStateManager, but also to register it and the
ContentManager as services:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> Game1()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      graphics = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">GraphicsDeviceManager</span>(<span style="color: blue;">this</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Content.RootDirectory = <span style="color: rgb(163, 21, 21);">"Content"</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      stateManager = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">GameStateManager</span>(<span style="color: blue;">this</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Components.Add(stateManager);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Services.AddService(<span style="color: blue;">typeof</span>(<span style="color: rgb(43, 145, 175);">ContentManager</span>), Content);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Services.AddService(<span style="color: blue;">typeof</span>(<span style="color: rgb(43, 145, 175);">GameStateManager</span>), stateManager);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we head to the Initialize method where we are going
to be creating our game states. Let�s go ahead and add a new instance of our
PlayingGameState. Remember we must do this <i>after</i> base.Initialize in
order to ensure our GraphicsDevice is valid.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">protected</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Initialize()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Initialize();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      stateManager.GameStates.Add(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">PlayingGameState</span>(<span style="color: blue;">this</span>));
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      stateManager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next remove all of the code that dealt with creating,
positioning, updating, or drawing player1. If you do a build at this point, the
compiler will point out, as errors, all the lines where you are using player1
in Game1.cs. Simply remove those lines. We want to leave the code for creating
and drawing the stars background because we will be drawing this for every game
state.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">If you run the game again, you�ll see we have the same
functionality as before, but we�ve wrapped it all inside of an easy to use
state management system. </font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h1><font size="2"><a name="_Toc195869704">Making the Game Play</a></font></h1>

<h2><font size="2"><a name="_Toc195869705">Adding Bullets</a></font></h2>

<p class="MsoNoSpacing"><font size="2">So far our ship can move around, but we�re not actually
able to shoot yet which is a fairly critical part of our game. We�re going to
now add in the system for firing bullets from the ship and making sure they
update properly. Let�s start by creating the base of all of this: the �Bullet�
class. The class will contain a static texture and origin for all bullets to
use, as well as a position, velocity, and color used for rendering. Lastly the
Bullet will have a Bounds property to get a bounding rectangle:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">Bullet</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">Texture2D</span>
Texture;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">Vector2</span>
Origin;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">Vector2</span> Position;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">Vector2</span> Velocity;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">Color</span> Color;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">Rectangle</span> Bounds</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">get</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">return</span>
<span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Rectangle</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        (<span style="color: blue;">int</span>)(Position.X
- Origin.X),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        (<span style="color: blue;">int</span>)(Position.Y
- Origin.Y),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        Texture.Width,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        Texture.Height);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s add a simple Update method which will add the
velocity to the position and a Draw method to draw the bullet out using a
SpriteBatch:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Update()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Position += Velocity;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">SpriteBatch</span> spriteBatch)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Draw(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Texture,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">null</span>,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Color,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            0,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Origin,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            1f,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">SpriteEffects</span>.None,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            0);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that we have a Bullet class we can use, let�s put
this into action. In our PlayingGameState class, let�s add a new list of
bullets for the player:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">List</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;
playerBullets = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;();</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we want to update the Ship and PlayerShip classes to
handle firing these bullets for us. Let�s start with the Ship class. We�re
going to need to track elapsed time so that our ship can only fire bullets at a
given rate. To do this we need two values:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">float</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> fireTimer = 0f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">float</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> fireRate = .4f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">float</span> FireRate</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">get</span> { <span style="color: blue;">return</span> fireRate; }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">set</span> { fireRate
= (<span style="color: blue;">float</span>)<span style="color: rgb(43, 145, 175);">Math</span>.Max(<span style="color: blue;">value</span>, .01f); }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we need some values to know where to fire bullets
from, what initial velocity to give them, and what color to make them:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">Color</span>
BulletColor = <span style="color: rgb(43, 145, 175);">Color</span>.Blue;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">Vector2</span>
BulletVelocity = <span style="color: rgb(43, 145, 175);">Vector2</span>.UnitY;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">Vector2</span>
BulletOrigin = <span style="color: rgb(43, 145, 175);">Vector2</span>.Zero;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we�re going to create a Fire method to handle
actually firing a bullet. To do this we need to take that list of bullets as a
parameter to the method.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Fire(<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;
bullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (fireTimer
&lt;= 0f)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            fireTimer = fireRate;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Bullet</span>
b = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Bullet</span>();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Position = Position + BulletOrigin;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Velocity = BulletVelocity;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Color = BulletColor;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bullets.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">So you see we first make sure the fireTimer is less than
or equal to zero and then we create the bullet using the values set above. We
also set fireTimer to fireRate which is how we are able to control the speed of
the firing. Next we need to change the Update method to take the bullet list as
a parameter and also to update the fireTimer:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">virtual</span> <span style="color: blue;">void</span> Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt; bullets, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span>
fieldWidth)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      fireTimer -= (<span style="color: blue;">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we have to update the PlayerShip class to use this
new Update method and let us fire bullets. Let�s first fix the Update method
declaration to match the Ship class:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">PlayerShip</span> : <span style="color: rgb(43, 145, 175);">Ship</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      �</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt; bullets, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">int</span>
fieldWidth)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      { � }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      �</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We also need to make sure the PlayerShip has the proper
values in place for firing the bullets. Let�s go ahead and set some values for
that in the constructor:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">BulletColor = <span style="color: rgb(43, 145, 175);">Color</span>.Red;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">BulletVelocity = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(0f, -5f); </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">BulletOrigin = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(0, -Bounds.Height / 2);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">These values make sure our bullets go up (using the
negative Y velocity) and that they start from the middle of the top of the
sprite. The BulletOrigin is an offset from the center of our sprite from which
we will fire bullets. Since the position is already the center of the sprite,
we just move upwards by half of the sprite�s height. We also set the bullets to
be Red instead of the default Blue.</font></p>

<p class="MsoNoSpacing"><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">Now we can update our two input handling methods in
PlayerShip to call the Fire method and let us shoot some bullets:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
UpdateKeyboard(<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt; bullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">KeyboardState</span>
keyState = <span style="color: rgb(43, 145, 175);">Keyboard</span>.GetState();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.A) ||
keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.Left))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X -= 3;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.D) ||
keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.Right))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X += 3;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(keyState.IsKeyDown(<span style="color: rgb(43, 145, 175);">Keys</span>.Space))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Fire(bullets);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
UpdateGamePad(<span style="color: rgb(43, 145, 175);">GamePadState</span> gps, <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;
bullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Position.X += gps.ThumbSticks.Left.X * 3;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(gps.Buttons.A == <span style="color: rgb(43, 145, 175);">ButtonState</span>.Pressed ||
gps.Triggers.Right &gt; .3f)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Fire(bullets);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly we make sure to put the bullet list into our
method calls in the Update method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GameTime</span> gameTime,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt; bullets, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span>
fieldWidth)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GamePadState</span>
gps = <span style="color: rgb(43, 145, 175);">GamePad</span>.GetState(index);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(gps.IsConnected)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            UpdateGamePad(gps, bullets);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            UpdateKeyboard(bullets);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(Bounds.Left &lt; 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X = Bounds.Width / 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (Bounds.Right &gt; fieldWidth)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Position.X = fieldWidth - Bounds.Width /
2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime,
bullets, fieldWidth);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now our PlayerShip can shoot bullets, but we have yet to
update or draw them. Let�s head back out to the PlayingGameState class and make
some changes in there. First we�re going to reposition our sprite to the bottom
of the screen where we want him when playing:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">player1.Position = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsDevice.Viewport.Width / 2 -
player1.Bounds.Width / 2, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsDevice.Viewport.Height -
player1.Bounds.Height);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This code will place our sprite exactly in the center of
the screen at the bottom. Next we need to make sure we load in the bullet
texture and set the bullet origin for rendering. Let�s add these two lines to
the constructor as well:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Bullet</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">.Texture = Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"bullet"</span>);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Bullet</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">.Origin = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(<span style="color: rgb(43, 145, 175);">Bullet</span>.Texture.Width
/ 2, <span style="color: rgb(43, 145, 175);">Bullet</span>.Texture.Height / 2);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s head to the Update method and make sure we�re
passing our player the bullet list and that we�re updating the bullets. We�re
going to implement a simple system for removing bullets that leave the screen
as well:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Update(gameTime, playerBullets,
GraphicsDevice.Viewport.Width);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Rectangle</span>
screenRect = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Rectangle</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            0, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            0, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Height);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt; bulletsToRemove = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(!screenRect.Intersects(b.Bounds))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
bulletsToRemove)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            playerBullets.Remove(b);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The reason we use a second list is because you cannot
remove elements of a list during a foreach loop. So we generate a second list
of bullets that we want to remove. Then when our foreach loop on the
playerBullets list ends, we loop through the list of bullets to remove and
remove them from the playerBullets list.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly we need to render our bullets, so let�s update our
Draw method to do this:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.End();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now when you run the game you are able to move side to
side and fire bullets using the spacebar. You can adjust the fireRate variable
in the Ship class to determine how fast your ship can shoot. The smaller the
number, the faster he shoots.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image007.png" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 7: The player ship firing bullets.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><span style="font-size: 9pt; color: rgb(79, 129, 189);"><font size="2">&nbsp;</font></span></p>

<h2><font size="2"><a name="_Toc195869706">A Lone Aggressor</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Now that we have bullets flying around, let�s start
adding things to shoot at. We�re going to create a grid of alien ships that
move side to side, dropping down a row each time the grid hits the side of the
screen. To begin working on this, we first need to create the AlienShip class
deriving from our Ship class.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">AlienShip</span> : <span style="color: rgb(43, 145, 175);">Ship</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
AlienShip(<span style="color: rgb(43, 145, 175);">Texture2D</span> spriteTexture)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(spriteTexture)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First we need to set the proper bullet values in our
constructor.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> AlienShip(<span style="color: rgb(43, 145, 175);">Texture2D</span>
spriteTexture)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      : <span style="color: blue;">base</span>(spriteTexture)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      BulletOrigin = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(0, 16);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      BulletVelocity = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(0, 5);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      BulletColor = <span style="color: rgb(43, 145, 175);">Color</span>.Blue;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we add to our AlienShip class a static Random
instance for generating the random numbers for determining when to fire as well
as a value indicating the chance to fire. Our ChanceToFire represents the
number of times out of 1,000 that the alien should fire a bullet. A small
number is usually sufficient, but you could add a harder difficulty and move
this up.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">static</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">Random</span> rand = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Random</span>();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">int</span> ChanceToFire = 2;</font></span></p>

<p class="MsoNoSpacing"><font size="2">Lastly we need to override the Update method to random
fire bullets from the ship:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">      GameTime</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> gameTime, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">      List</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;
bullets, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span>
fieldWidth)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(rand.Next(1000) &lt; ChanceToFire)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Fire(bullets);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime,
bullets, fieldWidth);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that we have the AlienShip finished, let�s put a
single ship on the screen and see if it will fire down towards the player.
First thing is to make sure that you add the alien.png file to your content
project. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Once that�s done let�s head back to the PlayingGameState
class and add in a new list of bullets and alien ship:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">List</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;
alienBullets = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">AlienShip</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> alienShip;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We want to keep the alien bullets in a separate list from
the player bullets so that later on we can easily tell which is which when
doing collision detection.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s create the alien ship in our constructor:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">alienShip = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">AlienShip</span>(Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"alien"</span>));</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">alienShip.Position = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsDevice.Viewport.Width / 2 -
alienShip.Bounds.Width / 2,</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienShip.Bounds.Height);</font></span></p>

<p class="MsoNoSpacing"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing"><font size="2">This creates the alien ship in the middle of the top of
the screen. Next let�s revise the Update method to update the alien ship as
well as the alien bullets.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            gameTime, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            playerBullets, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienShip.Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            gameTime, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            alienBullets, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Rectangle</span>
screenRect = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Rectangle</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            0, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            0, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Height);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt; bulletsToRemove = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(!screenRect.Intersects(b.Bounds))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
bulletsToRemove)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            playerBullets.Remove(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      bulletsToRemove.Clear();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
alienBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(!screenRect.Intersects(b.Bounds))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
bulletsToRemove)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            alienBullets.Remove(b);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You can see we are basically duplicating the code used
for the player in order to update the alien and its bullets. Now let�s update
the Draw method to render out the new alien and bullets.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Bullet</span> b <span style="color: blue;">in</span>
alienBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienShip.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.End();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now run the game. The alien should appear at the top of
the screen and fire down at the player periodically. Again you can adjust the
ChanceToFire variable to make the alien fire more or less frequently.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869707">Enemy Fleet Approaching</a></font></h2>

<p class="MsoNoSpacing"><font size="2">We now have a single alien ship that is capable of firing
at the player, but this one-on-one style game wouldn�t be nearly as fun. What
we need to do now is create a structure capable of holding a grid of aliens. If
we think back to Space Invaders, you�ll remember that the game plays with a
large grid of aliens moving back and forth on the screen. Each time   the grid
hits an edge, the whole grid steps down a row. This is the effect we are going
to achieve. Let�s begin by adding a new class to our project called
�AlienGrid�. This class is going to derive from a
List&lt;List&lt;AlienSprite&gt;&gt;:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">AlienGrid</span> : <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">AlienShip</span>&gt;&gt;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The reason we are using a List of Lists of Aliens is to
create the grid. Let�s use this diagram of the original Space Invaders to
visualize this data structure:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image008.png" width="418" height="270"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 8: Our List&lt;List&lt;AlienShip&gt;&gt; visualized in Space Invaders.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">In this diagram we can look at a single inner, red box as
a List&lt;AlienShip&gt;. It�s a single column of alien ships. The outer, blue
box is the List&lt;List&lt;AlienShip&gt;&gt; (the AlienGrid class itself)
because it contains multiple lists of aliens.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that we have a basic understanding of the AlienGrid
structure, let�s work on bringing this to life. First we need to add a couple
pieces of data to the class:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">const</span> <span style="color: blue;">float</span> MaxSpeed = 10f;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">float</span> Velocity =
1f;</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We define a MaxSpeed as a constant to limit how fast the
alien ships can move side to side. We also include the current Velocity of the
grid. These are both defined as pixels per frame.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s add the meat of the class: the Update method.
Here�s the full code which we�ll dissect into smaller pieces afterwards:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">bool</span> Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt; bullets,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span> fieldWidth,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span>
playerLine)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (<span style="color: blue;">this</span>.Count == 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return false</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">AlienShip</span>
leftMost = <span style="color: blue;">this</span>[0][0];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">AlienShip</span>
rightMost = <span style="color: blue;">this</span>[<span style="color: blue;">this</span>.Count
- 1][0];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> ((Velocity
&gt; 0 &amp;&amp; rightMost.Bounds.Right &gt;= fieldWidth) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            (Velocity &lt; 0 &amp;&amp;
leftMost.Bounds.Left &lt;= p))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">            float</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> velocityChange = 1.01f;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Velocity = <span style="color: rgb(43, 145, 175);">MathHelper</span>.Clamp(</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  Velocity * -velocityChange, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  -MaxSpeed, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  MaxSpeed);</font></span><font size="2"> </font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">foreach</span>
(<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">AlienShip</span>&gt;
column <span style="color: blue;">in</span> <span style="color: blue;">this</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">foreach</span>
(<span style="color: rgb(43, 145, 175);">Sprite</span> enemy <span style="color: blue;">in</span>
column)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        enemy.Position.Y += enemy.Bounds.Height
/ 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        <span style="color: blue;">if</span>
(enemy.Bounds.Bottom &gt; playerLine)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                              <span style="color: blue;">return</span> <span style="color: blue;">true</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">AlienShip</span>&gt;
column <span style="color: blue;">in</span> <span style="color: blue;">this</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">foreach</span>
(<span style="color: rgb(43, 145, 175);">AlienShip</span> enemy <span style="color: blue;">in</span>
column)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  enemy.Position.X += Velocity;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  enemy.Update(gameTime, bullets,
fieldWidth);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">return</span> <span style="color: blue;">false</span>;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">That�s quite a bit of code so let�s go piece by piece and
make sure we understand all of it. Let�s start with the method declaration
itself:</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">bool</span> Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt; bullets,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span>
fieldWidth,</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span>
playerLine)</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The method takes in a GameTime, list of Bullet, and field
width much like the Update method for the Ship class. We are also taking in a
playerLine value. This value is the top of the player�s bounding box and is
used to determine if the aliens have won the game by reaching the player�s
level. The method also returns a boolean value. This value indicates whether or
not the aliens have won. For example if we return true the game will assume the
aliens have reached the bottom and cause the game to end as a loss for the
player.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: blue;">this</span>.Count == 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">return false</span>;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This first piece of code simply makes sure that we have
at least one column of aliens in the grid. If the grid has no columns (and
therefore is empty) we just return false to end the method.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">AlienShip</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> leftMost = <span style="color: blue;">this</span>[0][0];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">AlienShip</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> rightMost = <span style="color: blue;">this</span>[<span style="color: blue;">this</span>.Count -
1][0];</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">These next two lines find the aliens that are furthest to
the left of the screen and furthest to the right by grabbing the first and last
columns in the grid and taking the first ship inside of them.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> ((Velocity &gt; 0 &amp;&amp; rightMost.Bounds.Right
&gt;= fieldWidth) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (Velocity &lt; 0 &amp;&amp;
leftMost.Bounds.Left &lt;= 0))</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This if statement checks to see if the grid has hit an
edge of the screen. We test the velocity as well as the bounds to ensure that
we don�t get stuck on the edge of the screen continually reversing the
velocity.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">float</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> velocityChange = 1.01f;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">Velocity = <span style="color: rgb(43, 145, 175);">MathHelper</span>.Clamp(Velocity
* -velocityChange, -MaxSpeed, MaxSpeed);</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">These two lines are used to reverse the velocity of the
grid. First we choose the velocity change as a positive value. Currently we set
this to 1.01f which will cause the ships to accelerate slightly each time they
reverse direction. The second line applies this change as a negative
multiplication with the Velocity. It does this inside of a call to
MathHelper.Clamp to make sure our Velocity stays within the specified maximum
speed.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">AlienShip</span>&gt; column <span style="color: blue;">in</span>
<span style="color: blue;">this</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">Sprite</span> enemy <span style="color: blue;">in</span>
column)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            enemy.Position.Y += enemy.Bounds.Height
/ 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(enemy.Bounds.Bottom &gt; playerLine)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">return</span>
<span style="color: blue;">true</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">} </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">return</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">false</span>;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This loop is used to shift all of the individual aliens
down a value equal to one half of their height. Inside the loops we also check
to see if the enemy has passed the player line and return true if that is the
case. Lastly we return false to indicate that no alien has reached the player.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">With our Update method in place, let�s create an
Initialize method that will quickly generate a grid of aliens of a size of our
choosing.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Initialize(<span style="color: rgb(43, 145, 175);">Texture2D</span> alienTexture, <span style="color: blue;">int</span>
columns, <span style="color: blue;">int</span> rows)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">this</span>.Clear();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">for</span> (<span style="color: blue;">int</span> x = 0; x &lt; columns; x++)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">AlienShip</span>&gt; column = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">AlienShip</span>&gt;();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">for</span> (<span style="color: blue;">int</span> y = 0; y &lt; rows; y++)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: rgb(43, 145, 175);">AlienShip</span>
alien = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">AlienShip</span>(alienTexture);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: rgb(43, 145, 175);">Vector2</span>
alienSpacing = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        alien.Bounds.Width,</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        alien.Bounds.Height) *
1.25f;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  alien.Position = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        (alien.Bounds.Width / 2) +
(alienSpacing.X * x),</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        (alien.Bounds.Height / 2) +
(alienSpacing.Y * y));</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  column.Add(alien);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">this</span>.Add(column);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing"><font size="2">The first thing we do in Initialize is clear the grid.
Next we loop over the number of columns creating a new List&lt;AlienShip&gt;
for each column. Next we loop over the number of rows adding a new alien to the
column for each row. We generate the positions for each alien based on the
bounds of the ship plus a spacing amount and the (X, Y) position of the ship in
the grid.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we are just going to add a Draw method to allow us to
quickly draw the entire grid of aliens:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">SpriteBatch</span> spriteBatch)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">AlienShip</span>&gt;
column <span style="color: blue;">in</span> <span style="color: blue;">this</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">foreach</span>
(<span style="color: rgb(43, 145, 175);">AlienShip</span> s <span style="color: blue;">in</span>
column)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  s.Draw(spriteBatch);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">And our grid class is done. Let�s go ahead and add a grid
to our PlayingGameState. First remove all of the references to the individual
AlienShip we added previously. Leave the List&lt;Bullet&gt; as we need that for
the grid, but remove the individual ship from the game. Next let�s add a new
grid to our game:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">AlienGrid</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> alienGrid = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">AlienGrid</span>();</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s initialize the grid in our constructor. We�ll
start by creating a grid with ten columns and five rows:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">alienGrid.Initialize(Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"alien"</span>),
10, 5);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s update the alien grid in the Update method.
For now we�re going to ignore the return value of the method.</font></p>

<p class="MsoNoSpacing"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">alienGrid.Update(</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      gameTime, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienBullets, </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsDevice.Viewport.Width,</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Bounds.Top);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">And last we need to add the call to the alien grid�s Draw
method in our PlayingGameState�s Draw method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">alienGrid.Draw(spriteBatch);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now when you run the game you should have an entire alien
fleet moving back and forth on the screen raining bullets down on the player.
You�ll notice that while the single ship didn�t seem to fire much, with this
many ships on screen it still is a lot of bullets. At this point, we�re almost
at a point where we have a game. Next we�re going to add in a point and life
system to the game along with the ability to win or lose.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image009.png" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 9: The attacking alien fleet.</font></p>

<h2><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;; color: windowtext; font-weight: normal;"><font size="2">&nbsp;</font></span></h2>

<font size="2"><b><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><br style="page-break-before: always;" clear="all">
</span></b>

</font><p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869708">Taking Damage</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Now that we have some bullets and enemies, let�s start to
add the required data to make our game more of a challenge. To do this, we need
to allow the player to lose. Let�s go ahead and add some data to the PlayerShip
class. We�re going to add in the number of extra lives the player has as well
as a property to determine if the player is still alive. So add this code into
your PlayerShip class:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">int</span> ExtraLives = 3;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">bool</span> IsAlive</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">get</span> { <span style="color: blue;">return</span> ExtraLives &gt;= 0; }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see that we are not setting the total number of
lives for the player, but the number of <i>extra</i> lives. This means that the
player is alive as long as ExtraLives is greater than or equal to zero. Once it
falls below zero, we know that the player has died.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that the proper data is in place, we need to start
seeing if all those bullets are actually hitting anything. Let�s add a new
method to our Ship class to tell is whether or not a bullet has hit the ship:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">bool</span> CollideBullet(<span style="color: rgb(43, 145, 175);">Bullet</span> b)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">return</span> Bounds.Contains((<span style="color: blue;">int</span>)b.Position.X, (<span style="color: blue;">int</span>)b.Position.Y);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">So all we are doing is seeing if the ship�s bounds
contain the bullet�s position. That tells us whether or not the bullet hit the
ship. Next let�s update our AlienGrid class to be able to check for collisions
on all of the alien ships inside:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">bool</span> CollideBullet(<span style="color: rgb(43, 145, 175);">Bullet</span> b)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{ </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (<span style="color: blue;">this</span>.Count == 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return false</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">AlienShip</span>
collider = <span style="color: blue;">null</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">foreach</span> (<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">AlienShip</span>&gt;
column <span style="color: blue;">in</span> <span style="color: blue;">this</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">foreach</span>
(<span style="color: rgb(43, 145, 175);">AlienShip</span> enemy <span style="color: blue;">in</span>
column)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">if</span>
(enemy.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        collider = enemy;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        <span style="color: blue;">break</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span> (collider
!= <span style="color: blue;">null</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  column.Remove(collider);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">break</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">for</span> (<span style="color: blue;">int</span> i = <span style="color: blue;">this</span>.Count -
1; i &gt;= 0; i--)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span> (<span style="color: blue;">this</span>[i].Count == 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">this</span>.RemoveAt(i);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">return</span>
(collider != <span style="color: blue;">null</span>);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Let�s run through this and make sure we understand just
what is happening here.  First we create an AlienShip variable to store the
ship that is hit by the bullet. Next we loop through the grid of aliens and use
the CollideBullet method to see if the bullet hit the ship. If it did we store
that ship as the collider and break out of the inner loop. Then we check to see
if the collider is not null. If it has a value, we remove that ship from the
column and break out of the outer loop. After that we run a loop to see if any
of the columns are empty. We do this is a loop that counts down so that we can
use the RemoveAt method and remove any empty columns. Lastly we return whether
or not the collider is not null to tell our game whether or not we hit an alien
ship.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we can change the code in our PlayingGameState�s
Update method to allow us to kill of the enemy ships. All we need to do is find
the foreach loop that iterated over the playerBullets list and update it to
call the AlienGrid�s CollideBullet method:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">Bullet</span> b
<span style="color: blue;">in</span> playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      b.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(!screenRect.Intersects(b.Bounds))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (alienGrid.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now our game checks to see if a bullet collides with any
of the alien ships and flags that for removal as well. Run the game now and
you�ll see that you are able to shoot the enemy ships and have them disappear
from the game. Also note that you can eliminate whole columns from the end and
the ships make sure to go all the way to the edge just like they�re supposed
to.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Since our aliens are now vulnerable to bullets, let�s do
the same for the player. Obviously we don�t want him to disappear after the
first hit, but we want to indicate that he was shot. What we�ll do then is
reset him to the left side of the screen. Let�s now update the foreach loop
iterating over the alienBullets list to respond to the player being shot:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">Bullet</span> b
<span style="color: blue;">in</span> alienBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      b.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(!screenRect.Intersects(b.Bounds))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (player1.IsAlive &amp;&amp; player1.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player1.ExtraLives--;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player1.Position.X =
player1.Bounds.Width / 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see that if the player is hit by a bullet, we
remove it from the list. Then we subtract one from the player�s extra lives and
set the player�s X location to half of his bound�s width which will move him
all the way to the left side of the screen.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We also want to change how we call the player1.Update to
make sure the player is alive before updating him. This will be used later when
we add the co-op:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (player1.IsAlive)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Update(gameTime, playerBullets,
GraphicsDevice.Viewport.Width);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869709">Only One Can Win</a></font></h2>

<p class="MsoNoSpacing"><font size="2">At this point the aliens can shoot the player who gets
reset and the player can shoot the aliens until they are all gone. But this
still doesn�t count as a win. It just leaves the player all alone in space with
nothing to do. Let�s go ahead and create a new game state called
�EndPlayingGameState�:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">EndPlayingGameState</span>: <span style="color: rgb(43, 145, 175);">GameState</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
EndPlayingGameState(<span style="color: rgb(43, 145, 175);">Game</span> game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span> gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span> gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First thing we need is a SpriteBatch and SpriteFont to
display the results of the game. </font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">SpriteBatch</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> spriteBatch;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">SpriteFont</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> spriteFont;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">And in the constructor we�ll create the SpriteBatch and
load the SpriteFont:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">spriteBatch = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">SpriteBatch</span>(GraphicsDevice);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">spriteFont = Content.Load&lt;<span style="color: rgb(43, 145, 175);">SpriteFont</span>&gt;(<span style="color: rgb(163, 21, 21);">"Courier
New"</span>);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll notice that we are loading a file called �Courier
New�. We can create this file by right clicking on the Content project in our
game and selecting Add New Item. When the window opens, select Sprite Font and
type �Courier New� for the name. This should create a new .spritefont file in
your content project using Courier New for the font.</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image010.png" width="430" height="260"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 10: Creating the Courier New SpriteFont.</font></p>

<p class="MsoNoSpacing"><font size="2">Next we want to modify the font a little bit. Open up the
�Courier New.spritefont� file and let�s take a look. It�s all pretty much XML
inside so it�s pretty easy to edit. The template also includes a lot of
comments to help. We�re going to change the font�s size to 20 and set the style
to Bold.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s fill in the EndPlayingGameState�s draw method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span>
centerScreen = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width / 2, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Height / 2);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">string</span> result
= (Manager.CurrentState == <span style="color: rgb(43, 145, 175);">AAGameState</span>.Win)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            ? <span style="color: rgb(163, 21, 21);">"WIN!"</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: rgb(163, 21, 21);">"FAIL!"</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span> halfStringSize
= spriteFont.MeasureString(result) / 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.DrawString(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            spriteFont,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            result,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            centerScreen - halfStringSize,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.End();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First we calculate the center of the screen. Next we
determine what text to display. Since we will use the same screen for both
winning and losing, we check to see whether we won and use that to pick the
appropriate string. Next we figure out half of the size of that text. Then we
render the text to the center of the screen using the font we created.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s add the code into our PlayingGameState to
trigger the new state when the player has either won or lost. We can do this
inside our update method. First we want to tweak our call to alienGrid.Update
to see if the alien�s have reached the player:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (alienGrid.Update(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      gameTime, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienBullets, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsDevice.Viewport.Width, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Bounds.Top))</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Lose;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we�ll add the logic into our bullet loops to see if
the player has died or if all the aliens are dead. First let�s take a look at
the case where all of the aliens are dead. We do this by updating our foreach
loop that iterates over the playerBullets list:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">Bullet</span> b
<span style="color: blue;">in</span> playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      b.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(!screenRect.Intersects(b.Bounds))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (alienGrid.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(alienGrid.Count == 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Win;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The key part in there is where we check to see if the
alienGrid.Count is zero. If that reaches zero we know there are no more aliens
so we switch the Manager�s CurrentState to Win. Now let�s do a similar thing in
the foreach loop iterating over the alienBullets list:</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">Bullet</span> b
<span style="color: blue;">in</span> alienBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      b.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(!screenRect.Intersects(b.Bounds))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (player1.IsAlive &amp;&amp; player1.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player1.ExtraLives--;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player1.Position.X =
player1.Bounds.Width / 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(!player1.IsAlive)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Lose;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see that in this loop we check to see if the
player is not alive and switch to the Lose gamestate if that is the case. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s add the new state in our Game1 class for both of
the game states it represents. This should go in our Initialize method right
next to where we created the PlayingGameState:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">EndPlayingGameState</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> epgs = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">EndPlayingGameState</span>(<span style="color: blue;">this</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">stateManager.GameStates.Add(<span style="color: rgb(43, 145, 175);">AAGameState</span>.Win,
epgs);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">stateManager.GameStates.Add(<span style="color: rgb(43, 145, 175);">AAGameState</span>.Lose,
epgs);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">If you run the game at this point, you�ll find that you
can win or lose depending on whether you lose all of your lives, kill all the
aliens, or let the aliens reach the bottom. At this point we have basically
completed the game-play for Alien Aggressors.  In the next few sections, we�ll
cover adding some polish to the game.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image011.jpg" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 11: We have failed humanity.</font></p>

<h1><font size="2"><a name="_Toc195869710">There�s More to a Game than Just the Game</a></font></h1>

<h2><font size="2"><a name="_Toc195869711">Decisions, Decisions</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Most games generally don�t launch straight into the
action, so having our game contain a main menu is a big step in the right
direction. To accomplish this, let�s start by creating a main menu from the
ground up starting with our �MenuItem� class which will represent a single option
the user can select.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">MenuItem</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">string</span> Name;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">event</span> <span style="color: rgb(43, 145, 175);">EventHandler</span>
Activate;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">      </font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">event</span>
<span style="color: rgb(43, 145, 175);">EventHandler</span> OptionLeft;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">event</span> <span style="color: rgb(43, 145, 175);">EventHandler</span>
OptionRight;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">bool</span> IsDisabled = <span style="color: blue;">false</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
MenuItem(<span style="color: blue;">string</span> name)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Name = name;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }<br>
}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Our MenuItem class is pretty basic. It contains a Name,
some events for being activated and allow us to change options (such as volume
levels which we�ll add later), and a bool value for disabling the item from
being selected. Lastly we have a constructor to simply create the item with a
given name.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s add a few methods that our Menu class can use
to trigger the events we created:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
PerformActivate()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (Activate
!= <span style="color: blue;">null</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Activate(<span style="color: blue;">this</span>,
<span style="color: blue;">null</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
PerformOptionLeft()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (OptionLeft
!= <span style="color: blue;">null</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            OptionLeft(<span style="color: blue;">this</span>,
<span style="color: blue;">null</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
PerformOptionRight()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(OptionRight != <span style="color: blue;">null</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            OptionRight(<span style="color: blue;">this</span>,
<span style="color: blue;">null</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Pretty simple stuff in there. We�re just wrapping methods
around that so our Menu can call those event handlers.</font></p>

<p class="MsoNoSpacing"><font size="2"><br>
Now let�s move on to create the actual �Menu� class:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">Menu</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">MenuItem</span>&gt;
Items = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">MenuItem</span>&gt;();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span> currentItem = 0;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">MenuItem</span> SelectedItem</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">get</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">if</span>
(Items.Count &gt; 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        <span style="color: blue;">return</span>
Items[currentItem];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        <span style="color: blue;">return</span>
<span style="color: blue;">null</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; text-align: left; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" align="left"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }<br>
}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Our Menu contains a list of menu items as well as the
index of the currently selected item. We also expose a property that returns
the selected item if there is one or null if there is not a selected item.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s add some methods for moving through the
different items.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> SelectNext()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(Items.Count &gt; 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">do</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  currentItem = (currentItem + 1) %
Items.Count;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            } <span style="color: blue;">while</span>
(SelectedItem.IsDisabled);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> SelectPrevious()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(Items.Count &gt; 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">do</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  currentItem--;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">if</span>
(currentItem &lt; 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        currentItem = Items.Count -
1;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            } <span style="color: blue;">while</span>
(SelectedItem.IsDisabled);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}           </font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">In both of the Select methods we have a do-while loop
that will loop until we find a non-disabled item in the list of items. The
SelectNext method takes advantage of the modulo operator to make sure that we
loop around the end of the list back up to the start while the SelectPrevious
method uses a standard if statement to check for that. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly for the menu is to create a method for rendering
it:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">SpriteBatch</span> spriteBatch, <span style="color: rgb(43, 145, 175);">SpriteFont</span>
font)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">for</span> (<span style="color: blue;">int</span> i = 0; i &lt; Items.Count; i++)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">MenuItem</span>
item = Items[i];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Vector2</span>
size = font.MeasureString(item.Name);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Vector2</span>
pos = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  spriteBatch.GraphicsDevice.Viewport.Width
/ 2,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  spriteBatch.GraphicsDevice.Viewport.Height
/ 2);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            pos -= size * .5f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            pos.Y += i * (size.Y * 1.1f);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Color</span>
color = <span style="color: rgb(43, 145, 175);">Color</span>.White;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span> (item
== SelectedItem)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  color = <span style="color: rgb(43, 145, 175);">Color</span>.Yellow;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">else</span> <span style="color: blue;">if</span> (item.IsDisabled)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  color = <span style="color: rgb(43, 145, 175);">Color</span>.DarkSlateGray;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            spriteBatch.DrawString(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  font,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  item.Name,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  pos,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  color);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.End();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Our draw method takes a SpriteBatch and SpriteFont for
the rendering. This helps by making it really easy to change fonts for your
rendering. It then loops over all the items, rendering them in a vertical list
starting at approximately the middle of the screen.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869712">Simplifying Input</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Now we have a nice menu system in place for us to use
while making our main menu and options screen. However one big problem we�re
going to face is controlling the input. Most input is simply polled on a
per-frame basis making it very hard to slowly go through the menu items. So
what we�re going to do is implement an InputHelper class that will make it very
easy for us to handle input on our menus. Let�s start with a basic shell:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">InputHelper</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">GamePadState</span>
GamePadState1;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">GamePadState</span>
GamePadState2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">KeyboardState</span>
KeyboardState;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">GamePadState</span>
LastGamePadState1;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">GamePadState</span>
LastGamePadState2;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">KeyboardState</span>
LastKeyboardState;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see that we store two states per input device
(we�re creating the data for the second player here as well, even though we
haven�t implemented the co-op). This is how we will track the current frame�s
input state and the previous frame�s input state. Next let�s start by creating
a method to update all of our input states:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">void</span> Update()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      LastGamePadState1 = GamePadState1;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      LastGamePadState2 = GamePadState2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      LastKeyboardState = KeyboardState;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GamePadState1 = <span style="color: rgb(43, 145, 175);">GamePad</span>.GetState(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GamePadState2 = <span style="color: rgb(43, 145, 175);">GamePad</span>.GetState(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      KeyboardState = <span style="color: rgb(43, 145, 175);">Keyboard</span>.GetState();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First we store the current values in the previous frame
variables and then we poll for the new input states. We�ll continue with our
actual helper methods that we will use throughout the menus. The first method
will tell us if a game pad button was just pressed this frame:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">bool</span> IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>
index, <span style="color: rgb(43, 145, 175);">Buttons</span> button)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">      </font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (index == <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return</span>
(GamePadState1.IsButtonDown(button) &amp;&amp; </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  LastGamePadState1.IsButtonUp(button));</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return</span>
(GamePadState2.IsButtonDown(button) &amp;&amp; </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  LastGamePadState2.IsButtonUp(button));</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The method takes in the index of the player to check and
the button to check and then performs some simple logic to see if the button is
pressed this frame but wasn�t last frame. Next let�s write a similar method for
the keyboard:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">bool</span> IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>
key)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">return</span>
(KeyboardState.IsKeyDown(key) &amp;&amp; LastKeyboardState.IsKeyUp(key));</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Again we just see if the key is currently pressed but was
not pressed last frame. Next we want to add similar functionality for the game
pad thumbsticks. The goal is to have a method where we can choose which
thumbstick and which axis on a specific game pad and see if the thumbstick just
passed a given value. The point of this is that we will be use this to allow
our thumbstick movements to only move a single item at a time. To write this
method, we first need to add a couple of enumerations to our project:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">enum</span> <span style="color: rgb(43, 145, 175);">Thumbstick</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Left,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Right</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">enum</span> <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      X,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Y</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">These two enumerations will be used by our method to
simply specify which thumbstick and axis we are trying to use. Now let�s write
up the method itself. It�s pretty lengthy but we�ll break it down afterwards:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">bool</span> DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">PlayerIndex</span>
index, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Thumbstick</span>
thumbstick,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>
axis, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">float</span>
threshold)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span>
lastThumbStick = <span style="color: rgb(43, 145, 175);">Vector2</span>.Zero;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span>
newThumbStick = <span style="color: rgb(43, 145, 175);">Vector2</span>.Zero;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (thumbstick
== <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(index == <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  lastThumbStick =
LastGamePadState1.ThumbSticks.Left;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  newThumbStick =
GamePadState1.ThumbSticks.Left;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  lastThumbStick =
LastGamePadState2.ThumbSticks.Left;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  newThumbStick =
GamePadState2.ThumbSticks.Left;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(index == <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  lastThumbStick =
LastGamePadState1.ThumbSticks.Right;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  newThumbStick =
GamePadState1.ThumbSticks.Right;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  lastThumbStick =
LastGamePadState2.ThumbSticks.Right;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  newThumbStick =
GamePadState2.ThumbSticks.Right;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">float</span>
lastValue = 0f, newValue = 0f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (axis == <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.X)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            lastValue = lastThumbStick.X;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            newValue = newThumbStick.X;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            lastValue = lastThumbStick.Y;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            newValue = newThumbStick.Y;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (threshold
&lt; 0f)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return</span>
(lastValue &gt; threshold &amp;&amp; newValue &lt; threshold);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return</span>
(lastValue &lt; threshold &amp;&amp; newValue &gt; threshold);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">It�s a lot of code, but luckily it�s a pretty simple
method. Let�s go through it in pieces and make sure everything makes sense.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span>
lastThumbStick = <span style="color: rgb(43, 145, 175);">Vector2</span>.Zero;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span>
newThumbStick = <span style="color: rgb(43, 145, 175);">Vector2</span>.Zero;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (thumbstick
== <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(index == <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  lastThumbStick =
LastGamePadState1.ThumbSticks.Left;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  newThumbStick = GamePadState1.ThumbSticks.Left;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  lastThumbStick =
LastGamePadState2.ThumbSticks.Left;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  newThumbStick =
GamePadState2.ThumbSticks.Left;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(index == <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  lastThumbStick =
LastGamePadState1.ThumbSticks.Right;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  newThumbStick =
GamePadState1.ThumbSticks.Right;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  lastThumbStick =
LastGamePadState2.ThumbSticks.Right;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  newThumbStick =
GamePadState2.ThumbSticks.Right;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing"><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">So this is the first part of the method. All we are doing
is using the thumbstick and index parameters to determine that thumbstick�s
value this frame and last frame. Pretty simple.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">      float</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> lastValue = 0f, newValue = 0f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (axis == <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.X)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            lastValue = lastThumbStick.X;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            newValue = newThumbStick.X;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            lastValue = lastThumbStick.Y;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            newValue = newThumbStick.Y;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This part is also pretty simple. We just use the axis
parameter to get the current and last value of the desired thumbstick using the
Vector2s we found above.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (threshold
&lt; 0f)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return</span>
(lastValue &gt; threshold &amp;&amp; newValue &lt; threshold);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">return</span>
(lastValue &lt; threshold &amp;&amp; newValue &gt; threshold);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly we figure out whether the threshold has been
passed by figuring out if the threshold is between the lastValue and newValue.
And that finishes up the InputHelper class.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869713">Menu Base</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Since our game is going to have two screens that have
menus on them (main menu and options), it makes sense to create a base class to
share between the two of them. This will prevent us from writing the same code
twice for each class. Let�s create a new class called �MenuBaseGameState�:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">MenuBaseGameState</span> : <span style="color: rgb(43, 145, 175);">GameState</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SpriteBatch</span>
spriteBatch;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SpriteFont</span>
font;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">protected</span> <span style="color: rgb(43, 145, 175);">Menu</span> Menu = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Menu</span>();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">string</span> title;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
MenuBaseGameState(<span style="color: rgb(43, 145, 175);">Game</span> game, <span style="color: blue;">string</span> title)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            spriteBatch = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">SpriteBatch</span>(GraphicsDevice);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            font = Content.Load&lt;<span style="color: rgb(43, 145, 175);">SpriteFont</span>&gt;(<span style="color: rgb(163, 21, 21);">"Courier
New"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">this</span>.title
= title;     </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span><font size="2"><br>
}</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Our base class contains a SpriteBatch and SpriteFont that
will be used to render the menu, the Menu itself, and a title to display at the
top of the screen. The constructor simply takes in the game instance and the
desired title.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we�re going to jump in to the Update method which
will heavily use the InputHelper we wrote previously to handle all of the menu
controls:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{<br>
}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First we�ll add some logic that will allow us to activate
the current item. We will allow the players to use either A or Start on either
game pad as well as Space and Enter on the keyboard to activate the item:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.A)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.Start)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.A)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.Start)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Space) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Enter))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(Menu.SelectedItem != <span style="color: blue;">null</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.SelectedItem.PerformActivate();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that we have written that you can imagine how much code
we would have to have put into that if statement to do the same thing without
the InputHelper class. Next we�ll add the logic to allow us to select the next
and previous options for the selected item. We are going to allow the player to
use either of the left thumbsticks, either DPad, the Left and Right arrow keys,
and A and D on the keyboard all to move left and right on the menu: </font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.X,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            -.3f) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.X,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            -.3f) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.DPadLeft)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.DPadLeft)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Left) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.A))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(Menu.SelectedItem != <span style="color: blue;">null</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.SelectedItem.PerformOptionLeft();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.X,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            .3f) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.X,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            .3f) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.DPadRight)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.DPadRight)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Right) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.D))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(Menu.SelectedItem != <span style="color: blue;">null</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.SelectedItem.PerformOptionRight();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see those two pieces of logic are even longer and
utilize a lot of the same logic. This is truly the benefit of having the
InputHelper class around. Imagine writing the contents of those three methods
over and over into the if statements.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly we need to add the logic to actually scroll
through the menu items. Again we�re going to use either game pad�s thumbstick
or DPad as well as using the Up/Down arrows and W/S keyboard keys to allow the
player a maximum number of choices for intput. </font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.Y,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            .3f) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.Y,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            .3f) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.DPadUp)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.DPadUp)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Up) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.W))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Menu.SelectPrevious();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.Y,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            -.3f) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.DidThumbstickPassThreshold(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Thumbstick</span>.Left,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">ThumbstickAxis</span>.Y,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            -.3f) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.DPadDown)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.DPadDown)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Down) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.S))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Menu.SelectNext();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">That was a lot of code, but now that we have it in a base
class, we can easily re-use it for all of the menus our game may need. Lastly
for the MenuBaseGameState is the Draw method to draw out the menu�s title and
the menu items:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span>
titlePos = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(GraphicsDevice.Viewport.Width
/ 2, 100f);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      titlePos -= font.MeasureString(title) * .5f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.DrawString(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            font,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            title,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            titlePos,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.End();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Menu.Draw(spriteBatch, font);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing"><font size="2">Again we do some calculating to center the title on the
screen and then we use the Menu.Draw method to render the menu and its items to
the screen. Now we can finally move on to create our real menu game state.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869714">Main Destination</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Our MainMenuGameState is going to be where the player can
choose to start either a single player or co-op game, move to the options
screen or exit the game. Let�s start by creating a �MainMenuGameState� that
extends the MenuBaseGameState. We are also going to fill in the constructor to
create all of the menu items for us.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">MainMenuGameState</span> : <span style="color: rgb(43, 145, 175);">MenuBaseGameState</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
MainMenuGameState(<span style="color: rgb(43, 145, 175);">Game</span> game, <span style="color: blue;">string</span> title)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(game,
title)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">MenuItem</span>
item;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Single
Player"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item.Activate += SinglePlayerActivated;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.Items.Add(item);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Co-Op"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item.Activate += CoopActivated;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.Items.Add(item);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Options"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item.Activate += OptionsActivated;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.Items.Add(item);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Quit"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item.Activate += QuitActivated;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.Items.Add(item);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll see we created all four of our menu items and hooked
up the event handlers to some methods. Next let�s add all of the actual methods
for handling the items:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
SinglePlayerActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> CoopActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span>
args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> OptionsActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span>
args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> QuitActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span>
args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Game.Exit();      </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The only one we have filled out for now is our
QuitActivated method. We�ll come back and fill out the rest later. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s add our Update method. The Update method is
simply going to allow us to exit the game by also press either Back on the game
pad or Escape on the keyboard. We also have to be very sure to call base.Update
at some point to update all of our menu logic found in MenuBaseGameState.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.Back)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.Back)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Escape))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Game.Exit();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">That�s it for now. Let�s make some changes to the
Game1.cs file and see what we�ve created. The first change is to add the new
MainMenuGameState to the state manager and make sure the initial game state is
set to the main menu. At this point our game�s Initialize method should look
like this:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">protected</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Initialize()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Initialize();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      stateManager.GameStates.Add(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">PlayingGameState</span>(<span style="color: blue;">this</span>));</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">EndPlayingGameState</span>
epgs = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">EndPlayingGameState</span>(<span style="color: blue;">this</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      stateManager.GameStates.Add(<span style="color: rgb(43, 145, 175);">AAGameState</span>.Win, epgs);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      stateManager.GameStates.Add(<span style="color: rgb(43, 145, 175);">AAGameState</span>.Lose, epgs);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      stateManager.GameStates.Add(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">AAGameState</span>.MainMenu,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">MainMenuGameState</span>(<span style="color: blue;">this</span>,
<span style="color: rgb(163, 21, 21);">"Alien Aggressors!"</span>));</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      stateManager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.MainMenu;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s make some changes to the game�s Update method.
We want to remove the logic allowing us to quit from this Update method because
we have the same functionality in the main menu game state. We also need to
call our InputHelper.Update method to make sure we always have proper input
states. This reduces our Update method to just this:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">protected</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now you can run the game and see the wonder of your hard
work. You will be presented with our main menu which you can navigate using up
to two game pads as well as the keyboard. You can select the Quit item and
activate it to exit the game as well now. Next let�s tie in our MainMenuGameState
into our PlayingGameState so we can actually begin a new game.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869715">Starting Something</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Now that we have a menu, we need to allow it to start our
game playing. To start this we first need to add the ability to reset the
PlayingGameState. This will allow us to start multiple games without exiting
the game. Let�s start by refactoring out some of the PlayingGameState�s
constructor into a new method called Initialize:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> PlayingGameState(<span style="color: rgb(43, 145, 175);">Game</span>
game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      : <span style="color: blue;">base</span>(game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Bullet</span>.Texture
= Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"bullet"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Bullet</span>.Origin
= <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(<span style="color: rgb(43, 145, 175);">Bullet</span>.Texture.Width / 2, <span style="color: rgb(43, 145, 175);">Bullet</span>.Texture.Height
/ 2);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">SpriteBatch</span>(GraphicsDevice);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Initialize()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1 = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">PlayerShip</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"player1"</span>),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Position = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width / 2 -
player1.Bounds.Width / 2,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Height -
player1.Bounds.Height);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      playerBullets.Clear();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienBullets.Clear();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienGrid.Initialize(Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"alien"</span>),
10, 5);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we can call the Initialize method whenever we want to
reset our game back to the default state. Next we can add the code into our
main menu�s event handler for starting a single player game that will get
everything set up and begin our game:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
SinglePlayerActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing]
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">PlayingGameState</span>).Initialize();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">All we do is get the PlayingGameState from the manager
and call the Initialize method. Last we change the manager�s CurrentState to
the Playing state. At this point you are able to start a game by activating the
�Single Player� menu item in the main menu.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869716">Do Overs</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Now that we have a nice menu to start off our game, let�s
fix up the EndPlayingGameState to allow us to go back to the menu once a game
has finished. To do this we just need to add a little bit of code to the Update
method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{                 </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.A)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.Start)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.A)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.Start)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Space) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Enter))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.MainMenu;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">All we are doing there is checking for the A and Start
game pad buttons as well as the Enter and Space keyboard keys. Next let�s
update the Draw code to write out some instructions so that the player knows
what to do at this screen. First we just generate the string and position for
it:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">string</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> info = <span style="color: rgb(163, 21, 21);">"Press A,
Start, Enter, or Space to continue..."</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Vector2</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> halfInfoSize =
spriteFont.MeasureString(info) / 2;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Vector2</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> infoPos = centerScreen - halfInfoSize + <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(0f,
100f);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Then we can render it out to the screen:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">spriteBatch.DrawString(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteFont,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      info,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      infoPos,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We added a few new variables to contain the information
string and to position it on the screen a little ways down from the result
string we drew earlier. You can now play the game as many times as you want
without having to restart the whole program each time.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image012.jpg" width="503" height="391"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 12: Now we can lose over and over and ...</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal" style="text-align: center;" align="center"><font size="2">&nbsp;</font></p>

<h1><font size="2"><a name="_Toc195869717">Fleshing out the Rest of the Game</a></font></h1>

<h2><font size="2"><a name="_Toc195869718">Bring a Friend</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Next let�s add in our second player. This is overall a
very simple process, but will allow us to have much more fun with our game.
First make sure you�ve added the player2.png sprite to your game�s content
project. Then let�s head over to the PlayingGameState and add another player to
our class�s data:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">PlayerShip</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> player2;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We also want to have a bool value to indicate whether or
not we are doing a co-op game. This will let us use the same class for the
single player and co-op game very easily:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">bool</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> coOp = <span style="color: blue;">false</span>;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we need to make some changes to the Initialize method
so we can tell the state whether or not we want a co-op game and also so it can
create the second player:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Initialize(<span style="color: blue;">bool</span> isCoOp)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1 = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">PlayerShip</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"player1"</span>),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Position = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width / 2 -
player1.Bounds.Width / 2,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Height -
player1.Bounds.Height);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      coOp = isCoOp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player2 = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">PlayerShip</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"player2"</span>),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player2.Position = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width / 2 -
player2.Bounds.Width / 2,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Height -
player2.Bounds.Height);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      playerBullets.Clear();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienBullets.Clear();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienGrid.Initialize(Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"alien"</span>),
10, 5);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">All we really did was duplicate our player1 creation code
and save the isCoOp value that was passed it to the method.  Next let�s add the
update code to update the new player in our Update method:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (coOp &amp;&amp; player2.IsAlive) </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player2.Update(gameTime, playerBullets,
GraphicsDevice.Viewport.Width);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we have to update our foreach loop that handled the
alienBullets to take into account our second player:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">Bullet</span> b
<span style="color: blue;">in</span> alienBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      b.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(!screenRect.Intersects(b.Bounds))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (player1.IsAlive &amp;&amp; player1.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player1.ExtraLives--;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player1.Position.X =
player1.Bounds.Width / 2; </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            CheckPlayerLives();     }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (coOp &amp;&amp; player2.IsAlive &amp;&amp; player2.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bulletsToRemove.Add(b);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player2.ExtraLives--;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player2.Position.X = player2.Bounds.Width
/ 2; </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            CheckPlayerLives();     </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First note the new else if statement to handle collisions
with the second player. The other change is in our conditions for changing to
the Lose game state. You�ll see we�ve replaced the old logic with a call to a
new method called CheckPlayerLives. This new method is used to check for our
player�s to be alive:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
CheckPlayerLives()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (coOp
&amp;&amp; !player1.IsAlive &amp;&amp; !player2.IsAlive)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Lose;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (!coOp &amp;&amp; !player1.IsAlive)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Lose;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We check for whether or not we are playing a co-op game
and use that to determine whether or not we need to check both players� IsAlive
property.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we�re going to update the draw code for our players
to make sure they aren�t drawn when dead and to make sure the player2 is drawn:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (player1.IsAlive)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player1.Draw(spriteBatch);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (coOp &amp;&amp; player2.IsAlive)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      player2.Draw(spriteBatch);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The PlayingGameState is now functionally complete for our
second player. We just need to go back and update our MainMenuGameState to
handle the new Initialize method and let us start a co-op game:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
SinglePlayerActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing]
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">PlayingGameState</span>).Initialize(<span style="color: blue;">false</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> CoopActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span>
args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing]
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">PlayingGameState</span>).Initialize(<span style="color: blue;">true</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now run the game and you can start up a co-op game with a
friend.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image013.jpg" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 13: The two defenders.</font></p>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869719">Keeping Score</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Let�s finish out the game portion by adding a score to
the game as well as displaying the extra lives each player has left. First
let�s add a new variable to the PlayingGameState to store our current score as
well as a SpriteFont for rendering it.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">int</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> score = 0; </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">SpriteFont</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> spriteFont;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Let�s first add the code to load the font to our
constructor:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">spriteFont = Content.Load&lt;<span style="color: rgb(43, 145, 175);">SpriteFont</span>&gt;(<span style="color: rgb(163, 21, 21);">"Courier
New"</span>);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s update our Initialize method to make sure we
zero this out each time a new game starts:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Initialize(<span style="color: blue;">bool</span> isCoOp, <span style="color: blue;">bool</span>
newGame)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: green;">//...</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (newGame)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            score = 0;<br>
      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing"><font size="2">Since we changed the method signature for Initialize,
make sure to go through and update the calls to that method. Any calls from our
MainMenuGameState should pass in �true� while any calls from the
PlayingGameState should pass in �false�. Next we can head down to the Update
method and award points each time an alien ship is hit by a bullet:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">Bullet</span> b
<span style="color: blue;">in</span> playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">      //...</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (alienGrid.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: green;">//...</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            score += 100;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">In our case we have chosen to award 100 points each time
an alien ship is hit by one of the players� bullets. Next let�s head down to
our Draw method and render this out for the players to see:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">spriteBatch.DrawString(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteFont,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(163, 21, 21);">"Score:
"</span> + score.ToString(),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(10f),</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we want to draw the number of lives each player has
in the upper-right corner of the screen. We can do this by using a couple of
simple loops:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">for</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: blue;">int</span> i = 1; i &lt;=
player1.ExtraLives; i++)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Draw(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            player1.Texture,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Rectangle</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  GraphicsDevice.Viewport.Width -
(player1.Texture.Width * i),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  10,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  25,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  25),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (coOp)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">for</span> (<span style="color: blue;">int</span> i = 1; i &lt;= player2.ExtraLives; i++)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            spriteBatch.Draw(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  player2.Texture,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">Rectangle</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        GraphicsDevice.Viewport.Width
- (player2.Texture.Width * i),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        35,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        25,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        25),</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This draws each life going right to left in the upper
corner. We only draw the lives for player2 if we are in a co-op game. Now we
can run the game and see a score to indicate how we are doing. Let�s continue
by displaying the final score on our EndPlayingGameState. Let�s add a new
variable to the EndPlayingGameState class:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">int</span> FinalScore = 0;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we need to update our Draw method to generate the
required data for drawing the score to the screen much like we did for the
information earlier:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">string</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> score = <span style="color: rgb(163, 21, 21);">"Final
Score: "</span> + FinalScore.ToString();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Vector2</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> halfScoreSize =
spriteFont.MeasureString(score) / 2; </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">Vector2</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> scorePos = centerScreen - halfScoreSize - <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(0f,
100f);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Then we just render out the text like before:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">spriteBatch.DrawString(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteFont,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      score,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      scorePos,</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Last thing we need to do is make sure the score is set
when the game ends. To do this we have to update a few places. First let�s
update the foreach loop that goes through the playerBullets and add in the
required code to set our final score there:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">Bullet</span> b
<span style="color: blue;">in</span> playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: green;">//...</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (alienGrid.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: green;">//...</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(alienGrid.Count == 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            { </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: rgb(43, 145, 175);">GameState</span>
winState = Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.Win];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  (winState <span style="color: blue;">as</span>
<span style="color: rgb(43, 145, 175);">EndPlayingGameState</span>).FinalScore = score;                                     Manager.CurrentState
= <span style="color: rgb(43, 145, 175);">AAGameState</span>.Win;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we need to update our CheckPlayersLives method to do
the same thing. We can simplify this by just adding this piece of code to the
end of that method:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (Manager.CurrentState == <span style="color: rgb(43, 145, 175);">AAGameState</span>.Lose)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GameState</span>
loseState = Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.Lose];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (loseState <span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">EndPlayingGameState</span>).FinalScore = score;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">With that complete we now can see exactly how well we did
after a game is complete.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image014.jpg" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 14: Final status report.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869720">Waves of Fleets</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Our game is nearing functional completion. All we need to
add is support for multiple levels in our game. After all it would be rather
boring to only have the single wave of enemies to fight. Let�s create a system
that gives our game multiple levels where you can have almost any limit. We�re
going to limit ours to ten for now. To start let�s go to the PlayingGameState
class and add in these two new variables:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">int</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> level = 1;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">const</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">int</span> maxLevel = 10;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we need to add the support for the levels to our
Initialize method so that our alien grid is properly set up based on the level
and also to make sure we reset the level each time.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Initialize(<span style="color: blue;">bool</span> isCoOp, <span style="color: blue;">bool</span>
newGame)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: green;">//...</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (newGame)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            score = 0;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            level = 1;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      alienGrid.Initialize(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Content.Load&lt;<span style="color: rgb(43, 145, 175);">Texture2D</span>&gt;(<span style="color: rgb(163, 21, 21);">"alien"</span>), </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            10 + (level / 3), </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            5 + (level / 2));</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now the alien grid�s size is based on the level such that
every third level adds another column and every other level adds a row to the
aliens. </font></p>

<p class="MsoNoSpacing"><font size="2"><br>
Next let�s add the logic to allow us to progress through the different levels.
We do this by adding more code to our foreach loop iterating over the
playerBullets:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">foreach</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">Bullet</span> b
<span style="color: blue;">in</span> playerBullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: green;">//...</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">else</span> <span style="color: blue;">if</span> (alienGrid.CollideBullet(b))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: green;">//...</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">if</span>
(alienGrid.Count == 0)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">if</span>
(level == maxLevel)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        <span style="color: rgb(43, 145, 175);">GameState</span>
winState = Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.Win];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        (winState <span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">EndPlayingGameState</span>).FinalScore
= score;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Win;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  <span style="color: blue;">else</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        level++;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        Initialize(coOp); </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                        <span style="color: blue;">return</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now each time the alien grid is empty, we check which
level we�re on. If we�re on the last level, that means we have won so we
perform our end-game logic like normal. If we aren�t on the last level, we
increment the level and run the Initialize method again using our coOp value as
the parameter. We have to make sure to call �return� here since we modified the
playerBullets collection in the Initialize method. If we forget that �return�
statement, our game will throw an exception.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Our game now has ten levels however it�s a very abrupt
switch between them. We can remedy this by adding a new class to act as a transition
between levels. Let�s add a �TransitionGameState� to our game project:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">TransitionGameState</span> : <span style="color: rgb(43, 145, 175);">GameState</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SpriteBatch</span>
spriteBatch;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SpriteFont</span>
font; </font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: blue;">string</span> Caption = <span style="color: blue;">string</span>.Empty;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">float</span>
transitionTimer = 0f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">const float</span>
transitionLength = 2f;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
TransitionGameState(<span style="color: rgb(43, 145, 175);">Game</span> game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            spriteBatch = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">SpriteBatch</span>(GraphicsDevice);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            font = Content.Load&lt;<span style="color: rgb(43, 145, 175);">SpriteFont</span>&gt;(<span style="color: rgb(163, 21, 21);">"Courier
New"</span>);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We store inside the class a SpriteBatch and SpriteFont
for rendering as well as a Caption string to write to the screen. We also store
two float values which we will use to time how long the state has been up. This
will make sure our state only stays on screen for a set amount of time (two
seconds currently).</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s create the Update method to handle our timer
logic:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      transitionTimer += (<span style="color: blue;">float</span>)gameTime.ElapsedGameTime.TotalSeconds;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span>
(transitionTimer &gt;= transitionLength)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            transitionTimer = 0f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we just have to make the Draw command to render our
caption to the screen:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Draw(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.Begin(<span style="color: rgb(43, 145, 175);">SpriteBlendMode</span>.AlphaBlend);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Vector2</span> pos
= <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Vector2</span>(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Width / 2,</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            GraphicsDevice.Viewport.Height / 2);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      pos -= font.MeasureString(Caption) * .5f;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.DrawString(font, Caption, pos, <span style="color: rgb(43, 145, 175);">Color</span>.White);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      spriteBatch.End();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s update our main menu event handlers to use the
new transition game state rather than jumping straight into the game:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
SinglePlayerActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing]
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">PlayingGameState</span>).Initialize(<span style="color: blue;">false</span>); </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.LevelTransition]
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">TransitionGameState</span>).Caption
= </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(163, 21, 21);">"Level
1"</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.LevelTransition;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> CoopActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span>
args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing]
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">PlayingGameState</span>).Initialize(<span style="color: blue;">true</span>); </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      (Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.LevelTransition]
<span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">TransitionGameState</span>).Caption
=              <span style="color: rgb(163, 21, 21);">"Level 1"</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.LevelTransition;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The main difference there is that we are setting
Manager.CurrentState to LevelTransition instead of Playing. We are also setting
the caption of the transition state to say �Level 1�. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we need to update our PlayingGameState to use the
transitions between levels. This will make the game much easier to follow by
allowing players time to prepare for a new wave. Let�s head to where we were
updating our level and program it to utilize this transition game state:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">level++;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">Initialize(coOp, <span style="color: blue;">false</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">GameState</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> transState =
Manager.GameStates[<span style="color: rgb(43, 145, 175);">AAGameState</span>.LevelTransition];</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">(transState <span style="color: blue;">as</span> <span style="color: rgb(43, 145, 175);">TransitionGameState</span>).Caption = <span style="color: rgb(163, 21, 21);">"Level "</span> + level.ToString();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.LevelTransition;</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we get a nice pause in between all of our levels to
give the player a few seconds to register that a new wave of aliens is about to
appear.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly let�s go to the Game1.Initialize method and create
this transition object and put it into the manager:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">stateManager.GameStates.Add(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">AAGameState</span>.LevelTransition,
</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">TransitionGameState</span>(<span style="color: blue;">this</span>));</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now you can run the game and see the transitions at work.
When you start a game you get the �Level 1� display and each time you finish a
level you are told which level you are starting. This is a very nice addition
to the game. Next we�ll continue the polish by adding sound effects into our
game.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image015.jpg" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 15: Now with level transitions.</font></p>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869721">Make Some Noise</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Our game is nearing completion, but we�re missing a large
part of the experience that comes with games: sound. We currently have a
completely silent space battle which, while scientifically is probably
accurate, isn�t very interesting. Now let�s add some sound to this. As a note,
this section will be covering just how to handle sound in our game code. For
information about creating the sound effects and setting up the XACT project,
please see Appendix B.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The first step to adding audio is to make sure we have
the file necessary to do this. We need to start by adding all of the files from
the Audio folder found in the AlienAggressorsContent.zip folder to our Content
folder. This folder contains our WAV files and the XACT project file needed by
our game. At this point your content directory should contain all of these
files:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image016.png" width="161" height="190"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 16: Our content files.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next go into your game�s Content project, right click,
and choose Add Existing Item and add the XACT project file to the content. You
do not need, nor want, to add the WAV files themselves; they are referenced
from the XACT project so while we need them in the directory with the project,
we don�t want them in the game project.</font></p>

<p class="MsoNoSpacing"><font size="2">Now that we have the audio content in place, let�s start
programming in our sound support. We�re going to do this by creating a
�SoundManager� class which will contain and control all of the audio data for
our game:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">SoundManager</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">AudioEngine</span> engine;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">WaveBank</span> waveBank;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">SoundBank</span> soundBank;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">static</span> <span style="color: rgb(43, 145, 175);">Cue</span> music;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Our manager just contains the three pieces of the audio
system (an AudioEngine, WaveBank, and SoundBank) as well as a Cue for our
background music.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s create an Initialize method that will load all
of these files for us:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">void</span> Initialize(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">Game</span> game, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">string</span>
engineFile, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">string</span>
waveBankFile, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">string</span>
soundBankFile)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">string</span>
contentDir = game.Content.RootDirectory + <span style="color: rgb(163, 21, 21);">"/"</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      engine = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">AudioEngine</span>(contentDir + engineFile);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      waveBank = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">WaveBank</span>(engine, contentDir + waveBankFile);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      soundBank = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">SoundBank</span>(engine, contentDir +
soundBankFile);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">We have the user pass in the Game instance as well as the
names of the three files we need to load. We pass in the Game so that we can
get the game�s content root directory. This allows us to change the content
project�s root directory without having to change all three file paths each
time.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s add a method to play one of our sounds:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">void</span> PlayCue(<span style="color: blue;">string</span>
name)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      soundBank.PlayCue(name);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">It�s pretty simple as you can see. We just call PlayCue
on the soundBank and pass in the name of the sound we want to play. Next let�s
add in some methods for controlling our background music:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">void</span> PlayMusic(<span style="color: blue;">string</span>
name)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      music = soundBank.GetCue(name);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      music.Play();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: gray;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">void</span> StopMusic()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (music != <span style="color: blue;">null</span> &amp;&amp; music.IsPlaying)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            music.Stop(<span style="color: rgb(43, 145, 175);">AudioStopOptions</span>.Immediate);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            music = <span style="color: blue;">null</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This time we use GetCue to get a reference to the
background music we want to use. Then we call Play on the Cue itself. We do
this so that in StopMusic we are able to stop the music. We want to make sure
that the music is non-null and IsPlaying before we stop it and set it to null.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s add a couple of methods to control the volume
for our sounds<a href="#_ftn11" name="_ftnref11" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[11]</span></span></span></a>.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">void</span> SetSoundFXVolume(<span style="color: blue;">float</span>
volume)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      engine.GetCategory(<span style="color: rgb(163, 21, 21);">"SoundFx"</span>).SetVolume(volume);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">void</span> SetMusicVolume(<span style="color: blue;">float</span>
volume)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      engine.GetCategory(<span style="color: rgb(163, 21, 21);">"Music"</span>).SetVolume(volume);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The volume values we pass in should be in the range of
[0, 1] where 0 is muted and 1 is full volume as defined in XACT. However the
SetVolume method does allow for values larger than 1 in situations where we
want to increase the volume beyond what was defined in XACT.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The last method we need to write is an Update method
which will update the audio system and ensure our sounds are played properly:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">static</span> <span style="color: blue;">void</span> Update()</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      engine.Update();<br>
}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Again the method is just a wrapper around the engine�s
Update method. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">To integrate this into our game we first need to make
sure we are calling SoundManager.Initialize in our Game1.Initialize method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">SoundManager</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">.Initialize(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">this</span>, </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(163, 21, 21);">"AlienAggressors.xgs"</span>,
</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(163, 21, 21);">"AlienAggressors.xwb"</span>,
</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(163, 21, 21);">"AlienAggressors.xsb"</span>);</font></span></p>

<p class="MsoNoSpacing"><font size="2">Next let�s update our Game1.Update method to call our
SoundManager.Update to make sure that we are calling the method each frame:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">protected</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SoundManager</span>.Update();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s start using the SoundManager to play some
sounds in our game. First let�s go into the Ship class and have it play a sound
each time a ship fires. To do this we add a call to SoundManager.PlayCue in our
Fire method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> Fire(<span style="color: rgb(43, 145, 175);">List</span>&lt;<span style="color: rgb(43, 145, 175);">Bullet</span>&gt;
bullets)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (fireTimer
&lt;= 0f)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            fireTimer = fireRate;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">Bullet</span>
b = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Bullet</span>();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Position = Position + BulletOrigin;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Velocity = BulletVelocity;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            b.Color = BulletColor;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            bullets.Add(b); </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">SoundManager</span>.PlayCue(<span style="color: rgb(163, 21, 21);">"laser"</span>);      </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now all of the ships on the screen will play the �laser�
sound when they fire. Now let�s add in the explode noise each time a ship is
hit. We can do this by updating the CollideBullet method in the Ship class:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">bool</span> CollideBullet(<span style="color: rgb(43, 145, 175);">Bullet</span> b)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">bool</span> hit =
Bounds.Contains((<span style="color: blue;">int</span>)b.Position.X, (<span style="color: blue;">int</span>)b.Position.Y);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (hit)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">SoundManager</span>.PlayCue(<span style="color: rgb(163, 21, 21);">"explode"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">return</span> hit;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Let�s continue by adding some audio feedback for our
menus. Let�s open up the MenuBaseGameState and taking a look at the Update
method. We want to add this line inside of each of the if statements in there
so that any action will cause it to play:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">SoundManager</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">.PlayCue(<span style="color: rgb(163, 21, 21);">"bwoop"</span>);</font></span><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Lastly let�s play the background music for the game.
Let�s head back to our Game1.Initialize statement and add the call to
SoundManager.PlayMusic:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">SoundManager</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">.PlayMusic(<span style="color: rgb(163, 21, 21);">"tear_it_down"</span>);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now if we run the game we find that all of the actions
create audio feedback and we have some fast-paced background music as well. </font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869722">Everyone Loves Options</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Now that we have audio in our game, let�s add in the
options for the game so that players can choose how loud they want the audio
and also whether they want to play in fullscreen or not. Let�s start by adding
a new class called �OptionsGameState� that derives from our MenuBaseGameState
class:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">OptionsGameState</span> : <span style="color: rgb(43, 145, 175);">MenuBaseGameState</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span>
soundFxVolume = 100;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">int</span>
musicVolume = 100;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">MenuItem</span>
soundFxItem;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">MenuItem</span>
musicItem;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
OptionsGameState(<span style="color: rgb(43, 145, 175);">Game</span> game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(game,
<span style="color: rgb(163, 21, 21);">"Options"</span>)</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Our state stores a couple of integer values which
represent the volumes that we will display on screen. We also store a couple of
references to the soundFxItem and musicItem which we will use to update the
text whenever the volume changes. Next let�s fill in the constructor to create
the items we want:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">soundFxItem = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Sound
FX Volume: 100%"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">soundFxItem.OptionLeft += SoundFxOptionLeft;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">soundFxItem.OptionRight += SoundFxOptionRight;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">Menu.Items.Add(soundFxItem);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">musicItem = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Music
Volume: 100%"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">musicItem.OptionLeft += MusicOptionLeft;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">musicItem.OptionRight += MusicOptionRight;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">Menu.Items.Add(musicItem);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: rgb(43, 145, 175);"><font size="2">MenuItem</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> item = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Toggle
Fullscreen"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">item.Activate += FullScreenActivate;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">Menu.Items.Add(item);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">item = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">""</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">item.IsDisabled = <span style="color: blue;">true</span>;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">Menu.Items.Add(item);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">item = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Done"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">item.Activate += DoneActivated;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">Menu.Items.Add(item);</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">It�s pretty similar to what we did in the
MainMenuGameState. One cool thing we do is create the blank menu item in
between the Toggle Fullscreen and Done items. By giving it an empty string and
specifying it as disabled, we have essentially added a blank space in our menu
which will help make things easier to read. Next let�s move on to create all of
those even handlers we used. Let�s start with the SoundFxOptionLeft and
SoundFxOptionRight:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
SoundFxOptionLeft(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      soundFxVolume = (<span style="color: blue;">int</span>)<span style="color: rgb(43, 145, 175);">Math</span>.Max(soundFxVolume - 10, 0);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      soundFxItem.Name = <span style="color: blue;">string</span>.Format(<span style="color: rgb(163, 21, 21);">"Sound FX Volume: {0}%"</span>, soundFxVolume);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SoundManager</span>.SetSoundFXVolume(soundFxVolume
/ 100f);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
SoundFxOptionRight(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      soundFxVolume = (<span style="color: blue;">int</span>)<span style="color: rgb(43, 145, 175);">Math</span>.Min(soundFxVolume + 10, 100);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      soundFxItem.Name = <span style="color: blue;">string</span>.Format(<span style="color: rgb(163, 21, 21);">"Sound FX Volume: {0}%"</span>, soundFxVolume);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SoundManager</span>.SetSoundFXVolume(soundFxVolume
/ 100f);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">In these methods we simply adjust our soundFxVolume
variable while making sure it stays between 0 and 100. We then update the menu
item�s name to reflect the new values. Lastly we call the
SoundManager.SetSoundFXVolume method to update the volume in the audio system.
We divide our volume by 100 so that we are in the range of 0-1 for the method�s
input.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we do the music volume in a similar manner:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
MusicOptionLeft(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      musicVolume = (<span style="color: blue;">int</span>)<span style="color: rgb(43, 145, 175);">Math</span>.Max(musicVolume - 10, 0);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      musicItem.Name = <span style="color: blue;">string</span>.Format(<span style="color: rgb(163, 21, 21);">"Music Volume: {0}%"</span>, musicVolume);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SoundManager</span>.SetMusicVolume((<span style="color: blue;">float</span>)musicVolume / 100f);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
MusicOptionRight(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      musicVolume = (<span style="color: blue;">int</span>)<span style="color: rgb(43, 145, 175);">Math</span>.Min(musicVolume + 10, 100);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      musicItem.Name = <span style="color: blue;">string</span>.Format(<span style="color: rgb(163, 21, 21);">"Music Volume: {0}%"</span>, musicVolume);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">SoundManager</span>.SetMusicVolume((<span style="color: blue;">float</span>)musicVolume / 100f);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we need to add the toggle fullscreen handler. This
simply calls into the GraphicsManager.ToggleFullscreen method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
FullScreenActivate(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      GraphicsManager.ToggleFullScreen();</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">And finally we add the event handler for our Done button
which takes us back to the main menu:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
DoneActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.MainMenu;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that our event handlers are set up, let�s create an
Update method to add some useability to the game. Rather than require the user
press Done each time, we�ll allow them to also use the Back or B game pad
buttons as well as the Escape keyboard key to go back to the main menu:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.Back)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.Back)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.B)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.B)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Escape))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      { </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            DoneActivated(<span style="color: blue;">null</span>,
<span style="color: blue;">null</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: green;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">Why did we call DoneActivated manually instead of just
changing the state? It lets us change the behavior for leaving the options
state without having to update two places. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that our class is set up let�s add the code in
Game1.Initialize to create the new state for us:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">stateManager.GameStates.Add(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">AAGameState</span>.Options,</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">OptionsGameState</span>(<span style="color: blue;">this</span>));</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we just add in the code to our MainMenuGameState�s
OptionsActivated event handler to switch game states:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> OptionsActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span>
args)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Options;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we can run the game and use an options screen to
change our audio volume levels and toggle in and out of fullscreen.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image017.jpg" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 17: Controlling our game options.</font></p>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869723">Take a Break</a></font></h2>

<p class="MsoNoSpacing"><font size="2">The last thing we want to do is allow our game to be
paused while playing. This is always nice for those times when you are in the
middle of a game and the telephone rings or perhaps your dinner is burning. To
implement our paused system we will create a new �PausedGameState� class that
extends the �MenuBaseGameState� class:</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">PausedGameState</span> : <span style="color: rgb(43, 145, 175);">MenuBaseGameState</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
PausedGameState(<span style="color: rgb(43, 145, 175);">Game</span> game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            : <span style="color: blue;">base</span>(game,
<span style="color: rgb(163, 21, 21);">"Paused"</span>)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">MenuItem</span>
item = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Continue"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item.Activate += ContinueActivated;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.Items.Add(item);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item = <span style="color: blue;">new</span>
<span style="color: rgb(43, 145, 175);">MenuItem</span>(<span style="color: rgb(163, 21, 21);">"Quit
To Main Menu"</span>);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            item.Activate += QuitActivated;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Menu.Items.Add(item);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">private</span> <span style="color: blue;">void</span> ContinueActivated(<span style="color: blue;">object</span>
sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">private</span> <span style="color: blue;">void</span> QuitActivated(<span style="color: blue;">object</span>
sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.MainMenu;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This simple class just displays a menu allowing the
player to resume the game or to exit out to the main menu. We�ll also add in a
simple Update method to allow the user to press Back or B on a game pad or
Escape on the keyboard to return to the game:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">override</span> <span style="color: blue;">void</span> Update(<span style="color: rgb(43, 145, 175);">GameTime</span>
gameTime)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, Buttons.Back) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, Buttons.Back) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, Buttons.B) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, Buttons.B) ||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(Keys.Escape))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">base</span>.Update(gameTime);</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we need to create the state and put it into our
game. Let�s go to the Game1.Initialize method and create the new state:</font></p>

<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">stateManager.GameStates.Add(</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">AAGameState</span>.Paused,</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">PausedGameState</span>(<span style="color: blue;">this</span>));</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now let�s add the code to our PlayingGameState to trigger
the paused state whenever the user presses Start on the game pad or Enter on
the keyboard. We�ll place this code at the top of our Update method:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">if</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> (<span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.One, <span style="color: rgb(43, 145, 175);">Buttons</span>.Start)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewButtonPress(<span style="color: rgb(43, 145, 175);">PlayerIndex</span>.Two, <span style="color: rgb(43, 145, 175);">Buttons</span>.Start)
||</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">InputHelper</span>.IsNewKeyPress(<span style="color: rgb(43, 145, 175);">Keys</span>.Enter))</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Paused;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">return</span>;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">This code not only sets our state to paused, but it exits
out of the update method ensuring that the game pauses as fast as it can
without updating the rest of the PlayingGameState.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image018.jpg" width="503" height="390"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 18: Taking a moment to recover from the alien assault.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869724">Meeting Expectations</a></font></h2>

<p class="MsoNoSpacing"><font size="2">At this point we can now pause our game and choose to
continue it. One problem we have is that our pause menu doesn�t reset the
selected item. So if you exit to the main menu, start a new game, and hit pause
you will see the �Quit To Main Menu� object is selected. This is not what most
gamers would expect, so we�re going to add a new method to the Menu class that
lets us set the selected item we want:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span> SelectItem(<span style="color: blue;">int</span> index)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">if</span> (index
&gt;= 0 &amp;&amp; index &lt; Items.Count)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            currentItem = index + 1;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            SelectPrevious();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Let�s explain this code a little bit. First we verify
that the desired index is in the valid range of our list. We then set the
current item to be the index plus one and call the SelectPrevious method. Why
did we do this? To handle situations where the index passed in references a
disabled item. This way our method will go back through the list to find a
valid item to select. If the desired index is valid, it will wind up selecting
that one in the SelectPrevious method.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we just have to update our PausedGameState event
handlers to reset the menu item before changing state:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
ContinueActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Menu.SelectItem(0);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.Playing;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
QuitActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Menu.SelectItem(0);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.MainMenu;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now our paused state will always default to the Continue
option, which is what most gamers would expect. This logic could also be
applied to the OptionsGameState as well. Let�s update the DoneActivated event
handler to reset to the first item:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">private</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">void</span>
DoneActivated(<span style="color: blue;">object</span> sender, <span style="color: rgb(43, 145, 175);">EventArgs</span> e)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Menu.SelectItem(0);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      Manager.CurrentState = <span style="color: rgb(43, 145, 175);">AAGameState</span>.MainMenu;</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now our menus have been set up to better meet the
expectations of the gamers using them. </font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">At this point our game is complete! We have menus,
pausing, levels, co-op game play, an end-game status screen, and sounds. It
took a while but we managed to fully complete a fun little game.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h1><font size="2"><a name="_Toc195869725">Conclusions</a></font></h1>

<p class="MsoNoSpacing"><font size="2">Now that we have gone though the fairly lengthy process
of creating a game, hopefully it is becoming clearer to you, the reader, how to
extend this example and others into creating the game you really want to
produce. Game development isn�t the fastest of things for beginners to get used
to, but it is a very fun and rewarding hobby.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You can also continue in this book by reading the
Appendixes following this conclusion. Appendix A shows how to use Paint.NET to
create the sprites used in the game. Appendix B explains how you can create the
sound effects used in this game using nothing but Audacity and a $20
microphone. Appendix C provides a few points for advanced topics to help make
the code found in this game more reuseable.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h1><font size="2"><a name="_Toc195869726">Appendix A</a></font></h1>

<h2><font size="2"><a name="_Toc195869727">Creating Sprites in Paint.NET</a></font></h2>

<p class="MsoNoSpacing"><font size="2">When starting off making this game, I had questioned
whether I wanted to utilize existing sprites or make my own. Being a programmer
who isn�t very good with visual art, I was leaning towards existing images.
However I decided that it would be more beneficial to me and the readers to
create our own sprites and then show how it was done. This isn�t intended to be
a full guide to Paint.NET; just an introduction to show how to quickly use the
tool to create your sprites. You can download Paint.NET from this website: <a href="http://www.getpaint.net/">http://www.getpaint.net/</a>.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">First let�s take a look at the user interface for
Paint.NET:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img src="readarticle.php_files/image019.jpg" border="0" width="719" height="575"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 19: The Paint.NET user interface.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">I�ve labeled the five key parts of the user interface.</font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in; text-indent: -0.25in;"><font size="2">1.<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
is the canvas. This is the virtual paper onto which you draw your sprites.</font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in; text-indent: -0.25in;"><font size="2">2.<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
is the Tool window. This gives you access to all of the tools you can use to
modify your image.</font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in; text-indent: -0.25in;"><font size="2">3.<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
is the History window. This lets you view (and undo) any actions you make on
the image.</font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in; text-indent: -0.25in;"><font size="2">4.<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
is the Layers window. You can use numerous layers to create your images which
allows you to easily modify a single aspect of the image without affecting
other parts.</font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in; text-indent: -0.25in;"><font size="2">5.<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
is the Colors window. This is where you can choose colors for drawing.</font></p>

<p class="MsoNoSpacing"><font size="2">Let�s get started making those sprites. First thing we
want to do is reduce our canvas to a 32x32 pixel area. We can do this by going
to Image -&gt; Canvas Size:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2"><img id="Picture 6" src="readarticle.php_files/image020.png" border="0" width="267" height="245"></font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next you will be presented with the Canvas Size window.
We want to set the canvas size to 32 pixels wide and 32 pixels tall:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2"><img id="Picture 7" src="readarticle.php_files/image021.png" border="0" width="304" height="420"></font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">When you press OK, your canvas will be resized to 32x32
pixels. Next we want to enable the grid on our image. This will help us see
each individual pixel as we draw. We do this by going up to View -&gt; Grid:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2"><img id="Picture 8" src="readarticle.php_files/image022.png" border="0" width="233" height="258"></font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next let�s zoom in so we can see what we are doing. We
can do this be choosing the Zoom tool from the tool bar or using the �Z� key on
our keyboard (the shortcut for zoom). Your mouse cursor will change to be a
magnifying glass. Then just click on the canvas until the image is large enough
for you to easily work with. On my monitor I zoomed in to 1600%. You can view
the zoom level by looking at the title bar of the window. At this point you�ll
see a grid of lines over the image. Each of these little boxes is a single
pixel for us to work with.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Next we want to clear out the color inside our canvas. By
default the canvas is filled with white, but we want to have a transparent
background for the sprite, so let�s just erase it all. We can do this quickly
by using Edit -&gt; Select All or using the �Ctrl-A� hotkey. Then press delete
on your keyboard. Now your canvas will have a grey and white checkerboard
indicating it is transparent:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2"><img id="Picture 9" src="readarticle.php_files/image023.jpg" border="0" width="432" height="427"></font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now we have a clean image to begin drawing. I�m not going
to even try to explain any sort of artistic ideas for creating your sprites. As
I said I�m not a visual artist, so my suggestion is just to start plotting
pixels and modify them as needed. Another helpful idea would be to take a look
at the sprites for your game in Paint.NET and seeing how they are set up. Below
are two of the sprites shown with the grid enabled:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2"><img id="Picture 10" src="readarticle.php_files/image024.jpg" border="0" width="384" height="386"></font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2"><img id="Picture 11" src="readarticle.php_files/image025.jpg" border="0" width="384" height="381"></font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h1><font size="2"><a name="_Toc195869728">Appendix B</a></font></h1>

<h2><font size="2"><a name="_Toc195869729">Creating Sound Effects in Audacity</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Here�s an interesting fact. All of the sound effects in
this game were made using a cheap, $20 microphone and my vocal chords. That�s
right, I personally created those sounds. Granted my voice doesn�t quite sound
like a laser so I utilized Audacity to apply some effects to my voice. Audacity
is a great tool that every indie or hobby game developer should have installed.
You can grab it from here: <a href="http://audacity.sourceforge.net/">http://audacity.sourceforge.net/</a>.
</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Audacity generally looks relatively intimidating at first
glance, but for a lot of the basic uses, it�s a pretty simple application.
Let�s take a look at the user interface:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 19" src="readarticle.php_files/image026.jpg" border="0" width="720" height="507"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 20: Editing a sound clip in Audacity.</font></p>

<p class="MsoNoSpacing"><font size="2"> </font></p>

<p class="MsoNoSpacing"><font size="2">Let�s start with the main pane. You�ll see our sounds are
displayed as waves inside of our project. We can layer multiple sounds by
having multiple waves loaded in. We can use the properties on the left side of
the wave to adjust volumes and panning left to right.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">At the top you�ll find the standard audio buttons such as
play, pause, record, and stop. Not much explanation needed there.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">A lot of what we�ll be doing is inside of the Effect menu
at the top. To apply an effect you use the mouse to highlight the section of
the wave to which the effect is to be applied and then click on the Effect
menu. You will see a long list of effects you can apply to the sound:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2"><img id="Picture 20" src="readarticle.php_files/image027.png" border="0" width="175" height="558"></font></p>

<p class="MsoNoSpacing" style="text-align: center;" align="center"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">What I did to record my sounds was to record me making
some noise and apply effects. For the lasers I recorded myself saying �pew� and
then applied a Change Pitch effect to make it higher pitched, followed by a
Phaser effect, and then a Tremolo effect. Each effect (or at least most) provides
you with a preview button so you can see how they will affect your sound. I
won�t pretend to know what these all do, so I�ll let you experiment.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">The key here is to be creative. Why spend money on sound
effects when you can easily make your own? Then you can also claim it to be
�stylized� and help sell your game a bit more. So remember, don�t be
embarrassed to record yourself sounding silly and apply effects to it if it
gives you the sound effects you need for your game.</font></p>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869730">Behind the Music</a></font></h2>

<p class="MsoNoSpacing"><font size="2">The music featured in Alien Aggressors is from a free
collection of techno songs I released under the moniker of FILO. I have
released all of them for free at the following address: <a href="http://gravelyn.com/filo/">http://gravelyn.com/filo/</a>. All tracks are
licensed under Creative Commons 3.0 and are free for us in commercial and
non-commercial games. I created all of the tracks using the GarageBand app in
Mac OS X.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869731">Getting Your XACT Together</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Once you have all of the sounds and music you want in
your game, you need to create a project in XACT in order to compile it all and
play it using XNA Game Studio 2.0. XACT is another one of �those� applications
where the user interface leaves a little to be desired, but it�s a pretty
powerful tool and we use it in a simple way.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Before we jump in, we want to get some preparations made.
The trick with XACT is that audio files that are added to the project aren�t
copied anywhere. They are simply referenced from where they are on the hard
drive. So once they are in there, you can�t move the files without having to
re-open the XACT project and mess with them. What I like to do is first put all
of my WAV files into my game�s Content directory up front, that way I know the
files won�t be moving. Once I have that I go ahead and open up XACT which can
be found in your Start Menu under Microsoft XNA Game Studio 2.0 -&gt; Tools
-&gt; Microsoft Cross-Platform Audio Creation Tool:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 21" src="readarticle.php_files/image028.jpg" border="0" width="666" height="472"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 21: The opening screen in XACT.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">As you can see the initial screen already has a full tree
of things on the side and a bunch of buttons along the top. Let�s start by
creating a new project. Go to the File menu and select New Project. It will
prompt you for where you wish to save the project. I recommend saving it
directly to your Content directory, next to the WAV files we placed in there.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Once that�s done you�ll notice a few changes. The tree in
the left view will now have your project�s name displayed instead of the
default �New Project� text. Now let�s start by adding a Wave Bank. Wave Banks
are the collection of WAV source files our audio system will be using. Right
click on the Wave Banks node in the tree and select New Wave Bank. You�ll
notice a new window appears and the new Wave Bank node gets added to the tree.
At this point you can rename the new Wave Bank to whatever you would like. This
name is the file that will be produced for the Wave Bank. I�ve named mine
AlienAggressors so that it will load with the same code we used above.</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 22" src="readarticle.php_files/image029.jpg" border="0" width="719" height="510"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 22: The new Wave Bank.</font></p>

<p class="MsoNormal"><font size="2">Now we�re ready to add in those sounds. Simply open up the
folder with your WAV files and drag and drop them into the Wave Bank window to
add them. </font></p>

<p class="MsoNormal" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 23" src="readarticle.php_files/image030.jpg" border="0" width="351" height="297"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 23: Sounds in our Wave Bank.</font></p>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll notice each item is red. This indicates that the
WAV files have yet to be added to a Sound Bank. Now let�s create a new Sound
Bank. The process is identical to creating a Wave Bank except that you right
click on the Sound Banks node in the tree. Again the name of the Sound Bank
determines the filename when you build the project, so I�m going to name it
AlienAggressors just like the project and Wave Bank:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 24" src="readarticle.php_files/image031.jpg" border="0" width="719" height="510"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 24: The new Sound Bank in XACT.</font></p>

<p class="MsoNoSpacing"><font size="2">Now we can just drag and drop all of the items from our
Wave Bank into the lower left section of the Sound Bank window to add them to
it.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 25" src="readarticle.php_files/image032.jpg" border="0" width="719" height="510"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 25: Sounds in the Sound Bank.</font></p>

<p class="MsoNoSpacing"><font size="2">You�ll notice that our Sound Bank appears to have two
lists of the same items. This isn�t actually the case. The upper part lists the
sounds we have added. The bottom lists the cues. The difference is subtle, but
the idea is that you can have multiple cues that use the same sound. Each cue,
then, can have different properties in terms of volume, pitch, and other areas.
We won�t go into that because our game doesn�t utilize these features. All we
have to do is classify the sounds.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">If you select one of the sounds in the upper list in the
Sound Bank, you�ll notice the properties area over in the bottom left of the
main window has a field called �Category�. These categories are used to group
similar items. In our case we want to have a �SoundFx� category and �Music�
category so that we can adjust the volumes in our code.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: center; page-break-after: avoid;" align="center"><font size="2"><img id="Picture 26" src="readarticle.php_files/image033.png" border="0" width="323" height="132"></font></p>

<p class="MsoCaption" style="text-align: center;" align="center"><font size="2">Figure 26: General sound properties in XACT.</font></p>

<p class="MsoNoSpacing"><font size="2">If you open up the Category drop down window you�ll see
there are three categories created for you by XACT:  Global, Default, and
Music. We want to assign our tear_it_down sound to the Music category. Our
other three sounds could be left as Default, but I prefer to create a more
descriptive category. To create a new category in XACT, right click on the
Categories node in the tree view and select New Category. When the category is
added, you can rename it to �SoundFx� to match the value we used in our volume
changing code.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Once you have the new category added, it is automatically
available to you from the Category drop down menu. Now you can assign each of
the sounds to the SoundFx category and save the project.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Now that you have the XACT project all set up, you can
simply add it to your Content project and it will handle building all of the
Wave Banks and Sound Banks using the WAV files you have referenced. The XACT
tool itself can Build the projects for you, but this tends to be a little
harder to manage and also requires you to manually build it every time one of
your audio assets change. By letting the Content project handle building the
XACT project, it ensures that any time you change one of the WAV files, it will
automatically rebuild the XACT project for you.</font></p>

<span style="font-size: 11pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;"><font size="2"><br style="page-break-before: always;" clear="all">
</font></span>

<p class="MsoNormal"><font size="2">&nbsp;</font></p>

<h1><font size="2"><a name="_Toc195869732">Appendix C</a></font></h1>

<h2><font size="2"><a name="_Toc195869733">Advanced Topics for Ideas</a></font></h2>

<p class="MsoNoSpacing"><font size="2">While writing this game and tutorial, I had a few ideas I
thought I would share about how to extend the game or make the code more
re-useable. This appendix will show some of the ideas I had and small snippets
on how to get started implementing them. This appendix will <i>not</i> show the
complete implementation of the ideas; the goal is just to get you thinking
about where you could potentially take the game.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869734">Generalizing the GameStateManager</a></font></h2>

<p class="MsoNoSpacing"><font size="2">One of the largest factors in our code�s reusability is
the GameStateManager. It is currently locked into using our AAGameState
enumeration for keying the game states. One thing we can do here is use
generics to allow our game state manager to support any type for the key
whether the user wants to use ints, strings, or even other enumerations.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">To accomplish this we would have to update the
GameStateManager to be a generic type and use that generic type for the key in
our dictionary:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">GameStateManager</span>&lt;T&gt; : <span style="color: rgb(43, 145, 175);">DrawableGameComponent</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">Dictionary</span>&lt;T, <span style="color: rgb(43, 145, 175);">GameState</span>&lt;T&gt;&gt;
GameStates = <span style="color: blue;">new</span> <span style="color: rgb(43, 145, 175);">Dictionary</span>&lt;T,
<span style="color: rgb(43, 145, 175);">GameState</span>&lt;T&gt;&gt;();</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> T
CurrentState = <span style="color: blue;">default</span>(T);</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Then we�d also have to make our game states themselves
generic so that they can like to the proper game state manager:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">public</font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: blue;">abstract</span> <span style="color: blue;">class</span> <span style="color: rgb(43, 145, 175);">GameState</span>&lt;T&gt;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">{</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: rgb(43, 145, 175);">GameStateManager</span>&lt;T&gt;
manager;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span> <span style="color: rgb(43, 145, 175);">GameStateManager</span>&lt;T&gt; Manager</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">get</span> { <span style="color: blue;">return</span> manager; }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      <span style="color: blue;">public</span>
GameState(<span style="color: rgb(43, 145, 175);">Game</span> game)</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      {</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            <span style="color: blue;">this</span>.game
= game;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">&nbsp;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">            manager = </font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">                  game.Services.GetService(<span style="color: blue;">typeof</span>(<span style="color: rgb(43, 145, 175);">GameStateManager</span>&lt;T&gt;))
<span style="color: blue;">as</span></font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;; color: blue;"><font size="2">                        </font></span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2"> <span style="color: rgb(43, 145, 175);">GameStateManager</span>&lt;T&gt;;</font></span></p>

<p class="MsoNormal" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; margin-bottom: 0.0001pt; line-height: normal; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">      }</font></span></p>

<p class="MsoNoSpacing" style="background: rgb(217, 217, 217) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;"><font size="2">}</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Then we just have to make sure all of our game state
classes utilize this generic system and we�re all set. Now you can easily reuse
this state system with other keys and other projects.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869735">Making the Game Resolution Independent</a></font></h2>

<p class="MsoNoSpacing"><font size="2">One major flaw in our current game is that the entire
game play is based on the resolution of the game. This means if you were to
make the window 1280x720 the game would be much easier because the alien ships
would have to move all the way across the screen to drop down. Since all of our
classes take in a generic �fieldWidth� parameter for updates, you could choose
a new value to pass in for this and handle the drawing appropriately. This is a
very tricky thing to get right, which is why I�m merely mentioning it as
something you could look into to really polish up the game.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869736">High Scores</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Another area that would be nice to have is a high score
list which would be displayed upon a game over and let the player add their
score to the high scores list. High scores could be saved in any number of
ways. You could go a basic route and simply write out a list of the scores and
the players that achieved them:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in;"><span style="font-family: &quot;Courier New&quot;;"><font size="2">Matt
= 1200</font></span></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in;"><span style="font-family: &quot;Courier New&quot;;"><font size="2">Nick
= 800</font></span></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in;"><span style="font-family: &quot;Courier New&quot;;"><font size="2">Joe
= 200</font></span></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing"><font size="2">Then your game could read in this file and parse it into
a list of high scores. Then when the game exits, simply write out the new list
to make sure to keep this up to date.</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<h2><font size="2"><a name="_Toc195869737">Online Co-Op</a></font></h2>

<p class="MsoNoSpacing"><font size="2">Obviously one of the greatest parts of the XNA 2.0
Framework is the new networking features. A really cool thing to add to this
game would be networked co-op. Imagine having two players fighting together
from different countries to get a high score together. Such a topic was beyond
reach for this article, but the XNA Creators Club website has numerous samples
that explain networking. You can use these and others to apply networked co-op
to Alien Aggressors:</font></p>

<p class="MsoNoSpacing"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in; text-align: left; text-indent: -0.25in;" align="left"><span style="font-family: Symbol;"><font size="2">�<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></span><font size="2">Network Architectures: Peer-to-Peer - <a href="http://creators.xna.com/Headlines/developmentaspx/archive/2007/01/01/Network-Architectures_3A00_--Peer_2D00_to_2D00_Peer.aspx">http://creators.xna.com/Headlines/developmentaspx/archive/2007/01/01/Network-Architectures_3A00_--Peer_2D00_to_2D00_Peer.aspx</a></font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in; text-align: left; text-indent: -0.25in;" align="left"><span style="font-family: Symbol;"><font size="2">�<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></span><font size="2">Network Prediction Sample - <a href="http://creators.xna.com/Headlines/developmentaspx/archive/2007/01/01/Network-Prediction-Sample.aspx">http://creators.xna.com/Headlines/developmentaspx/archive/2007/01/01/Network-Prediction-Sample.aspx</a></font></p>

<p class="MsoNoSpacing" style="margin-left: 0.5in; text-align: left; text-indent: -0.25in;" align="left"><span style="font-family: Symbol;"><font size="2">�<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></span><font size="2">Network Game State Management - <a href="http://creators.xna.com/Headlines/developmentaspx/archive/2007/01/01/Network-Game-State-Management.aspx">http://creators.xna.com/Headlines/developmentaspx/archive/2007/01/01/Network-Game-State-Management.aspx</a></font></p>

<p class="MsoNoSpacing" style="text-align: left;" align="left"><font size="2">&nbsp;</font></p>

<p class="MsoNoSpacing" style="text-align: left;" align="left"><font size="2">In addition Microsoft
released a full starter kit called Net Rumble that takes advantage of
networking for online and system link play: <a href="http://creators.xna.com/Education/StarterKits.aspx">http://creators.xna.com/Education/StarterKits.aspx</a>.</font></p>

</div>

<div><font size="2"><br clear="all">

<br>
</font><h3><font size="2"><a href="http://www.ziggyware.com/downloads.php?cat_id=4&amp;download_id=111"><b>Download the Sample</b></a></font></h3><font size="2"><br>

</font><hr align="left" size="1" width="33%">

<div id="ftn1">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref1" name="_ftn1" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[1]</span></span></span></a>
Space Invaders is copyright of Taito Corporation and Midway Games: <a href="http://en.wikipedia.org/wiki/Space_Invaders">http://en.wikipedia.org/wiki/Space_Invaders</a>.</font></p>

</div>

<div id="ftn2">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref2" name="_ftn2" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[2]</span></span></span></a>
Galaxian is copyright of Namco Limited and Midway Games: <a href="http://en.wikipedia.org/wiki/Galaxian">http://en.wikipedia.org/wiki/Galaxian</a>.</font></p>

</div>

<div id="ftn3">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref3" name="_ftn3" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[3]</span></span></span></a>
For an introductory tutorial series for C#, see here: <a href="http://www.csharp-station.com/Tutorial.aspx">http://www.csharp-station.com/Tutorial.aspx</a>.</font></p>

</div>

<div id="ftn4">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref4" name="_ftn4" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[4]</span></span></span></a>
For instructions on installing XNA Game Studio 2.0, see here: <a href="http://creators.xna.com/Education/newtoxna.aspx">http://creators.xna.com/Education/newtoxna.aspx</a>.</font></p>

</div>

<div id="ftn5">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref5" name="_ftn5" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[5]</span></span></span></a>
For an article to learn about XNA Game Studio 2.0�s default game project and
the SpriteBatch functionality, see here: <a href="http://msdn2.microsoft.com/en-us/library/bb203893.aspx">http://msdn2.microsoft.com/en-us/library/bb203893.aspx</a>.</font></p>

</div>

<div id="ftn6">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref6" name="_ftn6" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[6]</span></span></span></a>
Paint.NET is a free drawing program available here: <a href="http://www.getpaint.net/">http://www.getpaint.net/</a>.</font></p>

</div>

<div id="ftn7">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref7" name="_ftn7" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[7]</span></span></span></a>
Audacity is a free audio editing program available here: <a href="http://audacity.sourceforge.net/">http://audacity.sourceforge.net/</a>.</font></p>

</div>

<div id="ftn8">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref8" name="_ftn8" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[8]</span></span></span></a>
<a href="http://www.ziggyware.com/data/AlienAggressorsContent.zip">Download The Content use in this article</a></font></p>

</div>

<div id="ftn9">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref9" name="_ftn9" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[9]</span></span></span></a>
For more on the Texture2D constructor, see here: <a href="http://msdn2.microsoft.com/en-us/library/bb195755.aspx">http://msdn2.microsoft.com/en-us/library/bb195755.aspx</a>.</font></p>

</div>

<div id="ftn10">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref10" name="_ftn10" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[10]</span></span></span></a>
For more on the Random type, see here: <a href="http://msdn2.microsoft.com/en-us/library/system.random.aspx">http://msdn2.microsoft.com/en-us/library/system.random.aspx</a>.</font></p>

</div>

<div id="ftn11">

<p class="MsoFootnoteText"><font size="2"><a href="#_ftnref11" name="_ftn11" title=""><span class="MsoFootnoteReference"><span class="MsoFootnoteReference"><span style="font-size: 10pt; font-family: &quot;Calibri&quot;,&quot;sans-serif&quot;;">[11]</span></span></span></a>
The strings we used (�SoundFX� and �Music�) were defined in the XACT project.
See Appendix B for details.</font></p>

</div>

</div>


<style>
a:link	{color:darkblue;text-decoration:none;
}

</style></div><font size="2"><br><br><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="infobar" colspan="2">
<span>Tags:</span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=1&amp;t=A" title="Tagged by itanex" alt="Tagged by itanex"><b>XNA</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=13&amp;t=A" title="Tagged by itanex" alt="Tagged by itanex"><b>Game</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=18&amp;t=A" title="Tagged by itanex" alt="Tagged by itanex"><b>Tutorial</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=273&amp;t=A" title="Tagged by itanex" alt="Tagged by itanex"><b>Beginner</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=430&amp;t=A" title="Tagged by zygote" alt="Tagged by zygote"><b>DrawableGameComponent</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=142&amp;t=A" title="Tagged by zygote" alt="Tagged by zygote"><b>Nick Gravelyn</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=369&amp;t=A" title="Tagged by zygote" alt="Tagged by zygote"><b>Over Head Shooter</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=32&amp;t=A" title="Tagged by zygote" alt="Tagged by zygote"><b>2D</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=186&amp;t=A" title="Tagged by zygote" alt="Tagged by zygote"><b>SpriteBatch</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=326&amp;t=A" title="Tagged by zygote" alt="Tagged by zygote"><b>Text</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=601&amp;t=A" title="Tagged by zygote" alt="Tagged by zygote"><b>SpriteFont</b></a></span>
</td></tr><tr><td class="infobar"><a href="http://www.ziggyware.com/viewpage.php?page_id=25&amp;n=170&amp;t=A"><b>Add Your Tag</b></a></td><td class="infobar" align="right"><a href="http://www.gamedevkicks.com/kick/?url=http://www.ziggyware.com/readarticle.php?article_id=170"><img src="readarticle.php_files/KickItImageGenerator.png" alt="kick it on GameDevKicks.com" border="0"></a>
</td></tr></tbody></table></font><div style="margin-top: 5px;"><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="infobar3"><img src="readarticle.php_files/bullet.gif" alt="">
Posted by <a href="http://www.ziggyware.com/profile.php?lookup=1">zygote</a>
on 04/22/2008 10:14
</td><td class="infobar4" align="right">25334 Reads ·
<a href="http://www.ziggyware.com/print.php?type=A&amp;item_id=170"><img src="readarticle.php_files/printer.gif" alt="Print" style="border: 0px none ; vertical-align: middle;"></a>
</td></tr></tbody></table></div></td><td class="border-right4"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft4"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain4"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright4"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>


<br><br><center><font size="3">Login and click <a href="http://www.ziggyware.com/submit.php?stype=a"><b>Here</b></a> to submit an article</font></center><br><br><br><center><form name="searchform" method="post" action="search.php">
<input name="stext" value="" class="textbox" style="width: 400px;" type="text">
<input name="stype" value="a" type="hidden">
<input name="search" value="Search Articles" class="button" type="submit"><br>
</form></center><br><table style="max-width: 600px;" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main2" width="100%">Comments</td><td class="panel-right2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table style="border: 1px solid rgb(200, 213, 223); max-width: 600px;" cellpadding="0" cellspacing="1" width="100%"><tbody><tr><td class="border-left2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="table-body">
<table class="tbl-border" style="max-width: 600px;" cellpadding="0" cellspacing="1" width="100%"></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main2" width="100%">Quick Reply</td><td class="panel-right2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="table-body">
<form name="inputform" method="post" action="readarticle.php?forum_id=18&amp;thread_id=19152&amp;article_id=170">
<table class="tbl-border" align="center" cellpadding="0" cellspacing="1">
<tbody><tr>
<td class="tbl1" align="center"><textarea name="message" cols="80" rows="7" class="textbox"></textarea><br>
<input value="b" class="button" style="font-weight: bold; width: 25px;" onclick="addText('message', '[b]', '[/b]');" type="button">
<input value="i" class="button" style="font-style: italic; width: 25px;" onclick="addText('message', '[i]', '[/i]');" type="button">
<input value="u" class="button" style="text-decoration: underline; width: 25px;" onclick="addText('message', '[u]', '[/u]');" type="button">
<input value="url" class="button" style="width: 30px;" onclick="addText('message', '[url]', '[/url]');" type="button">
<input value="mail" class="button" style="width: 35px;" onclick="addText('message', '[mail]', '[/mail]');" type="button">
<input value="img" class="button" style="width: 30px;" onclick="addText('message', '[img]', '[/img]');" type="button">
<input value="center" class="button" style="width: 45px;" onclick="addText('message', '[center]', '[/center]');" type="button">
<input value="small" class="button" style="width: 40px;" onclick="addText('message', '[small]', '[/small]');" type="button">
<input value="code" class="button" style="width: 40px;" onclick="addText('message', '[code]', '[/code]');" type="button">
<input value="quote" class="button" style="width: 45px;" onclick="addText('message', '[quote]', '[/quote]');" type="button"></td>
</tr>
<tr>
<td class="tbl2" align="center"><img src="readarticle.php_files/smile.gif" alt="smiley" onclick="insertText('message', ':)');">
<img src="readarticle.php_files/wink.gif" alt="smiley" onclick="insertText('message', ';)');">
<img src="readarticle.php_files/frown.gif" alt="smiley" onclick="insertText('message', ':|');">
<img src="readarticle.php_files/sad.gif" alt="smiley" onclick="insertText('message', ':(');">
<img src="readarticle.php_files/shock.gif" alt="smiley" onclick="insertText('message', ':o');">
<img src="readarticle.php_files/pfft.gif" alt="smiley" onclick="insertText('message', ':p');">
<img src="readarticle.php_files/cool.gif" alt="smiley" onclick="insertText('message', 'B)');">
<img src="readarticle.php_files/grin.gif" alt="smiley" onclick="insertText('message', ':D');">
<img src="readarticle.php_files/angry.gif" alt="smiley" onclick="insertText('message', ':@');">
<br>
<input name="disable_smileys" value="1" type="checkbox">Display Smileys</td>
</tr>
<tr>
<td class="tbl1" align="center"><input name="postquickreply" value="Post Quick Reply" class="button" type="submit"></td>
</tr>
</tbody></table>
</form>
</td><td class="border-right2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
</td><td class="border-right2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright2"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
</td>
<td class="side-border-right" valign="top" width="180">
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%"><a href="http://www.ziggyware.com/viewpage.php?page_id=26">Popular Tags</a></td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<span><a href="http://www.ziggyware.com/viewtag.php?tag=1" alt="1581 Uses" title="1581 Uses"><b>XNA</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=18" alt="533 Uses" title="533 Uses"><b>Tutorial</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=13" alt="231 Uses" title="231 Uses"><b>Game</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=277" alt="198 Uses" title="198 Uses"><b>Intermediate</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=273" alt="179 Uses" title="179 Uses"><b>Beginner</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=59" alt="175 Uses" title="175 Uses"><b>Sample</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=2" alt="134 Uses" title="134 Uses"><b>HLSL</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=32" alt="110 Uses" title="110 Uses"><b>2D</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=36" alt="110 Uses" title="110 Uses"><b>3D</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=272" alt="93 Uses" title="93 Uses"><b>Advanced</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=147" alt="83 Uses" title="83 Uses"><b>Website</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=25" alt="74 Uses" title="74 Uses"><b>Article</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=41" alt="60 Uses" title="60 Uses"><b>Collision Detection</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=68" alt="59 Uses" title="59 Uses"><b>Zune</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=6" alt="57 Uses" title="57 Uses"><b>Component</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=323" alt="56 Uses" title="56 Uses"><b>Code Snippet</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=546" alt="53 Uses" title="53 Uses"><b>PixelShader</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=35" alt="53 Uses" title="53 Uses"><b>Networking</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=30" alt="45 Uses" title="45 Uses"><b>Game Engine</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=60" alt="45 Uses" title="45 Uses"><b>Model</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=558" alt="44 Uses" title="44 Uses"><b>VertexShader</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=427" alt="42 Uses" title="42 Uses"><b>ContentProcessor</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=186" alt="40 Uses" title="40 Uses"><b>SpriteBatch</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=26" alt="37 Uses" title="37 Uses"><b>Animation</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=278" alt="34 Uses" title="34 Uses"><b>Content Pipeline</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=4" alt="32 Uses" title="32 Uses"><b>Physics</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=286" alt="32 Uses" title="32 Uses"><b>C#</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=158" alt="32 Uses" title="32 Uses"><b>Input</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=320" alt="30 Uses" title="30 Uses"><b>Avatar</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=5" alt="30 Uses" title="30 Uses"><b>Terrain</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=153" alt="29 Uses" title="29 Uses"><b>GUI</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=102" alt="27 Uses" title="27 Uses"><b>Performance</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=49" alt="26 Uses" title="26 Uses"><b>Tool</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=257" alt="24 Uses" title="24 Uses"><b>XNA 3.1</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=170" alt="23 Uses" title="23 Uses"><b>Physics Library</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=430" alt="23 Uses" title="23 Uses"><b>DrawableGameComponent</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=39" alt="22 Uses" title="22 Uses"><b>Shawn Hargreaves</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=164" alt="22 Uses" title="22 Uses"><b>Math</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=180" alt="21 Uses" title="21 Uses"><b>Shadow</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=16" alt="21 Uses" title="21 Uses"><b>Serialization</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=359" alt="20 Uses" title="20 Uses"><b>C++</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=267" alt="19 Uses" title="19 Uses"><b>Collision Response</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=3" alt="18 Uses" title="18 Uses"><b>Book</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=443" alt="18 Uses" title="18 Uses"><b>VertexBuffer</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=43" alt="17 Uses" title="17 Uses"><b>Lighting</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=142" alt="17 Uses" title="17 Uses"><b>Nick Gravelyn</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=14" alt="16 Uses" title="16 Uses"><b>XML</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=353" alt="16 Uses" title="16 Uses"><b>Collada</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=204" alt="15 Uses" title="15 Uses"><b>Texture</b></a></span>
<span><a href="http://www.ziggyware.com/viewtag.php?tag=444" alt="13 Uses" title="13 Uses"><b>IndexBuffer</b></a></span>
<hr><a href="http://www.ziggyware.com/viewpage.php?page_id=26"><b>View Full List</b></a></td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%"><a href="http://www.ziggyware.com/search.php">Search Ziggyware</a></td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<!-- Google CSE Search Box Begins -->
<form id="searchbox_010761076230958509591:qtdlp9avvho" action="http://google.com/cse">
<center><input name="cx" value="010761076230958509591:qtdlp9avvho" type="hidden">
<input style="border: 1px solid rgb(126, 157, 185); padding: 2px; background: rgb(255, 255, 255) url(http://www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) no-repeat scroll left center; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" name="q" size="22" type="text">
<input name="sa" value="Search" type="hidden">
<input name="cof" value="FORID:0" type="hidden"></center>
</form>
<script type="text/javascript" src="readarticle.php_files/brand.htm"></script>
<!-- Google CSE Search Box Ends -->
<br><hr><br><center><a href="http://www.ziggyware.com/search.php"><b>Advanced Search</b></a></center><br>
</td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%"><a href="http://www.ziggyware.com/photogallery.php?album_id=3">XNA Image of the Day</a></td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<center><a href="http://www.ziggyware.com/photogallery.php?photo_id=389"><img src="readarticle.php_files/screenshot_pcf_t2.png" width="166" height="106"></a><br><a href="http://www.ziggyware.com/photogallery.php?photo_id=389"><b>Semi-Transparent Shadows</b></a><br>1 comments</center><hr><center><a href="http://www.ziggyware.com/photogallery.php?photo_id=388"><img src="readarticle.php_files/prettyplane_t1.png" vspace="2" width="80" height="50" hspace="2"></a><a href="http://www.ziggyware.com/photogallery.php?photo_id=387"><img src="readarticle.php_files/kc2_t1.jpg" vspace="2" width="80" height="50" hspace="2"></a></center><br><br><center><a href="http://www.ziggyware.com/submit.php?stype=p"><b>Submit Image</b></a></center><br><br><center><a href="http://www.ziggyware.com/photogallery.php?album_id=3"><b>IOTD Archive</b></a></center></td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%"><a href="http://www.ziggyware.com/news.php?readmore=1126"><b>Donate</b></a></td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<center>Support Ziggyware contests by donating<hr>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input name="cmd" value="_s-xclick" type="hidden">
<input id="donate-PayPal" src="readarticle.php_files/x-click-but04.gif" name="submit" alt="Make payments with PayPal - it's fast, free and secure!" border="0" type="image">
<img alt="" src="readarticle.php_files/pixel.gif" border="0" width="1" height="1">
<input name="encrypted" value="-----BEGIN PKCS7-----MIIHJwYJKoZIhvcNAQcEoIIHGDCCBxQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYBHtypyekKYWCsyBDaX3KA76StQAlwI8+mfv7kFTsDJP/U5FmDKWo/k8BEss6KubF8Bc5NvRui3fyFzoY2uIQyBqvu8MJo34jVFh3QI5pv4JgAaH+1a3IsImEEbGrm+VurUFKcD6Fc8BtuOWaYGlWY1juUe7FToxyCcsfKl3aUILzELMAkGBSsOAwIaBQAwgaQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIsbixaxAsgB6AgYCnikfdonYU4IS2R/bJl+Qwk6x3Uul7OuUHXdFN4yCGXDQw/5qNVUGHcBj/WP8jvD7yE1GX5hr/ukhWJ4Og3ZuO175e5+39U/KncOIP971/9kR7S1flIPXn3AjkKpD0nCugBnpCv5bcJ9WhByq/xkFzA4k+xkKtA7lV5UPqSNxVEaCCA4cwggODMIIC7KADAgECAgEAMA0GCSqGSIb3DQEBBQUAMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbTAeFw0wNDAyMTMxMDEzMTVaFw0zNTAyMTMxMDEzMTVaMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAwUdO3fxEzEtcnI7ZKZL412XvZPugoni7i7D7prCe0AtaHTc97CYgm7NsAtJyxNLixmhLV8pyIEaiHXWAh8fPKW+R017+EmXrr9EaquPmsVvTywAAE1PMNOKqo2kl4Gxiz9zZqIajOm1fZGWcGS0f5JQ2kBqNbvbg2/Za+GJ/qwUCAwEAAaOB7jCB6zAdBgNVHQ4EFgQUlp98u8ZvF71ZP1LXChvsENZklGswgbsGA1UdIwSBszCBsIAUlp98u8ZvF71ZP1LXChvsENZklGuhgZSkgZEwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tggEAMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADgYEAgV86VpqAWuXvX6Oro4qJ1tYVIT5DgWpE692Ag422H7yRIr/9j/iKG4Thia/Oflx4TdL+IFJBAyPK9v6zZNZtBgPBynXb048hsP16l2vi0k5Q2JKiPDsEfBhGI+HnxLXEaUWAcVfCsQFvd2A1sxRr67ip5y2wwBelUecP3AjJ+YcxggGaMIIBlgIBATCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDgwNjIzMDUzMFowIwYJKoZIhvcNAQkEMRYEFHlKRtdHqe9PywPwPtWCVKGz8q2iMA0GCSqGSIb3DQEBAQUABIGAetnGvZOas8TQLCebZTQicVjrle9rNTI79e2s27okG76onbt8xd8dkYvyC3MfSwru3OZUF2sTX63T7ZFqV8nayMaE/b7altDgoWSFutm16ztXapSpu+r0eZ05HugweBMad3RbE5LvYpCez5MR5Wv9ZCBaIWEKgpqmouhrieNPYmk=-----END PKCS7-----
" type="hidden">
</form></center>
</td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%">Microsoft MVP</td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<center><a href="https://mvp.support.microsoft.com/">Microsoft XNA MVP<br>(Windows - DirectX)<br><br><img src="readarticle.php_files/mvplogo.jpg"></a></center></td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="panel-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td><td class="panel-main" width="100%"><a href="http://www.ziggyware.com/news.php?readmore=1154">XNA Article Contest</a></td><td class="panel-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="21"></td></tr></tbody></table><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td class="border-left"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td><td class="side-body">
<center><a href="http://www.ziggyware.com/news.php?readmore=1154"><img src="readarticle.php_files/articlecontest.gif"></a></center><a href="http://www.ziggyware.com/news.php?readmore=1154"><br></a><center><a href="http://www.ziggyware.com/news.php?readmore=1154">Enter the Ziggyware Summer 2009 XNA Article Contest</a></center><br><center>120 GB XBox 360, Zunes, SunBurn and More!</center><hr><center><a href="http://www.ziggyware.com/news.php?readmore=1154"><img src="readarticle.php_files/prize1_tiny.jpg"></a><a href="http://www.ziggyware.com/news.php?readmore=1154"><img src="readarticle.php_files/prize2_tiny.jpg"></a></center></td><td class="border-right"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="1"></td></tr><tr><td class="border-bleft"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td><td class="border-bmain"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="1" height="16"></td><td class="border-bright"><img src="readarticle.php_files/blank.gif" alt="" style="display: block;" width="6" height="16"></td></tr></tbody></table>
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td></td></tr></tbody></table>
</td>
</tr>
</tbody></table>
<table align="center" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><center>Copyright © Michael Morton 2006-2009</center></td></tr></tbody></table><br>
<table align="center" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td width="15"></td><td class="footer" align="left" width="38%"></td><td class="footer" align="center" width="24%"></td><td class="footer" align="right" width="38%"><strong>9865223 </strong>Unique Visits
</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></body></html>