<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>

	
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="generator" content="MediaWiki 1.13.1">
		<meta name="keywords" content="PopCap:Tutorials:Breakout:Part1,PopCap:Tutorials:Breakout:Part2">
		<link rel="shortcut icon" href="http://wiki.gamedev.net/favicon.ico">
		<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.gamedev.net/opensearch_desc.php" title="GDWiki (en)">
		<link title="Creative Commons" type="application/rdf+xml" href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=creativecommons" rel="meta">
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
		<link rel="alternate" type="application/rss+xml" title="GDWiki RSS Feed" href="http://wiki.gamedev.net/index.php?title=Special:RecentChanges&amp;feed=rss">
		<link rel="alternate" type="application/atom+xml" title="GDWiki Atom Feed" href="http://wiki.gamedev.net/index.php?title=Special:RecentChanges&amp;feed=atom">
		<title>PopCap:Tutorials:Breakout:Part1 - GDWiki</title>
		<style type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "/skins/common/shared.css?164";
			@import "/skins/monobook/main.css?164";
		/*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="PopCap%20Tutorials%20Breakout%20Part1_files/commonPrint.css">
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/monobook/IE50Fixes.css?164";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins/monobook/IE55Fixes.css?164";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins/monobook/IE60Fixes.css?164";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins/monobook/IE70Fixes.css?164";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?164"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type="text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgScript = "/index.php";
var wgVariantArticlePath = false;
var wgActionPaths = [];
var wgServer = "http://wiki.gamedev.net";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "PopCap:Tutorials:Breakout:Part1";
var wgTitle = "PopCap:Tutorials:Breakout:Part1";
var wgAction = "view";
var wgArticleId = "5424";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "26149";
var wgVersion = "1.13.1";
var wgEnableAPI = true;
var wgEnableWriteAPI = false;
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
/*]]>*/</script>
                
		<script type="text/javascript" src="PopCap%20Tutorials%20Breakout%20Part1_files/wikibits.js"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="PopCap%20Tutorials%20Breakout%20Part1_files/ajax.js"></script>
		<script type="text/javascript" src="PopCap%20Tutorials%20Breakout%20Part1_files/index.php"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
	</head><body class="mediawiki ns-0 ltr page-PopCap_Tutorials_Breakout_Part1">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">PopCap:Tutorials:Breakout:Part1</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From GDWiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tbody><tr><td><div id="toctitle"><h2>Contents</h2> <span class="toctoggle">[<a href="javascript:toggleToc()" class="internal" id="togglelink">hide</a>]</span></div>
<ul>
<li class="toclevel-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="#Preface"><span class="tocnumber">2</span> <span class="toctext">Preface</span></a></li>
<li class="toclevel-1"><a href="#Introduction_2"><span class="tocnumber">3</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="#My_Qualifications"><span class="tocnumber">4</span> <span class="toctext">My Qualifications</span></a></li>
<li class="toclevel-1"><a href="#Getting_Started"><span class="tocnumber">5</span> <span class="toctext">Getting Started</span></a>
<ul>
<li class="toclevel-2"><a href="#Configuring_the_DirectX_SDK"><span class="tocnumber">5.1</span> <span class="toctext">Configuring the DirectX SDK</span></a></li>
<li class="toclevel-2"><a href="#Downloading_the_PopCap_framework"><span class="tocnumber">5.2</span> <span class="toctext">Downloading the PopCap framework</span></a></li>
<li class="toclevel-2"><a href="#Creating_your_first_PopCap_project"><span class="tocnumber">5.3</span> <span class="toctext">Creating your first PopCap project</span></a>
<ul>
<li class="toclevel-3"><a href="#Adding_the_source_files"><span class="tocnumber">5.3.1</span> <span class="toctext">Adding the source files</span></a></li>
<li class="toclevel-3"><a href="#Adding_SexyAppBase"><span class="tocnumber">5.3.2</span> <span class="toctext">Adding SexyAppBase</span></a></li>
<li class="toclevel-3"><a href="#Configuring_the_properties"><span class="tocnumber">5.3.3</span> <span class="toctext">Configuring the properties</span></a></li>
<li class="toclevel-3"><a href="#Testing_it_out"><span class="tocnumber">5.3.4</span> <span class="toctext">Testing it out</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#For_the_truly_lazy"><span class="tocnumber">5.4</span> <span class="toctext">For the truly lazy</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Until_next_time"><span class="tocnumber">6</span> <span class="toctext">Until next time</span></a></li>
<li class="toclevel-1"><a href="#Legal_stuff"><span class="tocnumber">7</span> <span class="toctext">Legal stuff</span></a></li>
</ul>
</td></tr></tbody></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Introduction"></a><h2><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a>]</span> <span class="mw-headline">Introduction</span></h2>
<p>Hello everyone and welcome to the PopCap game development tutorial.
</p>
<a name="Preface"></a><h2><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=2" title="Edit section: Preface">edit</a>]</span> <span class="mw-headline">Preface</span></h2>
<p>A while ago I promised a book on PopCap game development. However due
 to certain factors, this book will probably never be released or 
completed. I still wanted to give back to the community for helping me 
so much when I was a novice, and as a result I decided to write this 
tutorial.
</p><p>My goal for this tutorial is to share with the audience the 
process of creating a very simple game from start to finish in the 
PopCap framework. Hopefully this will help people get past some of the 
hurdles they are facing and will inspire more development using this 
wonderful framework.
</p><p>During the development of this tutorial I struggled with the 
decision of what game to create and after much thought I decided on a 
breakout game. Pong has been done to death and I wanted something that 
would show some other elements involved in game design.
</p>
<a name="Introduction_2"></a><h2><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=3" title="Edit section: Introduction">edit</a>]</span> <span class="mw-headline">Introduction</span></h2>
<p>This tutorial is about making the game Breakout using the PopCap game
 framework. I donâ€™t assume a lot of familiarity with the PopCap 
framework, but I do expect the user of this tutorial to have an ok 
understanding of C++ and Object Oriented design concepts. There are many
 tutorials and books available for teaching C++ and I am not going to 
rehash those concepts here.
</p><p>If you are familiar with C++ and OOP concepts then please read on!
</p>
<a name="My_Qualifications"></a><h2><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=4" title="Edit section: My Qualifications">edit</a>]</span> <span class="mw-headline">My Qualifications</span></h2>
<p>I have over six years C++ experience and over ten years of game 
development experience. I am the programmer responsible for Speedy 
Solitaire which was created in the PopCap framework. It is because of 
this experience that I feel that I am qualified to write this course.
</p>
<a name="Getting_Started"></a><h2><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=5" title="Edit section: Getting Started">edit</a>]</span> <span class="mw-headline">Getting Started</span></h2>
<p>There are a number of things you will need in order to start using the PopCap framework.
</p><p>The first is a C++ compiler. PopCap uses Visual C++ and the 
latest versions no longer support Visual C++ 6.0. Luckily Visual C++ 
2005 Express is free and as such that is the version we are going to be 
using in this tutorial.
</p><p>You can download Visual C++ 2005 Express from:
</p><p><a href="http://msdn.microsoft.com/vstudio/express/visualc/" class="external free" title="http://msdn.microsoft.com/vstudio/express/visualc/" rel="nofollow">http://msdn.microsoft.com/vstudio/express/visualc/</a>
</p><p>The next thing that you will need is the Platform SDK. You can 
find detailed instructions for downloading and setting up the Platform 
SDK from:
</p><p><a href="http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/" class="external free" title="http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/" rel="nofollow">http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/</a>
</p><p>Then you will need the DirectX SDK available from:
</p><p><a href="http://msdn2.microsoft.com/en-us/xna/aa937788.aspx" class="external free" title="http://msdn2.microsoft.com/en-us/xna/aa937788.aspx" rel="nofollow">http://msdn2.microsoft.com/en-us/xna/aa937788.aspx</a>
</p><p>Microsoft likes changing the links for itâ€™s software all of the 
time so if any of the links are dead just run a Google search and make 
sure to download the full DirectX SDK.
</p>
<a name="Configuring_the_DirectX_SDK"></a><h3><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=6" title="Edit section: Configuring the DirectX SDK">edit</a>]</span> <span class="mw-headline">Configuring the DirectX SDK</span></h3>
<p>To configure the DirectX SDK with Visual C++ 2005 Express, you must 
tell Visual C++ 2005 Express where to find the Lib and Include 
directories.
</p><p>From the main menu go to <b>Tools-&gt;Options</b>
</p><p>You will see a dialog appear that looks like this:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_Options1.jpg" class="image" title="Image:PopCap_Tutorials_Options1.jpg"><img alt="Image:PopCap_Tutorials_Options1.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_Options1.jpg" width="644" border="0" height="382"></a>
</p><p>Look to the left of this dialog and locate the <b>Projects and Solutions</b> text. Click the little box with a plus in it to expand this item and then click <b>Visual C++ Directories</b>
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_VisualDir.jpg" class="image" title="Image:PopCap_Tutorials_VisualDir.jpg"><img alt="Image:PopCap_Tutorials_VisualDir.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_VisualDir.jpg" width="644" border="0" height="382"></a>
</p><p><br>
The first thing you will want to do is tell the compiler where to find 
the include directories. Look to the top of the dialog and in the combo 
box that reads <b>Show directories for</b> choose <b>Include files</b>.
</p><p>I am using the October 2006 SDK (mainly because I am too lazy to 
upgrade to the latest version) but you will want to get the August 2007 
SDK as it is the most recent DirectX SDK that supports DirectX 7. 
</p>
<div style="width: 90%; padding-top: 10px; padding-bottom: 10px;">
<div style="border: 1px dashed rgb(0, 0, 0); width: 80%; padding: 10px; margin-left: 10%; text-align: left; vertical-align: top; background-color: lightyellow;"><a href="http://wiki.gamedev.net/index.php/Image:GUITutorial_warn.gif" class="image" title="image:GUITutorial_warn.gif"><img alt="image:GUITutorial_warn.gif" src="PopCap%20Tutorials%20Breakout%20Part1_files/GUITutorial_warn.gif" width="16" border="0" height="16"></a> <b>Notice</b><br>As
 of August 2, 2008 the PopCap framework still only supports DirectX 7. A
 revision is underway to support DirectX 9 but we are waiting on PopCap 
to release it to the general public.
</div>
</div>
<p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_IncludeDir.jpg" class="image" title="Image:PopCap_Tutorials_IncludeDir.jpg"><img alt="Image:PopCap_Tutorials_IncludeDir.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_IncludeDir.jpg" width="644" border="0" height="382"></a>
</p><p>Create a new entry in this list and add the directory of your SDK include path. Mine is <b>C:\Program Files\Microsoft DirectX SDK (October 2006)\Include</b> and yours will probably be something similar.
</p><p>Now repeat this process for the library files and add that directory. My library directory is <b>C:\Program Files\Microsoft DirectX SDK (October 2006)\Lib\x86</b>
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_LibDir.jpg" class="image" title="Image:PopCap_Tutorials_LibDir.jpg"><img alt="Image:PopCap_Tutorials_LibDir.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_LibDir.jpg" width="644" border="0" height="382"></a>
</p>
<a name="Downloading_the_PopCap_framework"></a><h3><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=7" title="Edit section: Downloading the PopCap framework">edit</a>]</span> <span class="mw-headline">Downloading the PopCap framework</span></h3>
<p>Now that we hopefully have the DirectX SDK configured, we can download the PopCap SDK from:
</p><p><a href="http://developer.popcap.com/downloads.php" class="external text" title="http://developer.popcap.com/downloads.php" rel="nofollow">PopCap Framework Downloads</a>
</p><p>At the time of this writing the PopCap framework is in version 
1.3 and so that is the version of the PopCap framework that I am going 
to use for this tutorial.
</p><p>Once you have the SDK downloaded, extract the folders to a directory on your computer. I chose <b>C:\PopCap2</b> because it seemed like a good directory to store the files. You can call this directory anything you like.
</p><p>The first thing to do is go to the <b>\osframework\source\demos</b> directory and open the <b>osfd VS2005.sln</b> solution. Try to compile and run the various demos presented in the framework.
</p><p>To change the currently active project in order to try out all of
 the demos what you can do is right click a project such as Demo1 and 
from the resulting menu select <b>Set as Startup project</b>.
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_StartupProject1.jpg" class="image" title="Image:PopCap_Tutorials_StartupProject1.jpg"><img alt="Image:PopCap_Tutorials_StartupProject1.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_StartupProject1.jpg" width="800" border="0" height="578"></a>
</p><p>You can then run a project by hitting <b>F5</b>, pressing the green arrow on the toolbar, or by going to <b>Debug-&gt;Start Debugging</b>.
</p><p>If they work then you have configured everything correctly and 
you are on your way! If they donâ€™t work then refer to the 
troubleshooting tips at the end of this document.
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_Demo1.jpg" class="image" title="Image:PopCap_Tutorials_Demo1.jpg"><img alt="Image:PopCap_Tutorials_Demo1.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_Demo1.jpg" width="646" border="0" height="512"></a>
</p><p>So far we have gotten our Visual C++ 2005 Express compiler 
installed, installed the Platform SDK, installed the DirectX SDK, and 
downloaded and extracted the PopCap framework. We are now ready to begin
 our own project!
</p>
<a name="Creating_your_first_PopCap_project"></a><h3><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=8" title="Edit section: Creating your first PopCap project">edit</a>]</span> <span class="mw-headline">Creating your first PopCap project</span></h3>
<p>An area that I struggled with when I started with the PopCap 
framework was how to create my own project. The demos were cool, but I 
wanted to be able to create something of my own! Well what we are going 
to do will involve creating a new project in Visual C++ 2005 Express of 
our choosing, configuring it properly, adding the SexyAppBase, and 
adding all of the files that we need. As this process is a lot of work, a
 wise idea would be to create a <b>BareBones</b> project that you can 
copy for all of your projects later on. This will save you a ton of time
 and allow you to experiment quickly.
</p><p>Open Visual C++ 2005 Express and go to <b>File-&gt;New Project</b>. Select <b>Win32</b> under <b>Project types</b> and select <b>Win32 Console Application</b> as the template.
</p><p>Navigate to your PopCap source directory and enter <b>BareBones</b> as the name of your project.
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_NewProj.jpg" class="image" title="Image:PopCap_Tutorials_NewProj.jpg"><img alt="Image:PopCap_Tutorials_NewProj.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_NewProj.jpg" width="681" border="0" height="469"></a>
</p><p>Click <b>OK</b> and then you will see this dialog:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_AppWizard.jpg" class="image" title="Image:PopCap_Tutorials_AppWizard.jpg"><img alt="Image:PopCap_Tutorials_AppWizard.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_AppWizard.jpg" width="615" border="0" height="437"></a>
</p><p>Now click <b>Application Settings</b> and select <b>Windows Application</b> and check <b>Empty Project</b>
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_AppWizard2.jpg" class="image" title="Image:PopCap_Tutorials_AppWizard2.jpg"><img alt="Image:PopCap_Tutorials_AppWizard2.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_AppWizard2.jpg" width="615" border="0" height="437"></a>
</p><p>Click <b>Finish</b> and your project will be created.
</p>
<a name="Adding_the_source_files"></a><h4><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=9" title="Edit section: Adding the source files">edit</a>]</span> <span class="mw-headline">Adding the source files</span></h4>
<p>Now that you have a blank project we need to start adding code to it.
 The thing I did was I went through and basically copied Demo1 in my 
project but I removed all of the stuff specific to Demo1.
</p><p>For the sake of this tutorial I am going to provide the exact code I am putting in each source file.
</p><p>Create a new source file by going to <b>Project-&gt;Add New Item</b>.
</p><p>You will now see the <b>Add New Item Dialog</b>:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_AddMain.jpg" class="image" title="Image:PopCap_Tutorials_AddMain.jpg"><img alt="Image:PopCap_Tutorials_AddMain.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_AddMain.jpg" width="681" border="0" height="445"></a>
</p><p>In the dialog select <b>C++ File</b> and enter <b>main</b> as the name. When your dialog matches mine then click the <b>Add</b> button.
</p><p>Now the file you just added will be open for editing. Copy and paste the following code into <b>Main.cpp</b>:
</p>
<pre class="cpp" style="font-family: monospace;"><span style="color: rgb(102, 102, 102);">//                        main.cpp</span>
&nbsp;
&nbsp;
<span style="color: rgb(51, 153, 0);">#include "GameApp.h"</span>
&nbsp;
<span style="color: rgb(102, 102, 102);">// The SexyAppFramework resides in the "Sexy" namespace. As a convenience,</span>
<span style="color: rgb(102, 102, 102);">// you'll see in all the .cpp files "using namespace Sexy" to avoid</span>
<span style="color: rgb(102, 102, 102);">// having to prefix everything with Sexy::</span>
<span style="color: rgb(0, 0, 255);">using</span> <span style="color: rgb(0, 0, 255);">namespace</span> Sexy<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">int</span> WINAPI WinMain<span style="color: rgb(0, 128, 0);">(</span>HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, <span style="color: rgb(0, 0, 255);">int</span> nCmdShow<span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>    
&nbsp;
    <span style="color: rgb(102, 102, 102);">// Make sure to set this. Some classes, like the exception handler and custom cursors</span>
    <span style="color: rgb(102, 102, 102);">// will need to use it.</span>
    gHInstance <span style="color: rgb(0, 0, 128);">=</span> hInstance<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    <span style="color: rgb(102, 102, 102);">// Create and initialize our game application.</span>
    GameApp<span style="color: rgb(0, 0, 64);">*</span> anApp <span style="color: rgb(0, 0, 128);">=</span> <span style="color: rgb(0, 0, 221);">new</span> GameApp<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
    anApp<span style="color: rgb(0, 0, 64);">-</span><span style="color: rgb(0, 0, 128);">&gt;</span>Init<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    <span style="color: rgb(102, 102, 102);">// Starts the entire application: sets up the resource loading thread and </span>
    <span style="color: rgb(102, 102, 102);">// custom cursor thread, and enters the game loop where the application</span>
    <span style="color: rgb(102, 102, 102);">// will remain until it is shut down. You will most likely not need to</span>
    <span style="color: rgb(102, 102, 102);">// override this function.</span>
    anApp<span style="color: rgb(0, 0, 64);">-</span><span style="color: rgb(0, 0, 128);">&gt;</span>Start<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
&nbsp;
    <span style="color: rgb(0, 0, 221);">delete</span> anApp<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    <span style="color: rgb(0, 0, 255);">return</span> <span style="color: rgb(0, 0, 221);">0</span><span style="color: rgb(0, 128, 128);">;</span>
<span style="color: rgb(0, 128, 0);">}</span></pre>
<p>WinMain is the Windows API equivalent of the main function in C++ 
console programming. This function just creates a new instance of our 
GameApp class and basically starts our entire program running.
</p><p>Now we will add a header file. Go to <b>Project-&gt;Add New Item</b> again, but this time select <b>Header File</b> and for the name enter <b>GameApp</b>.
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_AddGameApp.jpg" class="image" title="Image:PopCap_Tutorials_AddGameApp.jpg"><img alt="Image:PopCap_Tutorials_AddGameApp.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_AddGameApp.jpg" width="681" border="0" height="445"></a>
</p><p>Now in this header file add the following code:
</p>
<pre class="cpp" style="font-family: monospace;"><span style="color: rgb(51, 153, 0);">#ifndef __GAMEAPP_H__</span>
<span style="color: rgb(51, 153, 0);">#define __GAMEAPP_H__</span>
&nbsp;
&nbsp;
<span style="color: rgb(51, 153, 0);">#include "SexyAppFramework/SexyAppBase.h"</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">namespace</span> Sexy
<span style="color: rgb(0, 128, 0);">{</span>
    <span style="color: rgb(0, 0, 255);">class</span> Board<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">class</span> GameApp <span style="color: rgb(0, 128, 128);">:</span> <span style="color: rgb(0, 0, 255);">public</span> SexyAppBase
<span style="color: rgb(0, 128, 0);">{</span>
&nbsp;
    <span style="color: rgb(0, 0, 255);">private</span><span style="color: rgb(0, 128, 128);">:</span>
&nbsp;
        Board<span style="color: rgb(0, 0, 64);">*</span>        mBoard<span style="color: rgb(0, 128, 128);">;</span>    
&nbsp;
&nbsp;
    <span style="color: rgb(0, 0, 255);">public</span><span style="color: rgb(0, 128, 128);">:</span>
&nbsp;
        GameApp<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
        <span style="color: rgb(0, 0, 255);">virtual</span> ~GameApp<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
        <span style="color: rgb(0, 0, 255);">virtual</span> <span style="color: rgb(0, 0, 255);">void</span>    Init<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
        <span style="color: rgb(0, 0, 255);">virtual</span> <span style="color: rgb(0, 0, 255);">void</span>    LoadingThreadProc<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
        <span style="color: rgb(0, 0, 255);">virtual</span> <span style="color: rgb(0, 0, 255);">void</span>    LoadingThreadCompleted<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
<span style="color: rgb(0, 128, 0);">}</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
&nbsp;
<span style="color: rgb(51, 153, 0);">#endif    // __GAMEAPP_H__</span></pre>
<p>This code prototypes our GameApp class which inherits from 
SexyAppBase. The reason for not using SexyAppBase directly is that by 
making the GameApp class, we can define our own code in the various 
methods. If you are not familiar with the concept of inheritance then 
this would be a good time to stop and learn C++ as this tutorial is over
 your head!
</p><p>The reason I removed the massive amount of commenting that is 
available from this same code in the demos, is that if you intend to use
 this code in your future projects then eventually such comments will 
just get in the way. The idea is to provide a clean framework from which
 to build your projects, so if you are looking for an explanation as to 
what all of these functions do then I would recommend checking out the 
included demos.
</p><p>Now we continue on and add a new source file <b>GameApp.cpp</b> and add the following code to it:
</p>
<pre class="cpp" style="font-family: monospace;"><span style="color: rgb(51, 153, 0);">#include "GameApp.h"</span>
<span style="color: rgb(51, 153, 0);">#include "Board.h"</span>
<span style="color: rgb(51, 153, 0);">#include "SexyAppFramework/WidgetManager.h"</span>
<span style="color: rgb(51, 153, 0);">#include "SexyAppFramework/Common.h"</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">using</span> <span style="color: rgb(0, 0, 255);">namespace</span> Sexy<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
&nbsp;
GameApp<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">GameApp</span><span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
    mProdName <span style="color: rgb(0, 0, 128);">=</span> <span style="color: rgb(255, 0, 0);">"BareBones"</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    mProductVersion <span style="color: rgb(0, 0, 128);">=</span> <span style="color: rgb(255, 0, 0);">"1.0"</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    mTitle <span style="color: rgb(0, 0, 128);">=</span> StringToSexyStringFast<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(255, 0, 0);">"SexyAppFramework: "</span> <span style="color: rgb(0, 0, 64);">+</span> mProdName <span style="color: rgb(0, 0, 64);">+</span> <span style="color: rgb(255, 0, 0);">" - "</span> <span style="color: rgb(0, 0, 64);">+</span> mProductVersion<span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    mRegKey <span style="color: rgb(0, 0, 128);">=</span> <span style="color: rgb(255, 0, 0);">"PopCap<span style="color: rgb(102, 102, 102); font-weight: bold;">\\</span>SexyAppFramework<span style="color: rgb(102, 102, 102); font-weight: bold;">\\</span>BareBones"</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    mWidth <span style="color: rgb(0, 0, 128);">=</span> <span style="color: rgb(0, 0, 221);">640</span><span style="color: rgb(0, 128, 128);">;</span>
    mHeight <span style="color: rgb(0, 0, 128);">=</span> <span style="color: rgb(0, 0, 221);">480</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    mBoard <span style="color: rgb(0, 0, 128);">=</span> <span style="color: rgb(0, 0, 255);">NULL</span><span style="color: rgb(0, 128, 128);">;</span>
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
GameApp<span style="color: rgb(0, 128, 128);">::</span>~GameApp<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
    mWidgetManager<span style="color: rgb(0, 0, 64);">-</span><span style="color: rgb(0, 0, 128);">&gt;</span>RemoveWidget<span style="color: rgb(0, 128, 0);">(</span>mBoard<span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
    <span style="color: rgb(0, 0, 221);">delete</span> mBoard<span style="color: rgb(0, 128, 128);">;</span>
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">void</span> GameApp<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">Init</span><span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
&nbsp;
    SexyAppBase<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">Init</span><span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">void</span> GameApp<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">LoadingThreadProc</span><span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
&nbsp;
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">void</span> GameApp<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">LoadingThreadCompleted</span><span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
    SexyAppBase<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">LoadingThreadCompleted</span><span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    <span style="color: rgb(102, 102, 102);">//Load stuff here</span>
&nbsp;
    <span style="color: rgb(0, 0, 255);">if</span> <span style="color: rgb(0, 128, 0);">(</span>mLoadingFailed<span style="color: rgb(0, 128, 0);">)</span>
        <span style="color: rgb(0, 0, 255);">return</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    mBoard <span style="color: rgb(0, 0, 128);">=</span> <span style="color: rgb(0, 0, 221);">new</span> Board<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 0, 221);">this</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    mBoard<span style="color: rgb(0, 0, 64);">-</span><span style="color: rgb(0, 0, 128);">&gt;</span>Resize<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 0, 221);">0</span>, <span style="color: rgb(0, 0, 221);">0</span>, mWidth, mHeight<span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
    mWidgetManager<span style="color: rgb(0, 0, 64);">-</span><span style="color: rgb(0, 0, 128);">&gt;</span>AddWidget<span style="color: rgb(0, 128, 0);">(</span>mBoard<span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
<span style="color: rgb(0, 128, 0);">}</span></pre>
<p>Here we define the GameApp class that we prototyped in the GameApp 
header. In the constructor we have set a number of variables for our 
project such as the name of the project and the width and height of the 
window. Later on we are going to explore these variables and alter them.
</p><p>PopCap uses something called a Widget. A <b>Widget</b> is a self 
contained unit that has itâ€™s own update, drawing, and input processing 
methods. These widgets are managed by something called a <b>Widget Manager</b>
 which allows us to manage multiple widgets at one time. In the GameApp 
destructor you see that we are removing something called the <b>Board</b>
 widget from our widget manager and in the LoadingThreadCompleted method
 we are creating this widget, sizing it to the window size, and adding 
it to our widget manager. This Board widget is where our game will take 
place, but later on we can add other widgets for title screens and 
menus.
</p><p>We will now add the code for our Board widget.
</p><p>Letâ€™s create the <b>Board.h</b> header and add the following code to it:
</p>
<pre class="cpp" style="font-family: monospace;"><span style="color: rgb(51, 153, 0);">#ifndef __BOARD_H__</span>
<span style="color: rgb(51, 153, 0);">#define __BOARD_H__</span>
&nbsp;
<span style="color: rgb(51, 153, 0);">#include "SexyAppFramework/Widget.h"</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">namespace</span> Sexy
<span style="color: rgb(0, 128, 0);">{</span>
<span style="color: rgb(0, 0, 255);">class</span> Graphics<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">class</span> GameApp<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">class</span> Board <span style="color: rgb(0, 128, 128);">:</span> <span style="color: rgb(0, 0, 255);">public</span> Widget
<span style="color: rgb(0, 128, 0);">{</span>
&nbsp;
    <span style="color: rgb(0, 0, 255);">private</span><span style="color: rgb(0, 128, 128);">:</span>
&nbsp;
        GameApp<span style="color: rgb(0, 0, 64);">*</span>    mApp<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
&nbsp;
    <span style="color: rgb(0, 0, 255);">public</span><span style="color: rgb(0, 128, 128);">:</span>
&nbsp;
        Board<span style="color: rgb(0, 128, 0);">(</span>GameApp<span style="color: rgb(0, 0, 64);">*</span> theApp<span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
        <span style="color: rgb(0, 0, 255);">virtual</span> ~Board<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
        <span style="color: rgb(0, 0, 255);">virtual</span> <span style="color: rgb(0, 0, 255);">void</span> Draw<span style="color: rgb(0, 128, 0);">(</span>Graphics<span style="color: rgb(0, 0, 64);">*</span> g<span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
        <span style="color: rgb(0, 0, 255);">virtual</span> <span style="color: rgb(0, 0, 255);">void</span> Update<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
<span style="color: rgb(0, 128, 0);">}</span><span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
&nbsp;
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
<span style="color: rgb(51, 153, 0);">#endif // __BOARD_H__</span></pre>
<p>This code prototypes our Board class and inherits from the Widget 
class. This means tht our Board class is a widget and where we get the 
term <b>Board Widget</b> from. Currently our Board widget will let us 
override the Draw and Update methods, but later on we will expose more 
methods that we can define.
</p><p>Now we add the <b>Board.cpp</b> source file and give it the following code:
</p>
<pre class="cpp" style="font-family: monospace;"><span style="color: rgb(51, 153, 0);">#include "Board.h"</span>
<span style="color: rgb(51, 153, 0);">#include "SexyAppFramework/Graphics.h"</span>
&nbsp;
<span style="color: rgb(51, 153, 0);">#include "SexyAppFramework/Color.h"</span>
&nbsp;
<span style="color: rgb(51, 153, 0);">#include "SexyAppFramework/Point.h"</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">using</span> <span style="color: rgb(0, 0, 255);">namespace</span> Sexy<span style="color: rgb(0, 128, 128);">;</span>
&nbsp;
Board<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">Board</span><span style="color: rgb(0, 128, 0);">(</span>GameApp<span style="color: rgb(0, 0, 64);">*</span> theApp<span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
    mApp <span style="color: rgb(0, 0, 128);">=</span> theApp<span style="color: rgb(0, 128, 128);">;</span>
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
Board<span style="color: rgb(0, 128, 128);">::</span>~Board<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">void</span> Board<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">Update</span><span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
    Widget<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">Update</span><span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
    <span style="color: rgb(102, 102, 102);">//Your update code here!</span>
    MarkDirty<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span>
<span style="color: rgb(0, 128, 0);">}</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">void</span> Board<span style="color: rgb(0, 128, 128);">::</span><span style="color: rgb(0, 119, 136);">Draw</span><span style="color: rgb(0, 128, 0);">(</span>Graphics<span style="color: rgb(0, 0, 64);">*</span> g<span style="color: rgb(0, 128, 0);">)</span>
<span style="color: rgb(0, 128, 0);">{</span>
    g<span style="color: rgb(0, 0, 64);">-</span><span style="color: rgb(0, 0, 128);">&gt;</span>SetColor<span style="color: rgb(0, 128, 0);">(</span>Color<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 0, 221);">0</span>,<span style="color: rgb(0, 0, 221);">0</span>,<span style="color: rgb(0, 0, 221);">0</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span> <span style="color: rgb(102, 102, 102);">//Set black color</span>
    g<span style="color: rgb(0, 0, 64);">-</span><span style="color: rgb(0, 0, 128);">&gt;</span>FillRect<span style="color: rgb(0, 128, 0);">(</span><span style="color: rgb(0, 0, 221);">0</span>, <span style="color: rgb(0, 0, 221);">0</span>, mWidth, mHeight<span style="color: rgb(0, 128, 0);">)</span><span style="color: rgb(0, 128, 128);">;</span> <span style="color: rgb(102, 102, 102);">//Fill screen with current color</span>
    <span style="color: rgb(102, 102, 102);">//Draw here</span>
<span style="color: rgb(0, 128, 0);">}</span></pre>
<p>This code defines all of the methods for our Board widget that were prototyped in <b>Board.h</b>.
 The thing to note here is the Draw method which fills the screen with a
 black color. Later on we will expand both the Update and Draw methods.
</p><p>The good news is that all of the code that we need for our 
BareBones project is now implemented, but the bad news is that we still 
have to configure our project! We have made progress but we still have a
 good ways to go so now would be a good time to save your work.
</p>
<a name="Adding_SexyAppBase"></a><h4><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=10" title="Edit section: Adding SexyAppBase">edit</a>]</span> <span class="mw-headline">Adding SexyAppBase</span></h4>
<p>The next thing we should do is add the SexyAppBase to our solution 
and make our project dependant on it. This is a very important step and a
 reason that a lot of beginners experience errors.
</p>
<div style="width: 90%; padding-top: 10px; padding-bottom: 10px;">
<div style="border: 1px dashed rgb(0, 0, 0); width: 80%; padding: 10px; margin-left: 10%; text-align: left; vertical-align: top; background-color: lightyellow;"><a href="http://wiki.gamedev.net/index.php/Image:GUITutorial_warn.gif" class="image" title="image:GUITutorial_warn.gif"><img alt="image:GUITutorial_warn.gif" src="PopCap%20Tutorials%20Breakout%20Part1_files/GUITutorial_warn.gif" width="16" border="0" height="16"></a> <b>Notice</b><br>Failure
 to follow this step will result in build errors. If you are 
experiencing a lot of errors when building your project then ensure that
 you have followed these steps correctly.
</div>
</div>
<p><b>Right click</b> the solution in the <b>Solution Explorer</b> and from the resulting menu select <b>Add-&gt;Existing Project</b>.
</p><p>Navigate to your <b>Source\SexyAppFramework</b> folder and locate the <b>SexyAppBase VS2005.vcproj</b> file. Select this file and click <b>Open</b>.
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_SelectSexy.jpg" class="image" title="Image:PopCap_Tutorials_SelectSexy.jpg"><img alt="Image:PopCap_Tutorials_SelectSexy.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_SelectSexy.jpg" width="601" border="0" height="393"></a>
</p><p>Now that this project is added to our solution, <i>right click'</i> our <b>Barebones</b> project and select <b>Project Dependencies</b> from the resulting menu. 
</p><p>In the <b>Depends on</b> list, check <b>SexyAppBase</b> and click <b>OK</b>.
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_Depends.jpg" class="image" title="Image:PopCap_Tutorials_Depends.jpg"><img alt="Image:PopCap_Tutorials_Depends.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_Depends.jpg" width="386" border="0" height="368"></a>
</p><p>Our BareBones project now depends on SexyAppBase! This adds all of the framework code into our solution and allows us to use it.
</p>
<a name="Configuring_the_properties"></a><h4><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=11" title="Edit section: Configuring the properties">edit</a>]</span> <span class="mw-headline">Configuring the properties</span></h4>
<p>The final step in creating a PopCap framework project is to configure
 the properties. This is a very tedious task so try to follow the 
directions exactly.
</p><p>Go to <b>Project-&gt;BareBones</b> properties.
</p><p>You should see this dialog:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_BareBoneProps.jpg" class="image" title="Image:PopCap_Tutorials_BareBoneProps.jpg"><img alt="Image:PopCap_Tutorials_BareBoneProps.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_BareBoneProps.jpg" width="749" border="0" height="521"></a>
</p><p>Make sure the <b>General</b> tab is selected and change <b>Use Unicode character set</b> to <b>Use Multi-Byte character set</b>. 
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_BareBoneGen.jpg" class="image" title="Image:PopCap_Tutorials_BareBoneGen.jpg"><img alt="Image:PopCap_Tutorials_BareBoneGen.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_BareBoneGen.jpg" width="749" border="0" height="521"></a>
</p><p>Make sure your general properties are similar to mine.
</p><p>Next locate the <b>C\C++ entry</b> and expand it. For the <b>Additional Include Directories</b> edit it so it reads <b>..\;..\..</b> and change the <b>Program Database for Edit and Continue</b> to <b>Program Database</b>
</p><p>Make sure the C/C++ tab looks like mine:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_BareBoneC.jpg" class="image" title="Image:PopCap_Tutorials_BareBoneC.jpg"><img alt="Image:PopCap_Tutorials_BareBoneC.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_BareBoneC.jpg" width="749" border="0" height="521"></a>
</p><p>Now click the <b>Code Generation</b> tab and change <b>Enable Minimal Rebuild</b> to <b>No</b>. Then change the <b>Runtime Library</b> to <b>Multithreaded Debug</b>
</p><p>Make sure your Code Generation tab looks like mine:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials-BareCodeGen.jpg" class="image" title="Image:PopCap_Tutorials-BareCodeGen.jpg"><img alt="Image:PopCap_Tutorials-BareCodeGen.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials-BareCodeGen.jpg" width="749" border="0" height="521"></a>
</p><p>Now click and expand the <b>Linker</b> entry. Change <b>Enable Incremental Linking</b> to <b>No</b>
</p><p>Make sure your Linker tab looks like mine:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_Linker.jpg" class="image" title="Image:PopCap_Tutorials_Linker.jpg"><img alt="Image:PopCap_Tutorials_Linker.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_Linker.jpg" width="749" border="0" height="521"></a>
</p><p>Now switch to the <b>Input</b> entry and in <b>Additional Dependencies</b> change it to <b>winmm.lib wsock32.lib gdi32.lib advapi32.lib shell32.lib</b>
</p><p>Make sure your Input tab looks like mine:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_InputTab.jpg" class="image" title="Image:PopCap_Tutorials_InputTab.jpg"><img alt="Image:PopCap_Tutorials_InputTab.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_InputTab.jpg" width="749" border="0" height="521"></a>
</p><p>Next switch to the <b>Debugging</b> entry and change <b>Generate Map File</b> to <b>Yes</b> . change <b>Map File Name</b> to <b>BareBones.map</b>, and change <b>Map Exports</b> to <b>Yes</b>.
</p><p>Make sure your Debbuging tab looks like mine:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_DebugTab.jpg" class="image" title="Image:PopCap_Tutorials_DebugTab.jpg"><img alt="Image:PopCap_Tutorials_DebugTab.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_DebugTab.jpg" width="749" border="0" height="521"></a>
</p>
<a name="Testing_it_out"></a><h4><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=12" title="Edit section: Testing it out">edit</a>]</span> <span class="mw-headline">Testing it out</span></h4>
<p>Now try pressing <b>F5</b> to see the result of all of your hard work! If you
see an error message like:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_Error.jpg" class="image" title="Image:PopCap_Tutorials_Error.jpg"><img alt="Image:PopCap_Tutorials_Error.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_Error.jpg" width="308" border="0" height="126"></a>
</p><p>That means that you donâ€™t have Bass.dll on your system. Either download it or in the GameApp constructor add the following code:
</p>
<pre class="cpp" style="font-family: monospace;">mNoSoundNeeded<span style="color: rgb(0, 0, 128);">=</span><span style="color: rgb(0, 0, 255);">true</span><span style="color: rgb(0, 128, 128);">;</span></pre>
<p>This will remove the need for Bass.dll and allow you to see the 
result of your work (although if you want sound you will need to change 
this later). I recommend that you build this no sound needed thing into 
your BareBones project so that you can build simple demos and share them
 with your impressed friends and family without the need to have them 
download Bass.dll (It has happened to me quite a few times before).
</p><p>This is how your hard work should look when it is all working:
</p><p><a href="http://wiki.gamedev.net/index.php/Image:PopCap_Tutorials_Success.jpg" class="image" title="Image:PopCap_Tutorials_Success.jpg"><img alt="Image:PopCap_Tutorials_Success.jpg" src="PopCap%20Tutorials%20Breakout%20Part1_files/PopCap_Tutorials_Success.jpg" width="646" border="0" height="512"></a>
</p><p>Now that you have seen just how hard it is to create a PopCap 
framework project, you can understand why I told you to make it once and
 reuse it!
</p><p>Now if you wanted to add <b>Release</b> functionality to your 
projects in your BareBones project then just duplicate the Release 
settings for Demo1 in the Demos like I did for Debug mode in this 
tutorial. Just be careful as it is really easy to screw something up or 
miss something! Check everything to make sure the settings are the same.
</p>
<a name="For_the_truly_lazy"></a><h3><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=13" title="Edit section: For the truly lazy">edit</a>]</span> <span class="mw-headline">For the truly lazy</span></h3>
<p>For the lazy people out there, I have zipped my BareBones project which has Release mode configured and it is downloadable here:
</p><p><a href="http://www.donaldsmay.com/private/BareBones.zip" class="external text" title="http://www.donaldsmay.com/private/BareBones.zip" rel="nofollow">BareBones.zip</a>
</p><p>The code should work fine but you may need to readd the SexyAppBase project as it might be relative to my computer.
</p>
<a name="Until_next_time"></a><h2><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=14" title="Edit section: Until next time">edit</a>]</span> <span class="mw-headline">Until next time</span></h2>
<p>Well this concludes part one of my PopCap tutorial! I hope you 
enjoyed what I have written so far. In the next tutorial we are going to
 start using the project template that we just created! Go to <a href="http://wiki.gamedev.net/index.php/PopCap:Tutorials:Breakout:Part2" title="PopCap:Tutorials:Breakout:Part2">Part 2</a>
</p>
<a name="Legal_stuff"></a><h2><span class="editsection">[<a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit&amp;section=15" title="Edit section: Legal stuff">edit</a>]</span> <span class="mw-headline">Legal stuff</span></h2>
<p>I take no responsibility what so ever for any damages or liabilities 
from the code and/or information presented in this tutorial. This 
tutorial is provided AS-IS with no warranty what so ever.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 48/1000000
Post-expand include size: 927/2097152 bytes
Template argument size: 363/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key gpwiki:pcache:idhash:5424-0!1!0!!en!2 and timestamp 20101223174917 -->
<div class="printfooter">
Retrieved from "<a href="http://wiki.gamedev.net/index.php/PopCap:Tutorials:Breakout:Part1">http://wiki.gamedev.net/index.php/PopCap:Tutorials:Breakout:Part1</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="http://wiki.gamedev.net/index.php/PopCap:Tutorials:Breakout:Part1" title="View the content page [alt-shift-c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="http://wiki.gamedev.net/index.php?title=Talk:PopCap:Tutorials:Breakout:Part1&amp;action=edit" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=edit" title="You can edit this page.
Please use the preview button before saving. [alt-shift-e]" accesskey="e">Edit</a></li>
				 <li id="ca-history"><a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;action=history" title="Past versions of this page. [alt-shift-h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="http://wiki.gamedev.net/index.php?title=Special:UserLogin&amp;returnto=PopCap:Tutorials:Breakout:Part1" title="You are encouraged to log in, it is not mandatory however. [alt-shift-o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(&quot;/stylesheets/images/wiki.png&quot;);" href="http://wiki.gamedev.net/index.php/Main_Page" title="Visit the Main Page [alt-shift-z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-mainpage"><a href="http://gpwiki.org/" title="Visit the Main Page [alt-shift-z]" accesskey="z">Main Page</a></li>
				<li id="n-Message-Board"><a href="http://gpwiki.org/forums">Message Board</a></li>
				<li id="n-currentevents"><a href="http://wiki.gamedev.net/index.php/GDWiki:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="http://wiki.gamedev.net/index.php/Special:Recentchanges" title="The list of recent changes in the wiki. [alt-shift-r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="http://wiki.gamedev.net/index.php/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="http://wiki.gamedev.net/index.php/Help:Contents" title="The place to find out.">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-categories">
		<h5>Categories</h5>
		<div class="pBody">
			<ul>
				<li id="n-introduction"><a href="http://wiki.gamedev.net/index.php/Introduction">introduction</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" title="Search GDWiki [alt-shift-f]" accesskey="f" type="text">
				<input name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists" type="submit">&nbsp;
				<input name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" type="submit">
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://wiki.gamedev.net/index.php/Special:WhatLinksHere/PopCap:Tutorials:Breakout:Part1" title="List of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://wiki.gamedev.net/index.php/Special:RecentChangesLinked/PopCap:Tutorials:Breakout:Part1" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="http://wiki.gamedev.net/index.php/Special:Upload" title="Upload files [alt-shift-u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="http://wiki.gamedev.net/index.php/Special:SpecialPages" title="List of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;printable=yes" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="http://wiki.gamedev.net/index.php?title=PopCap:Tutorials:Breakout:Part1&amp;oldid=26149" title="Permanent link to this version of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="PopCap%20Tutorials%20Breakout%20Part1_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki"></a></div>
				<div id="f-copyrightico"><a href="http://www.gnu.org/copyleft/fdl.html"><img src="PopCap%20Tutorials%20Breakout%20Part1_files/gnu-fdl.png" alt="GNU Free Documentation License 1.2"></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified on 9 January 2009, at 13:57.</li>
				<li id="copyright">Content is available under <a href="http://www.gnu.org/copyleft/fdl.html" class="external " title="http://www.gnu.org/copyleft/fdl.html" rel="nofollow">GNU Free Documentation License 1.2</a>.</li>
				<li id="privacy"><a href="http://wiki.gamedev.net/index.php/GDWiki:Privacy_policy" title="GDWiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="http://wiki.gamedev.net/index.php/GDWiki:About" title="GDWiki:About">About GDWiki</a></li>
				<li id="disclaimer"><a href="http://wiki.gamedev.net/index.php/GDWiki:General_disclaimer" title="GDWiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.299 secs. --><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? 
"https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + 
"google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="PopCap%20Tutorials%20Breakout%20Part1_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6779482-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body></html>